/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var Ql=Object.create;var Wn=Object.defineProperty;var Xl=Object.getOwnPropertyDescriptor;var ec=Object.getOwnPropertyNames;var tc=Object.getPrototypeOf,nc=Object.prototype.hasOwnProperty;var xr=t=>Wn(t,"__esModule",{value:!0});var Xe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qi=(t,e)=>{xr(t);for(var n in e)Wn(t,n,{get:e[n],enumerable:!0})},ic=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ec(e))!nc.call(t,i)&&i!=="default"&&Wn(t,i,{get:()=>e[i],enumerable:!(n=Xl(e,i))||n.enumerable});return t},K=t=>ic(xr(Wn(t!=null?Ql(tc(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var m=(t,e,n)=>new Promise((i,s)=>{var r=u=>{try{o(n.next(u))}catch(c){s(c)}},a=u=>{try{o(n.throw(u))}catch(c){s(c)}},o=u=>u.done?i(u.value):Promise.resolve(u.value).then(r,a);o((n=n.apply(t,e)).next())});var Tr=Xe((ep,Sr)=>{Sr.exports=Cr;function Cr(t,e,n,i){if(typeof n!="function")throw new Error("method for before hook must be a function");return i||(i={}),Array.isArray(e)?e.reverse().reduce(function(s,r){return Cr.bind(null,t,r,s,i)},n)():Promise.resolve().then(function(){return t.registry[e]?t.registry[e].reduce(function(s,r){return r.hook.bind(null,s,i)},n)():n(i)})}});var Rr=Xe((tp,Pr)=>{Pr.exports=sc;function sc(t,e,n,i){var s=i;t.registry[n]||(t.registry[n]=[]),e==="before"&&(i=function(r,a){return Promise.resolve().then(s.bind(null,a)).then(r.bind(null,a))}),e==="after"&&(i=function(r,a){var o;return Promise.resolve().then(r.bind(null,a)).then(function(u){return o=u,s(o,a)}).then(function(){return o})}),e==="error"&&(i=function(r,a){return Promise.resolve().then(r.bind(null,a)).catch(function(o){return s(o,a)})}),t.registry[n].push({hook:i,orig:s})}});var Ar=Xe((np,Or)=>{Or.exports=rc;function rc(t,e,n){if(!!t.registry[e]){var i=t.registry[e].map(function(s){return s.orig}).indexOf(n);i!==-1&&t.registry[e].splice(i,1)}}});var Vr=Xe((ip,ln)=>{var Nr=Tr(),ac=Rr(),oc=Ar(),Lr=Function.bind,Mr=Lr.bind(Lr);function Br(t,e,n){var i=Mr(oc,null).apply(null,n?[e,n]:[e]);t.api={remove:i},t.remove=i,["before","error","after","wrap"].forEach(function(s){var r=n?[e,s,n]:[e,s];t[s]=t.api[s]=Mr(ac,null).apply(null,r)})}function uc(){var t="h",e={registry:{}},n=Nr.bind(null,e,t);return Br(n,e,t),n}function Ir(){var t={registry:{}},e=Nr.bind(null,t);return Br(e,t),e}var $r=!1;function Mt(){return $r||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),$r=!0),Ir()}Mt.Singular=uc.bind();Mt.Collection=Ir.bind();ln.exports=Mt;ln.exports.Hook=Mt;ln.exports.Singular=Mt.Singular;ln.exports.Collection=Mt.Collection});var Zr=Xe(($t,zr)=>{"use strict";var Fc=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},gt=Fc();zr.exports=$t=gt.fetch;gt.fetch&&($t.default=gt.fetch.bind(gt));$t.Headers=gt.Headers;$t.Request=gt.Request;$t.Response=gt.Response});var Qr=Xe((lp,Jr)=>{Jr.exports=Yr;function Yr(t,e){if(t&&e)return Yr(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){n[i]=t[i]}),n;function n(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];var r=t.apply(this,i),a=i[i.length-1];return typeof r=="function"&&r!==a&&Object.keys(a).forEach(function(o){r[o]=a[o]}),r}}});var ta=Xe((cp,zi)=>{var Xr=Qr();zi.exports=Xr(Zn);zi.exports.strict=Xr(ea);Zn.proto=Zn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Zn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ea(this)},configurable:!0})});function Zn(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function ea(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}});var js=Xe(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});require("obsidian");var lt=class extends Error{},go=class extends lt{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},bo=class extends lt{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Do=class extends lt{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Wt=class extends lt{},gs=class extends lt{constructor(e){super(`Invalid unit ${e}`)}},Ce=class extends lt{},tt=class extends lt{constructor(){super("Zone is an abstract class")}},R="numeric",Le="short",Se="long",bi={year:R,month:R,day:R},yo={year:R,month:Le,day:R},Sd={year:R,month:Le,day:R,weekday:Le},wo={year:R,month:Se,day:R},Fo={year:R,month:Se,day:R,weekday:Se},vo={hour:R,minute:R},Eo={hour:R,minute:R,second:R},ko={hour:R,minute:R,second:R,timeZoneName:Le},xo={hour:R,minute:R,second:R,timeZoneName:Se},Co={hour:R,minute:R,hourCycle:"h23"},So={hour:R,minute:R,second:R,hourCycle:"h23"},To={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:Le},Po={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:Se},Ro={year:R,month:R,day:R,hour:R,minute:R},Oo={year:R,month:R,day:R,hour:R,minute:R,second:R},Ao={year:R,month:Le,day:R,hour:R,minute:R},No={year:R,month:Le,day:R,hour:R,minute:R,second:R},Td={year:R,month:Le,day:R,weekday:Le,hour:R,minute:R},Lo={year:R,month:Se,day:R,hour:R,minute:R,timeZoneName:Le},Mo={year:R,month:Se,day:R,hour:R,minute:R,second:R,timeZoneName:Le},Bo={year:R,month:Se,day:R,weekday:Se,hour:R,minute:R,timeZoneName:Se},Io={year:R,month:Se,day:R,weekday:Se,hour:R,minute:R,second:R,timeZoneName:Se},Kt=class{get type(){throw new tt}get name(){throw new tt}get ianaName(){return this.name}get isUniversal(){throw new tt}offsetName(e,n){throw new tt}formatOffset(e,n){throw new tt}offset(e){throw new tt}equals(e){throw new tt}get isValid(){throw new tt}},bs=null,xn=class extends Kt{static get instance(){return bs===null&&(bs=new xn),bs}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return Qo(e,n,i)}formatOffset(e,n){return Pn(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Di={};function Pd(t){return Di[t]||(Di[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Di[t]}var Rd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Od(t,e){let n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,s,r,a,o,u,c,d]=i;return[a,s,r,o,u,c,d]}function Ad(t,e){let n=t.formatToParts(e),i=[];for(let s=0;s<n.length;s++){let{type:r,value:a}=n[s],o=Rd[r];r==="era"?i[o]=a:H(o)||(i[o]=parseInt(a,10))}return i}var yi={},Ke=class extends Kt{static create(e){return yi[e]||(yi[e]=new Ke(e)),yi[e]}static resetCache(){yi={},Di={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(n){return!1}}constructor(e){super();this.zoneName=e,this.valid=Ke.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return Qo(e,n,i,this.name)}formatOffset(e,n){return Pn(this.offset(e),n)}offset(e){let n=new Date(e);if(isNaN(n))return NaN;let i=Pd(this.name),[s,r,a,o,u,c,d]=i.formatToParts?Ad(i,n):Od(i,n);o==="BC"&&(s=-Math.abs(s)+1);let f=Ei({year:s,month:r,day:a,hour:u===24?0:u,minute:c,second:d,millisecond:0}),y=+n,F=y%1e3;return y-=F>=0?F:1e3+F,(f-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},$o={};function Nd(t,e={}){let n=JSON.stringify([t,e]),i=$o[n];return i||(i=new Intl.ListFormat(t,e),$o[n]=i),i}var Ds={};function ys(t,e={}){let n=JSON.stringify([t,e]),i=Ds[n];return i||(i=new Intl.DateTimeFormat(t,e),Ds[n]=i),i}var ws={};function Ld(t,e={}){let n=JSON.stringify([t,e]),i=ws[n];return i||(i=new Intl.NumberFormat(t,e),ws[n]=i),i}var Fs={};function Md(t,e={}){let{base:n,...i}=e,s=JSON.stringify([t,i]),r=Fs[s];return r||(r=new Intl.RelativeTimeFormat(t,e),Fs[s]=r),r}var Cn=null;function Bd(){return Cn||(Cn=new Intl.DateTimeFormat().resolvedOptions().locale,Cn)}function Id(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let n=t.indexOf("-u-");if(n===-1)return[t];{let i,s;try{i=ys(t).resolvedOptions(),s=t}catch(o){let u=t.substring(0,n);i=ys(u).resolvedOptions(),s=u}let{numberingSystem:r,calendar:a}=i;return[s,r,a]}}function $d(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Vd(t){let e=[];for(let n=1;n<=12;n++){let i=N.utc(2009,n,1);e.push(t(i))}return e}function Gd(t){let e=[];for(let n=1;n<=7;n++){let i=N.utc(2016,11,13+n);e.push(t(i))}return e}function wi(t,e,n,i){let s=t.listingMode();return s==="error"?null:s==="en"?n(e):i(e)}function jd(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var Vo=class{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let{padTo:s,floor:r,...a}=i;if(!n||Object.keys(a).length>0){let o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=Ld(e,o)}}format(e){if(this.inf){let n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{let n=this.floor?Math.floor(e):ks(e,3);return se(n,this.padTo)}}},Go=class{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Ke.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let r={...this.opts};r.timeZone=r.timeZone||s,this.dtf=ys(n,r)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){let i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},jo=class{constructor(e,n,i){this.opts={style:"long",...i},!n&&Yo()&&(this.rtf=Md(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):ih(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}},J=class{static fromOpts(e){return J.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,i,s=!1){let r=e||ie.defaultLocale,a=r||(s?"en-US":Bd()),o=n||ie.defaultNumberingSystem,u=i||ie.defaultOutputCalendar;return new J(a,o,u,r)}static resetCache(){Cn=null,Ds={},ws={},Fs={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:i}={}){return J.create(e,n,i)}constructor(e,n,i,s){let[r,a,o]=Id(e);this.locale=r,this.numberingSystem=n||a||null,this.outputCalendar=i||o||null,this.intl=$d(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=jd(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:J.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return wi(this,e,tu,()=>{let i=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Vd(r=>this.extract(r,i,"month"))),this.monthsCache[s][e]})}weekdays(e,n=!1){return wi(this,e,su,()=>{let i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=n?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Gd(r=>this.extract(r,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return wi(this,void 0,()=>ru,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[N.utc(2016,11,13,9),N.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return wi(this,e,au,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[N.utc(-40,1,1),N.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){let s=this.dtFormatter(e,n),r=s.formatToParts(),a=r.find(o=>o.type.toLowerCase()===i);return a?a.value:null}numberFormatter(e={}){return new Vo(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Go(e,this.intl,n)}relFormatter(e={}){return new jo(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Nd(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},vs=null,be=class extends Kt{static get utcInstance(){return vs===null&&(vs=new be(0)),vs}static instance(e){return e===0?be.utcInstance:new be(e)}static parseSpecifier(e){if(e){let n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new be(xi(n[1],n[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Pn(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Pn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Pn(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Ho=class extends Kt{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function ct(t,e){if(H(t)||t===null)return e;if(t instanceof Kt)return t;if(Hd(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?xn.instance:n==="utc"||n==="gmt"?be.utcInstance:be.parseSpecifier(n)||Ke.create(t)}else return vt(t)?be.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Ho(t)}var Uo=()=>Date.now(),_o="system",qo=null,Wo=null,Ko=null,zo=60,Zo,ie=class{static get now(){return Uo}static set now(e){Uo=e}static set defaultZone(e){_o=e}static get defaultZone(){return ct(_o,xn.instance)}static get defaultLocale(){return qo}static set defaultLocale(e){qo=e}static get defaultNumberingSystem(){return Wo}static set defaultNumberingSystem(e){Wo=e}static get defaultOutputCalendar(){return Ko}static set defaultOutputCalendar(e){Ko=e}static get twoDigitCutoffYear(){return zo}static set twoDigitCutoffYear(e){zo=e%100}static get throwOnInvalid(){return Zo}static set throwOnInvalid(e){Zo=e}static resetCaches(){J.resetCache(),Ke.resetCache()}};function H(t){return typeof t=="undefined"}function vt(t){return typeof t=="number"}function Fi(t){return typeof t=="number"&&t%1==0}function Hd(t){return typeof t=="string"}function Ud(t){return Object.prototype.toString.call(t)==="[object Date]"}function Yo(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function _d(t){return Array.isArray(t)?t:[t]}function Jo(t,e,n){if(t.length!==0)return t.reduce((i,s)=>{let r=[e(s),s];return i&&n(i[0],r[0])===i[0]?i:r},null)[1]}function qd(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nt(t,e,n){return Fi(t)&&t>=e&&t<=n}function Wd(t,e){return t-e*Math.floor(t/e)}function se(t,e=2){let n=t<0,i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function dt(t){if(!(H(t)||t===null||t===""))return parseInt(t,10)}function Et(t){if(!(H(t)||t===null||t===""))return parseFloat(t)}function Es(t){if(!(H(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ks(t,e,n=!1){let i=10**e;return(n?Math.trunc:Math.round)(t*i)/i}function Sn(t){return t%4==0&&(t%100!=0||t%400==0)}function Tn(t){return Sn(t)?366:365}function vi(t,e){let n=Wd(e-1,12)+1,i=t+(e-n)/12;return n===2?Sn(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ei(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ki(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,i=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||i===3?53:52}function xs(t){return t>99?t:t>ie.twoDigitCutoffYear?1900+t:2e3+t}function Qo(t,e,n,i=null){let s=new Date(t),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(r.timeZone=i);let a={timeZoneName:e,...r},o=new Intl.DateTimeFormat(n,a).formatToParts(s).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function xi(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);let i=parseInt(e,10)||0,s=n<0||Object.is(n,-0)?-i:i;return n*60+s}function Xo(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ce(`Invalid unit value ${t}`);return e}function Ci(t,e){let n={};for(let i in t)if(zt(t,i)){let s=t[i];if(s==null)continue;n[e(i)]=Xo(s)}return n}function Pn(t,e){let n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${se(n,2)}:${se(i,2)}`;case"narrow":return`${s}${n}${i>0?`:${i}`:""}`;case"techie":return`${s}${se(n,2)}${se(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Si(t){return qd(t,["hour","minute","second","millisecond"])}var Kd=["January","February","March","April","May","June","July","August","September","October","November","December"],eu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zd=["J","F","M","A","M","J","J","A","S","O","N","D"];function tu(t){switch(t){case"narrow":return[...zd];case"short":return[...eu];case"long":return[...Kd];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var nu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],iu=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Zd=["M","T","W","T","F","S","S"];function su(t){switch(t){case"narrow":return[...Zd];case"short":return[...iu];case"long":return[...nu];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var ru=["AM","PM"],Yd=["Before Christ","Anno Domini"],Jd=["BC","AD"],Qd=["B","A"];function au(t){switch(t){case"narrow":return[...Qd];case"short":return[...Jd];case"long":return[...Yd];default:return null}}function Xd(t){return ru[t.hour<12?0:1]}function eh(t,e){return su(e)[t.weekday-1]}function th(t,e){return tu(e)[t.month-1]}function nh(t,e){return au(e)[t.year<0?0:1]}function ih(t,e,n="always",i=!1){let s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&r){let g=t==="days";switch(e){case 1:return g?"tomorrow":`next ${s[t][0]}`;case-1:return g?"yesterday":`last ${s[t][0]}`;case 0:return g?"today":`this ${s[t][0]}`}}let a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,c=s[t],d=i?u?c[1]:c[2]||c[1]:u?s[t][0]:t;return a?`${o} ${d} ago`:`in ${o} ${d}`}function ou(t,e){let n="";for(let i of t)i.literal?n+=i.val:n+=e(i.val);return n}var sh={D:bi,DD:yo,DDD:wo,DDDD:Fo,t:vo,tt:Eo,ttt:ko,tttt:xo,T:Co,TT:So,TTT:To,TTTT:Po,f:Ro,ff:Ao,fff:Lo,ffff:Bo,F:Oo,FF:No,FFF:Mo,FFFF:Io},fe=class{static create(e,n={}){return new fe(e,n)}static parseFormat(e){let n=null,i="",s=!1,r=[];for(let a=0;a<e.length;a++){let o=e.charAt(a);o==="'"?(i.length>0&&r.push({literal:s||/^\s+$/.test(i),val:i}),n=null,i="",s=!s):s||o===n?i+=o:(i.length>0&&r.push({literal:/^\s+$/.test(i),val:i}),i=o,n=o)}return i.length>0&&r.push({literal:s||/^\s+$/.test(i),val:i}),r}static macroTokenToFormatOpts(e){return sh[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return se(e,n);let i={...this.opts};return n>0&&(i.padTo=n),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,n){let i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(y,F)=>this.loc.extract(e,y,F),a=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",o=()=>i?Xd(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(y,F)=>i?th(e,y):r(F?{month:y}:{month:y,day:"numeric"},"month"),c=(y,F)=>i?eh(e,y):r(F?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{let F=fe.macroTokenToFormatOpts(y);return F?this.formatWithSystemDefault(e,F):y},g=y=>i?nh(e,y):r({era:y},"era"),f=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?r({day:"numeric"},"day"):this.num(e.day);case"dd":return s?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?r({month:"numeric"},"month"):this.num(e.month);case"MM":return s?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?r({year:"numeric"},"year"):this.num(e.year);case"yy":return s?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(y)}};return ou(fe.parseFormat(n),f)}formatDurationFromString(e,n){let i=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=u=>c=>{let d=i(c);return d?this.num(u.get(d),c.length):c},r=fe.parseFormat(n),a=r.reduce((u,{literal:c,val:d})=>c?u:u.concat(d),[]),o=e.shiftTo(...a.map(i).filter(u=>u));return ou(r,s(o))}},Oe=class{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},uu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Zt(...t){let e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Yt(...t){return e=>t.reduce(([n,i,s],r)=>{let[a,o,u]=r(e,s);return[{...n,...a},o||i,u]},[{},null,1]).slice(0,2)}function Jt(t,...e){if(t==null)return[null,null];for(let[n,i]of e){let s=n.exec(t);if(s)return i(s)}return[null,null]}function lu(...t){return(e,n)=>{let i={},s;for(s=0;s<t.length;s++)i[t[s]]=dt(e[n+s]);return[i,null,n+s]}}var cu=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,rh=`(?:${cu.source}?(?:\\[(${uu.source})\\])?)?`,Cs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,du=RegExp(`${Cs.source}${rh}`),Ss=RegExp(`(?:T${du.source})?`),ah=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,oh=/(\d{4})-?W(\d\d)(?:-?(\d))?/,uh=/(\d{4})-?(\d{3})/,lh=lu("weekYear","weekNumber","weekDay"),ch=lu("year","ordinal"),dh=/(\d{4})-(\d\d)-(\d\d)/,hu=RegExp(`${Cs.source} ?(?:${cu.source}|(${uu.source}))?`),hh=RegExp(`(?: ${hu.source})?`);function Qt(t,e,n){let i=t[e];return H(i)?n:dt(i)}function fh(t,e){return[{year:Qt(t,e),month:Qt(t,e+1,1),day:Qt(t,e+2,1)},null,e+3]}function Xt(t,e){return[{hours:Qt(t,e,0),minutes:Qt(t,e+1,0),seconds:Qt(t,e+2,0),milliseconds:Es(t[e+3])},null,e+4]}function Rn(t,e){let n=!t[e]&&!t[e+1],i=xi(t[e+1],t[e+2]),s=n?null:be.instance(i);return[{},s,e+3]}function On(t,e){let n=t[e]?Ke.create(t[e]):null;return[{},n,e+1]}var ph=RegExp(`^T?${Cs.source}$`),mh=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function gh(t){let[e,n,i,s,r,a,o,u,c]=t,d=e[0]==="-",g=u&&u[0]==="-",f=(y,F=!1)=>y!==void 0&&(F||y&&d)?-y:y;return[{years:f(Et(n)),months:f(Et(i)),weeks:f(Et(s)),days:f(Et(r)),hours:f(Et(a)),minutes:f(Et(o)),seconds:f(Et(u),u==="-0"),milliseconds:f(Es(c),g)}]}var bh={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ts(t,e,n,i,s,r,a){let o={year:e.length===2?xs(dt(e)):dt(e),month:eu.indexOf(n)+1,day:dt(i),hour:dt(s),minute:dt(r)};return a&&(o.second=dt(a)),t&&(o.weekday=t.length>3?nu.indexOf(t)+1:iu.indexOf(t)+1),o}var Dh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function yh(t){let[,e,n,i,s,r,a,o,u,c,d,g]=t,f=Ts(e,s,i,n,r,a,o),y;return u?y=bh[u]:c?y=0:y=xi(d,g),[f,new be(y)]}function wh(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Fh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,vh=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Eh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function fu(t){let[,e,n,i,s,r,a,o]=t;return[Ts(e,s,i,n,r,a,o),be.utcInstance]}function kh(t){let[,e,n,i,s,r,a,o]=t;return[Ts(e,o,n,i,s,r,a),be.utcInstance]}var xh=Zt(ah,Ss),Ch=Zt(oh,Ss),Sh=Zt(uh,Ss),Th=Zt(du),pu=Yt(fh,Xt,Rn,On),Ph=Yt(lh,Xt,Rn,On),Rh=Yt(ch,Xt,Rn,On),Oh=Yt(Xt,Rn,On);function Ah(t){return Jt(t,[xh,pu],[Ch,Ph],[Sh,Rh],[Th,Oh])}function Nh(t){return Jt(wh(t),[Dh,yh])}function Lh(t){return Jt(t,[Fh,fu],[vh,fu],[Eh,kh])}function Mh(t){return Jt(t,[mh,gh])}var Bh=Yt(Xt);function Ih(t){return Jt(t,[ph,Bh])}var $h=Zt(dh,hh),Vh=Zt(hu),Gh=Yt(Xt,Rn,On);function jh(t){return Jt(t,[$h,pu],[Vh,Gh])}var mu="Invalid Duration",gu={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Hh={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...gu},Ae=146097/400,en=146097/4800,Uh={years:{quarters:4,months:12,weeks:Ae/7,days:Ae,hours:Ae*24,minutes:Ae*24*60,seconds:Ae*24*60*60,milliseconds:Ae*24*60*60*1e3},quarters:{months:3,weeks:Ae/28,days:Ae/4,hours:Ae*24/4,minutes:Ae*24*60/4,seconds:Ae*24*60*60/4,milliseconds:Ae*24*60*60*1e3/4},months:{weeks:en/7,days:en,hours:en*24,minutes:en*24*60,seconds:en*24*60*60,milliseconds:en*24*60*60*1e3},...gu},kt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],_h=kt.slice(0).reverse();function ht(t,e,n=!1){let i={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new O(i)}function bu(t,e){let n=e.milliseconds??0;for(let i of _h.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function Du(t,e){let n=bu(t,e)<0?-1:1;kt.reduceRight((i,s)=>{if(H(e[s]))return i;if(i){let r=e[i]*n,a=t[s][i],o=Math.floor(r/a);e[s]+=o*n,e[i]-=o*a*n}return s},null),kt.reduce((i,s)=>{if(H(e[s]))return i;if(i){let r=e[i]%1;e[i]-=r,e[s]+=r*t[i][s]}return s},null)}function qh(t){let e={};for(let[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}var O=class{constructor(e){let n=e.conversionAccuracy==="longterm"||!1,i=n?Uh:Hh;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||J.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return O.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new Ce(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new O({values:Ci(e,O.normalizeUnit),loc:J.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(vt(e))return O.fromMillis(e);if(O.isDuration(e))return e;if(typeof e=="object")return O.fromObject(e);throw new Ce(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){let[i]=Mh(e);return i?O.fromObject(i,n):O.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){let[i]=Ih(e);return i?O.fromObject(i,n):O.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new Ce("need to specify a reason the Duration is invalid");let i=e instanceof Oe?e:new Oe(e,n);if(ie.throwOnInvalid)throw new Do(i);return new O({invalid:i})}static normalizeUnit(e){let n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new gs(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){let i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?fe.create(this.loc,i).formatDurationFromString(this,e):mu}toHuman(e={}){if(!this.isValid)return mu;let n=kt.map(i=>{let s=this.values[i];return H(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(s)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ks(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},N.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?bu(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let n=O.fromDurationLike(e),i={};for(let s of kt)(zt(n.values,s)||zt(this.values,s))&&(i[s]=n.get(s)+this.get(s));return ht(this,{values:i},!0)}minus(e){if(!this.isValid)return this;let n=O.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let n={};for(let i of Object.keys(this.values))n[i]=Xo(e(this.values[i],i));return ht(this,{values:n},!0)}get(e){return this[O.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let n={...this.values,...Ci(e,O.normalizeUnit)};return ht(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:s}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:s,conversionAccuracy:i};return ht(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Du(this.matrix,e),ht(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=qh(this.normalize().shiftToAll().toObject());return ht(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>O.normalizeUnit(a));let n={},i={},s=this.toObject(),r;for(let a of kt)if(e.indexOf(a)>=0){r=a;let o=0;for(let c in i)o+=this.matrix[c][a]*i[c],i[c]=0;vt(s[a])&&(o+=s[a]);let u=Math.trunc(o);n[a]=u,i[a]=(o*1e3-u*1e3)/1e3}else vt(s[a])&&(i[a]=s[a]);for(let a in i)i[a]!==0&&(n[r]+=a===r?i[a]:i[a]/this.matrix[r][a]);return Du(this.matrix,n),ht(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ht(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(let i of kt)if(!n(this.values[i],e.values[i]))return!1;return!0}},tn="Invalid Interval";function Wh(t,e){return!t||!t.isValid?X.invalid("missing or invalid start"):!e||!e.isValid?X.invalid("missing or invalid end"):e<t?X.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var X=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new Ce("need to specify a reason the Interval is invalid");let i=e instanceof Oe?e:new Oe(e,n);if(ie.throwOnInvalid)throw new bo(i);return new X({invalid:i})}static fromDateTimes(e,n){let i=Ln(e),s=Ln(n),r=Wh(i,s);return r??new X({start:i,end:s})}static after(e,n){let i=O.fromDurationLike(n),s=Ln(e);return X.fromDateTimes(s,s.plus(i))}static before(e,n){let i=O.fromDurationLike(n),s=Ln(e);return X.fromDateTimes(s.minus(i),s)}static fromISO(e,n){let[i,s]=(e||"").split("/",2);if(i&&s){let r,a;try{r=N.fromISO(i,n),a=r.isValid}catch(c){a=!1}let o,u;try{o=N.fromISO(s,n),u=o.isValid}catch(c){u=!1}if(a&&u)return X.fromDateTimes(r,o);if(a){let c=O.fromISO(s,n);if(c.isValid)return X.after(r,c)}else if(u){let c=O.fromISO(i,n);if(c.isValid)return X.before(o,c)}}return X.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let n=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?X.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];let n=e.map(Ln).filter(a=>this.contains(a)).sort(),i=[],{s}=this,r=0;for(;s<this.e;){let a=n[r]||this.e,o=+a>+this.e?this.e:a;i.push(X.fromDateTimes(s,o)),s=o,r+=1}return i}splitBy(e){let n=O.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,s=1,r,a=[];for(;i<this.e;){let o=this.start.plus(n.mapUnits(u=>u*s));r=+o>+this.e?this.e:o,a.push(X.fromDateTimes(i,r)),i=r,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:X.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;let n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return X.fromDateTimes(n,i)}static merge(e){let[n,i]=e.sort((s,r)=>s.s-r.s).reduce(([s,r],a)=>r?r.overlaps(a)||r.abutsStart(a)?[s,r.union(a)]:[s.concat([r]),a]:[s,a],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0,s=[],r=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...r),o=a.sort((u,c)=>u.time-c.time);for(let u of o)i+=u.type==="s"?1:-1,i===1?n=u.time:(n&&+n!=+u.time&&s.push(X.fromDateTimes(n,u.time)),n=null);return X.merge(s)}difference(...e){return X.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:tn}toLocaleString(e=bi,n={}){return this.isValid?fe.create(this.s.loc.clone(n),e).formatInterval(this):tn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:tn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:tn}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:tn}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):O.invalid(this.invalidReason)}mapEndpoints(e){return X.fromDateTimes(e(this.s),e(this.e))}},An=class{static hasDST(e=ie.defaultZone){let n=N.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ke.isValidZone(e)}static normalizeZone(e){return ct(e,ie.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||J.create(n,i,r)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||J.create(n,i,r)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:s=null}={}){return(s||J.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:s=null}={}){return(s||J.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return J.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return J.create(n,null,"gregory").eras(e)}static features(){return{relative:Yo()}}};function yu(t,e){let n=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(O.fromMillis(i).as("days"))}function Kh(t,e,n){let i=[["years",(u,c)=>c.year-u.year],["quarters",(u,c)=>c.quarter-u.quarter+(c.year-u.year)*4],["months",(u,c)=>c.month-u.month+(c.year-u.year)*12],["weeks",(u,c)=>{let d=yu(u,c);return(d-d%7)/7}],["days",yu]],s={},r=t,a,o;for(let[u,c]of i)n.indexOf(u)>=0&&(a=u,s[u]=c(t,e),o=r.plus(s),o>e?(s[u]--,t=r.plus(s),t>e&&(o=t,s[u]--,t=r.plus(s))):t=o);return[t,s,o,a]}function zh(t,e,n,i){let[s,r,a,o]=Kh(t,e,n),u=e-s,c=n.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);c.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(r[o]=(r[o]||0)+u/(a-s)));let d=O.fromObject(r,i);return c.length>0?O.fromMillis(u,i).shiftTo(...c).plus(d):d}var Ps={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},wu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Zh=Ps.hanidec.replace(/[\[|\]]/g,"").split("");function Yh(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(t[n].search(Ps.hanidec)!==-1)e+=Zh.indexOf(t[n]);else for(let s in wu){let[r,a]=wu[s];i>=r&&i<=a&&(e+=i-r)}}return parseInt(e,10)}else return e}function Me({numberingSystem:t},e=""){return new RegExp(`${Ps[t||"latn"]}${e}`)}var Jh="missing Intl.DateTimeFormat.formatToParts support";function q(t,e=n=>n){return{regex:t,deser:([n])=>e(Yh(n))}}var Qh=String.fromCharCode(160),Fu=`[ ${Qh}]`,vu=new RegExp(Fu,"g");function Xh(t){return t.replace(/\./g,"\\.?").replace(vu,Fu)}function Eu(t){return t.replace(/\./g,"").replace(vu," ").toLowerCase()}function Be(t,e){return t===null?null:{regex:RegExp(t.map(Xh).join("|")),deser:([n])=>t.findIndex(i=>Eu(n)===Eu(i))+e}}function ku(t,e){return{regex:t,deser:([,n,i])=>xi(n,i),groups:e}}function Ti(t){return{regex:t,deser:([e])=>e}}function ef(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function tf(t,e){let n=Me(e),i=Me(e,"{2}"),s=Me(e,"{3}"),r=Me(e,"{4}"),a=Me(e,"{6}"),o=Me(e,"{1,2}"),u=Me(e,"{1,3}"),c=Me(e,"{1,6}"),d=Me(e,"{1,9}"),g=Me(e,"{2,4}"),f=Me(e,"{4,6}"),y=E=>({regex:RegExp(ef(E.val)),deser:([M])=>M,literal:!0}),S=(E=>{if(t.literal)return y(E);switch(E.val){case"G":return Be(e.eras("short"),0);case"GG":return Be(e.eras("long"),0);case"y":return q(c);case"yy":return q(g,xs);case"yyyy":return q(r);case"yyyyy":return q(f);case"yyyyyy":return q(a);case"M":return q(o);case"MM":return q(i);case"MMM":return Be(e.months("short",!0),1);case"MMMM":return Be(e.months("long",!0),1);case"L":return q(o);case"LL":return q(i);case"LLL":return Be(e.months("short",!1),1);case"LLLL":return Be(e.months("long",!1),1);case"d":return q(o);case"dd":return q(i);case"o":return q(u);case"ooo":return q(s);case"HH":return q(i);case"H":return q(o);case"hh":return q(i);case"h":return q(o);case"mm":return q(i);case"m":return q(o);case"q":return q(o);case"qq":return q(i);case"s":return q(o);case"ss":return q(i);case"S":return q(u);case"SSS":return q(s);case"u":return Ti(d);case"uu":return Ti(o);case"uuu":return q(n);case"a":return Be(e.meridiems(),0);case"kkkk":return q(r);case"kk":return q(g,xs);case"W":return q(o);case"WW":return q(i);case"E":case"c":return q(n);case"EEE":return Be(e.weekdays("short",!1),1);case"EEEE":return Be(e.weekdays("long",!1),1);case"ccc":return Be(e.weekdays("short",!0),1);case"cccc":return Be(e.weekdays("long",!0),1);case"Z":case"ZZ":return ku(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return ku(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return Ti(/[a-z_+-/]{1,256}?/i);case" ":return Ti(/[^\S\n\r]/);default:return y(E)}})(t)||{invalidReason:Jh};return S.token=t,S}var nf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function sf(t,e,n){let{type:i,value:s}=t;if(i==="literal"){let u=/^\s+$/.test(s);return{literal:!u,val:u?" ":s}}let r=e[i],a=i;i==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=nf[a];if(typeof o=="object"&&(o=o[r]),o)return{literal:!1,val:o}}function rf(t){return[`^${t.map(n=>n.regex).reduce((n,i)=>`${n}(${i.source})`,"")}$`,t]}function af(t,e,n){let i=t.match(e);if(i){let s={},r=1;for(let a in n)if(zt(n,a)){let o=n[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(i.slice(r,r+u))),r+=u}return[i,s]}else return[i,{}]}function of(t){let e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null,i;return H(t.z)||(n=Ke.create(t.z)),H(t.Z)||(n||(n=new be(t.Z)),i=t.Z),H(t.q)||(t.M=(t.q-1)*3+1),H(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),H(t.u)||(t.S=Es(t.u)),[Object.keys(t).reduce((r,a)=>{let o=e(a);return o&&(r[o]=t[a]),r},{}),n,i]}var Rs=null;function uf(){return Rs||(Rs=N.fromMillis(1555555555555)),Rs}function lf(t,e){if(t.literal)return t;let n=fe.macroTokenToFormatOpts(t.val),i=Su(n,e);return i==null||i.includes(void 0)?t:i}function xu(t,e){return Array.prototype.concat(...t.map(n=>lf(n,e)))}function Cu(t,e,n){let i=xu(fe.parseFormat(n),t),s=i.map(a=>tf(a,t)),r=s.find(a=>a.invalidReason);if(r)return{input:e,tokens:i,invalidReason:r.invalidReason};{let[a,o]=rf(s),u=RegExp(a,"i"),[c,d]=af(e,u,o),[g,f,y]=d?of(d):[null,null,void 0];if(zt(d,"a")&&zt(d,"H"))throw new Wt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:u,rawMatches:c,matches:d,result:g,zone:f,specificOffset:y}}}function cf(t,e,n){let{result:i,zone:s,specificOffset:r,invalidReason:a}=Cu(t,e,n);return[i,s,r,a]}function Su(t,e){if(!t)return null;let i=fe.create(e,t).dtFormatter(uf()),s=i.formatToParts(),r=i.resolvedOptions();return s.map(a=>sf(a,t,r))}var Tu=[0,31,59,90,120,151,181,212,243,273,304,334],Pu=[0,31,60,91,121,152,182,213,244,274,305,335];function Ne(t,e){return new Oe("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Ru(t,e,n){let i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);let s=i.getUTCDay();return s===0?7:s}function Ou(t,e,n){return n+(Sn(t)?Pu:Tu)[e-1]}function Au(t,e){let n=Sn(t)?Pu:Tu,i=n.findIndex(r=>r<e),s=e-n[i];return{month:i+1,day:s}}function Os(t){let{year:e,month:n,day:i}=t,s=Ou(e,n,i),r=Ru(e,n,i),a=Math.floor((s-r+10)/7),o;return a<1?(o=e-1,a=ki(o)):a>ki(e)?(o=e+1,a=1):o=e,{weekYear:o,weekNumber:a,weekday:r,...Si(t)}}function Nu(t){let{weekYear:e,weekNumber:n,weekday:i}=t,s=Ru(e,1,4),r=Tn(e),a=n*7+i-s-3,o;a<1?(o=e-1,a+=Tn(o)):a>r?(o=e+1,a-=Tn(e)):o=e;let{month:u,day:c}=Au(o,a);return{year:o,month:u,day:c,...Si(t)}}function As(t){let{year:e,month:n,day:i}=t,s=Ou(e,n,i);return{year:e,ordinal:s,...Si(t)}}function Lu(t){let{year:e,ordinal:n}=t,{month:i,day:s}=Au(e,n);return{year:e,month:i,day:s,...Si(t)}}function df(t){let e=Fi(t.weekYear),n=nt(t.weekNumber,1,ki(t.weekYear)),i=nt(t.weekday,1,7);return e?n?i?!1:Ne("weekday",t.weekday):Ne("week",t.week):Ne("weekYear",t.weekYear)}function hf(t){let e=Fi(t.year),n=nt(t.ordinal,1,Tn(t.year));return e?n?!1:Ne("ordinal",t.ordinal):Ne("year",t.year)}function Mu(t){let e=Fi(t.year),n=nt(t.month,1,12),i=nt(t.day,1,vi(t.year,t.month));return e?n?i?!1:Ne("day",t.day):Ne("month",t.month):Ne("year",t.year)}function Bu(t){let{hour:e,minute:n,second:i,millisecond:s}=t,r=nt(e,0,23)||e===24&&n===0&&i===0&&s===0,a=nt(n,0,59),o=nt(i,0,59),u=nt(s,0,999);return r?a?o?u?!1:Ne("millisecond",s):Ne("second",i):Ne("minute",n):Ne("hour",e)}var Ns="Invalid DateTime",Iu=864e13;function Pi(t){return new Oe("unsupported zone",`the zone "${t.name}" is not supported`)}function Ls(t){return t.weekData===null&&(t.weekData=Os(t.c)),t.weekData}function xt(t,e){let n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new N({...n,...e,old:n})}function $u(t,e,n){let i=t-e*60*1e3,s=n.offset(i);if(e===s)return[i,e];i-=(s-e)*60*1e3;let r=n.offset(i);return s===r?[i,s]:[t-Math.min(s,r)*60*1e3,Math.max(s,r)]}function Ri(t,e){t+=e*60*1e3;let n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Oi(t,e,n){return $u(Ei(t),e,n)}function Vu(t,e){let n=t.o,i=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,r={...t.c,year:i,month:s,day:Math.min(t.c.day,vi(i,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=O.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Ei(r),[u,c]=$u(o,n,t.zone);return a!==0&&(u+=a,c=t.zone.offset(u)),{ts:u,o:c}}function Nn(t,e,n,i,s,r){let{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){let u=e||o,c=N.fromObject(t,{...n,zone:u,specificOffset:r});return a?c:c.setZone(o)}else return N.invalid(new Oe("unparsable",`the input "${s}" can't be parsed as ${i}`))}function Ai(t,e,n=!0){return t.isValid?fe.create(J.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ms(t,e){let n=t.c.year>9999||t.c.year<0,i="";return n&&t.c.year>=0&&(i+="+"),i+=se(t.c.year,n?6:4),e?(i+="-",i+=se(t.c.month),i+="-",i+=se(t.c.day)):(i+=se(t.c.month),i+=se(t.c.day)),i}function Gu(t,e,n,i,s,r){let a=se(t.c.hour);return e?(a+=":",a+=se(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=se(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=se(t.c.second),(t.c.millisecond!==0||!i)&&(a+=".",a+=se(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!r?a+="Z":t.o<0?(a+="-",a+=se(Math.trunc(-t.o/60)),a+=":",a+=se(Math.trunc(-t.o%60))):(a+="+",a+=se(Math.trunc(t.o/60)),a+=":",a+=se(Math.trunc(t.o%60)))),r&&(a+="["+t.zone.ianaName+"]"),a}var ju={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ff={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},pf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Hu=["year","month","day","hour","minute","second","millisecond"],mf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],gf=["year","ordinal","hour","minute","second","millisecond"];function Uu(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new gs(t);return e}function _u(t,e){let n=ct(e.zone,ie.defaultZone),i=J.fromObject(e),s=ie.now(),r,a;if(H(t.year))r=s;else{for(let c of Hu)H(t[c])&&(t[c]=ju[c]);let o=Mu(t)||Bu(t);if(o)return N.invalid(o);let u=n.offset(s);[r,a]=Oi(t,u,n)}return new N({ts:r,zone:n,loc:i,o:a})}function qu(t,e,n){let i=H(n.round)?!0:n.round,s=(a,o)=>(a=ks(a,i||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),r=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return s(r(n.unit),n.unit);for(let a of n.units){let o=r(a);if(Math.abs(o)>=1)return s(o,a)}return s(t>e?-0:0,n.units[n.units.length-1])}function Wu(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}var N=class{constructor(e){let n=e.zone||ie.defaultZone,i=e.invalid||(Number.isNaN(e.ts)?new Oe("invalid input"):null)||(n.isValid?null:Pi(n));this.ts=H(e.ts)?ie.now():e.ts;let s=null,r=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[s,r]=[e.old.c,e.old.o];else{let o=n.offset(this.ts);s=Ri(this.ts,o),i=Number.isNaN(s.year)?new Oe("invalid input"):null,s=i?null:s,r=i?null:o}this._zone=n,this.loc=e.loc||J.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=r,this.isLuxonDateTime=!0}static now(){return new N({})}static local(){let[e,n]=Wu(arguments),[i,s,r,a,o,u,c]=n;return _u({year:i,month:s,day:r,hour:a,minute:o,second:u,millisecond:c},e)}static utc(){let[e,n]=Wu(arguments),[i,s,r,a,o,u,c]=n;return e.zone=be.utcInstance,_u({year:i,month:s,day:r,hour:a,minute:o,second:u,millisecond:c},e)}static fromJSDate(e,n={}){let i=Ud(e)?e.valueOf():NaN;if(Number.isNaN(i))return N.invalid("invalid input");let s=ct(n.zone,ie.defaultZone);return s.isValid?new N({ts:i,zone:s,loc:J.fromObject(n)}):N.invalid(Pi(s))}static fromMillis(e,n={}){if(vt(e))return e<-Iu||e>Iu?N.invalid("Timestamp out of range"):new N({ts:e,zone:ct(n.zone,ie.defaultZone),loc:J.fromObject(n)});throw new Ce(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(vt(e))return new N({ts:e*1e3,zone:ct(n.zone,ie.defaultZone),loc:J.fromObject(n)});throw new Ce("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};let i=ct(n.zone,ie.defaultZone);if(!i.isValid)return N.invalid(Pi(i));let s=ie.now(),r=H(n.specificOffset)?i.offset(s):n.specificOffset,a=Ci(e,Uu),o=!H(a.ordinal),u=!H(a.year),c=!H(a.month)||!H(a.day),d=u||c,g=a.weekYear||a.weekNumber,f=J.fromObject(n);if((d||o)&&g)throw new Wt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new Wt("Can't mix ordinal dates with month/day");let y=g||a.weekday&&!d,F,S,E=Ri(s,r);y?(F=mf,S=ff,E=Os(E)):o?(F=gf,S=pf,E=As(E)):(F=Hu,S=ju);let M=!1;for(let I of F){let V=a[I];H(V)?M?a[I]=S[I]:a[I]=E[I]:M=!0}let $=y?df(a):o?hf(a):Mu(a),j=$||Bu(a);if(j)return N.invalid(j);let D=y?Nu(a):o?Lu(a):a,[k,B]=Oi(D,r,i),C=new N({ts:k,zone:i,o:B,loc:f});return a.weekday&&d&&e.weekday!==C.weekday?N.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,n={}){let[i,s]=Ah(e);return Nn(i,s,n,"ISO 8601",e)}static fromRFC2822(e,n={}){let[i,s]=Nh(e);return Nn(i,s,n,"RFC 2822",e)}static fromHTTP(e,n={}){let[i,s]=Lh(e);return Nn(i,s,n,"HTTP",n)}static fromFormat(e,n,i={}){if(H(e)||H(n))throw new Ce("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:r=null}=i,a=J.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),[o,u,c,d]=cf(a,e,n);return d?N.invalid(d):Nn(o,u,i,`format ${n}`,e,c)}static fromString(e,n,i={}){return N.fromFormat(e,n,i)}static fromSQL(e,n={}){let[i,s]=jh(e);return Nn(i,s,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new Ce("need to specify a reason the DateTime is invalid");let i=e instanceof Oe?e:new Oe(e,n);if(ie.throwOnInvalid)throw new go(i);return new N({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){let i=Su(e,J.fromObject(n));return i?i.map(s=>s?s.val:null).join(""):null}static expandFormat(e,n={}){return xu(fe.parseFormat(e),J.fromObject(n)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ls(this).weekYear:NaN}get weekNumber(){return this.isValid?Ls(this).weekNumber:NaN}get weekday(){return this.isValid?Ls(this).weekday:NaN}get ordinal(){return this.isValid?As(this.c).ordinal:NaN}get monthShort(){return this.isValid?An.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?An.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?An.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?An.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,n=6e4,i=Ei(this.c),s=this.zone.offset(i-e),r=this.zone.offset(i+e),a=this.zone.offset(i-s*n),o=this.zone.offset(i-r*n);if(a===o)return[this];let u=i-a*n,c=i-o*n,d=Ri(u,a),g=Ri(c,o);return d.hour===g.hour&&d.minute===g.minute&&d.second===g.second&&d.millisecond===g.millisecond?[xt(this,{ts:u}),xt(this,{ts:c})]:[this]}get isInLeapYear(){return Sn(this.year)}get daysInMonth(){return vi(this.year,this.month)}get daysInYear(){return this.isValid?Tn(this.year):NaN}get weeksInWeekYear(){return this.isValid?ki(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:n,numberingSystem:i,calendar:s}=fe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:s}}toUTC(e=0,n={}){return this.setZone(be.instance(e),n)}toLocal(){return this.setZone(ie.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=ct(e,ie.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(n||i){let r=e.offset(this.ts),a=this.toObject();[s]=Oi(a,r,e)}return xt(this,{ts:s,zone:e})}else return N.invalid(Pi(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){let s=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return xt(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let n=Ci(e,Uu),i=!H(n.weekYear)||!H(n.weekNumber)||!H(n.weekday),s=!H(n.ordinal),r=!H(n.year),a=!H(n.month)||!H(n.day),o=r||a,u=n.weekYear||n.weekNumber;if((o||s)&&u)throw new Wt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&s)throw new Wt("Can't mix ordinal dates with month/day");let c;i?c=Nu({...Os(this.c),...n}):H(n.ordinal)?(c={...this.toObject(),...n},H(n.day)&&(c.day=Math.min(vi(c.year,c.month),c.day))):c=Lu({...As(this.c),...n});let[d,g]=Oi(c,this.o,this.zone);return xt(this,{ts:d,o:g})}plus(e){if(!this.isValid)return this;let n=O.fromDurationLike(e);return xt(this,Vu(this,n))}minus(e){if(!this.isValid)return this;let n=O.fromDurationLike(e).negate();return xt(this,Vu(this,n))}startOf(e){if(!this.isValid)return this;let n={},i=O.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks"&&(n.weekday=1),i==="quarters"){let s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?fe.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Ns}toLocaleString(e=bi,n={}){return this.isValid?fe.create(this.loc.clone(n),e).formatDateTime(this):Ns}toLocaleParts(e={}){return this.isValid?fe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;let a=e==="extended",o=Ms(this,a);return o+="T",o+=Gu(this,a,n,i,s,r),o}toISODate({format:e="extended"}={}){return this.isValid?Ms(this,e==="extended"):null}toISOWeekDate(){return Ai(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:r=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+Gu(this,a==="extended",n,e,i,r):null}toRFC2822(){return Ai(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ai(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ms(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(n||e)&&(i&&(s+=" "),n?s+="z":e&&(s+="ZZ")),Ai(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ns}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return O.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...i},r=_d(n).map(O.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,c=zh(o,u,r,s);return a?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(N.now(),e,n)}until(e){return this.isValid?X.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;let i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n)<=i&&i<=s.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let n=e.base||N.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0,s=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(s=e.unit,r=void 0),qu(n,this.plus(i),{...e,numeric:"always",units:s,unit:r})}toRelativeCalendar(e={}){return this.isValid?qu(e.base||N.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(N.isDateTime))throw new Ce("min requires all arguments be DateTimes");return Jo(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(N.isDateTime))throw new Ce("max requires all arguments be DateTimes");return Jo(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){let{locale:s=null,numberingSystem:r=null}=i,a=J.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0});return Cu(a,e,n)}static fromStringExplain(e,n,i={}){return N.fromFormatExplain(e,n,i)}static get DATE_SHORT(){return bi}static get DATE_MED(){return yo}static get DATE_MED_WITH_WEEKDAY(){return Sd}static get DATE_FULL(){return wo}static get DATE_HUGE(){return Fo}static get TIME_SIMPLE(){return vo}static get TIME_WITH_SECONDS(){return Eo}static get TIME_WITH_SHORT_OFFSET(){return ko}static get TIME_WITH_LONG_OFFSET(){return xo}static get TIME_24_SIMPLE(){return Co}static get TIME_24_WITH_SECONDS(){return So}static get TIME_24_WITH_SHORT_OFFSET(){return To}static get TIME_24_WITH_LONG_OFFSET(){return Po}static get DATETIME_SHORT(){return Ro}static get DATETIME_SHORT_WITH_SECONDS(){return Oo}static get DATETIME_MED(){return Ao}static get DATETIME_MED_WITH_SECONDS(){return No}static get DATETIME_MED_WITH_WEEKDAY(){return Td}static get DATETIME_FULL(){return Lo}static get DATETIME_FULL_WITH_SECONDS(){return Mo}static get DATETIME_HUGE(){return Bo}static get DATETIME_HUGE_WITH_SECONDS(){return Io}};function Ln(t){if(N.isDateTime(t))return t;if(t&&t.valueOf&&vt(t.valueOf()))return N.fromJSDate(t);if(t&&typeof t=="object")return N.fromObject(t);throw new Ce(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Bs={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},bf={allowHtml:!0};({...Bs,...bf});var Ni=class{constructor(e){this.value=e,this.successful=!0}map(e){return new Ni(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,n){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},Li=class{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new Li(e(this.error))}bimap(e,n){return this.mapErr(n)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Mi;(function(t){function e(r){return new Ni(r)}t.success=e;function n(r){return new Li(r)}t.failure=n;function i(r,a,o){return r.successful?a.successful?o(r.value,a.value):n(a.error):n(r.error)}t.flatMap2=i;function s(r,a,o){return i(r,a,(u,c)=>e(o(u,c)))}t.map2=s})(Mi||(Mi={}));var Df=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Bi={exports:{}};Bi.exports;(function(t,e){(function(n,i){t.exports=i()})(typeof self!="undefined"?self:Df,function(){return function(n){var i={};function s(r){if(i[r])return i[r].exports;var a=i[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=i,s.d=function(r,a,o){s.o(r,a)||Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:o})},s.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},s.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(a,"a",a),a},s.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},s.p="",s(s.s=0)}([function(n,i,s){function r(h){if(!(this instanceof r))return new r(h);this._=h}var a=r.prototype;function o(h,b){for(var w=0;w<h;w++)b(w)}function u(h,b,w){return function(v,x){o(x.length,function(T){v(x[T],T,x)})}(function(v,x,T){b=h(b,v,x,T)},w),b}function c(h,b){return u(function(w,v,x,T){return w.concat([h(v,x,T)])},[],b)}function d(h,b){var w={v:0,buf:b};return o(h,function(){var v;w={v:w.v<<1|(v=w.buf,v[0]>>7),buf:function(x){var T=u(function(P,G,Z,ye){return P.concat(Z===ye.length-1?Buffer.from([G,0]).readUInt16BE(0):ye.readUInt16BE(Z))},[],x);return Buffer.from(c(function(P){return(P<<1&65535)>>8},T))}(w.buf)}}),w}function g(){return typeof Buffer!="undefined"}function f(){if(!g())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function y(h){f();var b=u(function(T,P){return T+P},0,h);if(b%8!=0)throw new Error("The bits ["+h.join(", ")+"] add up to "+b+" which is not an even number of bytes; the total should be divisible by 8");var w,v=b/8,x=(w=function(T){return T>48},u(function(T,P){return T||(w(P)?P:T)},null,h));if(x)throw new Error(x+" bit range requested exceeds 48 bit (6 byte) Number max.");return new r(function(T,P){var G=v+P;return G>T.length?I(P,v.toString()+" bytes"):C(G,u(function(Z,ye){var de=d(ye,Z.buf);return{coll:Z.coll.concat(de.v),buf:de.buf}},{coll:[],buf:T.slice(P,G)},h).coll)})}function F(h,b){return new r(function(w,v){return f(),v+b>w.length?I(v,b+" bytes for "+h):C(v+b,w.slice(v,v+b))})}function S(h,b){if(typeof(w=b)!="number"||Math.floor(w)!==w||b<0||b>6)throw new Error(h+" requires integer length in range [0, 6].");var w}function E(h){return S("uintBE",h),F("uintBE("+h+")",h).map(function(b){return b.readUIntBE(0,h)})}function M(h){return S("uintLE",h),F("uintLE("+h+")",h).map(function(b){return b.readUIntLE(0,h)})}function $(h){return S("intBE",h),F("intBE("+h+")",h).map(function(b){return b.readIntBE(0,h)})}function j(h){return S("intLE",h),F("intLE("+h+")",h).map(function(b){return b.readIntLE(0,h)})}function D(h){return h instanceof r}function k(h){return{}.toString.call(h)==="[object Array]"}function B(h){return g()&&Buffer.isBuffer(h)}function C(h,b){return{status:!0,index:h,value:b,furthest:-1,expected:[]}}function I(h,b){return k(b)||(b=[b]),{status:!1,index:-1,value:null,furthest:h,expected:b}}function V(h,b){if(!b||h.furthest>b.furthest)return h;var w=h.furthest===b.furthest?function(v,x){if(function(){if(r._supportsSet!==void 0)return r._supportsSet;var Qe=typeof Set!="undefined";return r._supportsSet=Qe,Qe}()&&Array.from){for(var T=new Set(v),P=0;P<x.length;P++)T.add(x[P]);var G=Array.from(T);return G.sort(),G}for(var Z={},ye=0;ye<v.length;ye++)Z[v[ye]]=!0;for(var de=0;de<x.length;de++)Z[x[de]]=!0;var Je=[];for(var Ee in Z)({}).hasOwnProperty.call(Z,Ee)&&Je.push(Ee);return Je.sort(),Je}(h.expected,b.expected):b.expected;return{status:h.status,index:h.index,value:h.value,furthest:b.furthest,expected:w}}var U={};function Pe(h,b){if(B(h))return{offset:b,line:-1,column:-1};h in U||(U[h]={});for(var w=U[h],v=0,x=0,T=0,P=b;P>=0;){if(P in w){v=w[P].line,T===0&&(T=w[P].lineStart);break}(h.charAt(P)===`
`||h.charAt(P)==="\r"&&h.charAt(P+1)!==`
`)&&(x++,T===0&&(T=P+1)),P--}var G=v+x,Z=b-T;return w[b]={line:G,lineStart:T},{offset:b,line:G+1,column:Z+1}}function ue(h){if(!D(h))throw new Error("not a parser: "+h)}function me(h,b){return typeof h=="string"?h.charAt(b):h[b]}function Q(h){if(typeof h!="number")throw new Error("not a number: "+h)}function le(h){if(typeof h!="function")throw new Error("not a function: "+h)}function De(h){if(typeof h!="string")throw new Error("not a string: "+h)}var ee=2,Fe=3,te=8,Ge=5*te,Gn=4*te,an="  ";function ve(h,b){return new Array(b+1).join(h)}function je(h,b,w){var v=b-h.length;return v<=0?h:ve(w,v)+h}function mr(h,b,w,v){return{from:h-b>0?h-b:0,to:h+w>v?v:h+w}}function jl(h,b){var w,v,x,T,P,G=b.index,Z=G.offset,ye=1;if(Z===h.length)return"Got the end of the input";if(B(h)){var de=Z-Z%te,Je=Z-de,Ee=mr(de,Ge,Gn+te,h.length),Qe=c(function(re){return c(function(Ot){return je(Ot.toString(16),2,"0")},re)},function(re,Ot){var At=re.length,mt=[],Nt=0;if(At<=Ot)return[re.slice()];for(var Lt=0;Lt<At;Lt++)mt[Nt]||mt.push([]),mt[Nt].push(re[Lt]),(Lt+1)%Ot==0&&Nt++;return mt}(h.slice(Ee.from,Ee.to).toJSON().data,te));T=function(re){return re.from===0&&re.to===1?{from:re.from,to:re.to}:{from:re.from/te,to:Math.floor(re.to/te)}}(Ee),v=de/te,w=3*Je,Je>=4&&(w+=1),ye=2,x=c(function(re){return re.length<=4?re.join(" "):re.slice(0,4).join(" ")+"  "+re.slice(4).join(" ")},Qe),(P=(8*(T.to>0?T.to-1:T.to)).toString(16).length)<2&&(P=2)}else{var Rt=h.split(/\r\n|[\n\r\u2028\u2029]/);w=G.column-1,v=G.line-1,T=mr(v,ee,Fe,Rt.length),x=Rt.slice(T.from,T.to),P=T.to.toString().length}var Jl=v-T.from;return B(h)&&(P=(8*(T.to>0?T.to-1:T.to)).toString(16).length)<2&&(P=2),u(function(re,Ot,At){var mt,Nt=At===Jl,Lt=Nt?"> ":an;return mt=B(h)?je((8*(T.from+At)).toString(16),P,"0"):je((T.from+At+1).toString(),P," "),[].concat(re,[Lt+mt+" | "+Ot],Nt?[an+ve(" ",P)+" | "+je("",w," ")+ve("^",ye)]:[])},[],x).join(`
`)}function gr(h,b){return[`
`,"-- PARSING FAILED "+ve("-",50),`

`,jl(h,b),`

`,(w=b.expected,w.length===1?`Expected:

`+w[0]:`Expected one of the following: 

`+w.join(", ")),`
`].join("");var w}function br(h){return h.flags!==void 0?h.flags:[h.global?"g":"",h.ignoreCase?"i":"",h.multiline?"m":"",h.unicode?"u":"",h.sticky?"y":""].join("")}function jn(){for(var h=[].slice.call(arguments),b=h.length,w=0;w<b;w+=1)ue(h[w]);return r(function(v,x){for(var T,P=new Array(b),G=0;G<b;G+=1){if(!(T=V(h[G]._(v,x),T)).status)return T;P[G]=T.value,x=T.index}return V(C(x,P),T)})}function ft(){var h=[].slice.call(arguments);if(h.length===0)throw new Error("seqMap needs at least one argument");var b=h.pop();return le(b),jn.apply(null,h).map(function(w){return b.apply(null,w)})}function Hn(){var h=[].slice.call(arguments),b=h.length;if(b===0)return Un("zero alternates");for(var w=0;w<b;w+=1)ue(h[w]);return r(function(v,x){for(var T,P=0;P<h.length;P+=1)if((T=V(h[P]._(v,x),T)).status)return T;return T})}function Dr(h,b){return Hi(h,b).or(pt([]))}function Hi(h,b){return ue(h),ue(b),ft(h,b.then(h).many(),function(w,v){return[w].concat(v)})}function on(h){De(h);var b="'"+h+"'";return r(function(w,v){var x=v+h.length,T=w.slice(v,x);return T===h?C(x,T):I(v,b)})}function Ye(h,b){(function(x){if(!(x instanceof RegExp))throw new Error("not a regexp: "+x);for(var T=br(x),P=0;P<T.length;P++){var G=T.charAt(P);if(G!=="i"&&G!=="m"&&G!=="u"&&G!=="s")throw new Error('unsupported regexp flag "'+G+'": '+x)}})(h),arguments.length>=2?Q(b):b=0;var w=function(x){return RegExp("^(?:"+x.source+")",br(x))}(h),v=""+h;return r(function(x,T){var P=w.exec(x.slice(T));if(P){if(0<=b&&b<=P.length){var G=P[0],Z=P[b];return C(T+G.length,Z)}return I(T,"valid match group (0 to "+P.length+") in "+v)}return I(T,v)})}function pt(h){return r(function(b,w){return C(w,h)})}function Un(h){return r(function(b,w){return I(w,h)})}function _n(h){if(D(h))return r(function(b,w){var v=h._(b,w);return v.index=w,v.value="",v});if(typeof h=="string")return _n(on(h));if(h instanceof RegExp)return _n(Ye(h));throw new Error("not a string, regexp, or parser: "+h)}function yr(h){return ue(h),r(function(b,w){var v=h._(b,w),x=b.slice(w,v.index);return v.status?I(w,'not "'+x+'"'):C(w,null)})}function qn(h){return le(h),r(function(b,w){var v=me(b,w);return w<b.length&&h(v)?C(w+1,v):I(w,"a character/byte matching "+h)})}function wr(h,b){arguments.length<2&&(b=h,h=void 0);var w=r(function(v,x){return w._=b()._,w._(v,x)});return h?w.desc(h):w}function Ui(){return Un("fantasy-land/empty")}a.parse=function(h){if(typeof h!="string"&&!B(h))throw new Error(".parse must be called with a string or Buffer as its argument");var b,w=this.skip(_i)._(h,0);return b=w.status?{status:!0,value:w.value}:{status:!1,index:Pe(h,w.furthest),expected:w.expected},delete U[h],b},a.tryParse=function(h){var b=this.parse(h);if(b.status)return b.value;var w=gr(h,b),v=new Error(w);throw v.type="ParsimmonError",v.result=b,v},a.assert=function(h,b){return this.chain(function(w){return h(w)?pt(w):Un(b)})},a.or=function(h){return Hn(this,h)},a.trim=function(h){return this.wrap(h,h)},a.wrap=function(h,b){return ft(h,this,b,function(w,v){return v})},a.thru=function(h){return h(this)},a.then=function(h){return ue(h),jn(this,h).map(function(b){return b[1]})},a.many=function(){var h=this;return r(function(b,w){for(var v=[],x=void 0;;){if(!(x=V(h._(b,w),x)).status)return V(C(w,v),x);if(w===x.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");w=x.index,v.push(x.value)}})},a.tieWith=function(h){return De(h),this.map(function(b){if(function(x){if(!k(x))throw new Error("not an array: "+x)}(b),b.length){De(b[0]);for(var w=b[0],v=1;v<b.length;v++)De(b[v]),w+=h+b[v];return w}return""})},a.tie=function(){return this.tieWith("")},a.times=function(h,b){var w=this;return arguments.length<2&&(b=h),Q(h),Q(b),r(function(v,x){for(var T=[],P=void 0,G=void 0,Z=0;Z<h;Z+=1){if(G=V(P=w._(v,x),G),!P.status)return G;x=P.index,T.push(P.value)}for(;Z<b&&(G=V(P=w._(v,x),G),P.status);Z+=1)x=P.index,T.push(P.value);return V(C(x,T),G)})},a.result=function(h){return this.map(function(){return h})},a.atMost=function(h){return this.times(0,h)},a.atLeast=function(h){return ft(this.times(h),this.many(),function(b,w){return b.concat(w)})},a.map=function(h){le(h);var b=this;return r(function(w,v){var x=b._(w,v);return x.status?V(C(x.index,h(x.value)),x):x})},a.contramap=function(h){le(h);var b=this;return r(function(w,v){var x=b.parse(h(w.slice(v)));return x.status?C(v+w.length,x.value):x})},a.promap=function(h,b){return le(h),le(b),this.contramap(h).map(b)},a.skip=function(h){return jn(this,h).map(function(b){return b[0]})},a.mark=function(){return ft(un,this,un,function(h,b,w){return{start:h,value:b,end:w}})},a.node=function(h){return ft(un,this,un,function(b,w,v){return{name:h,value:w,start:b,end:v}})},a.sepBy=function(h){return Dr(this,h)},a.sepBy1=function(h){return Hi(this,h)},a.lookahead=function(h){return this.skip(_n(h))},a.notFollowedBy=function(h){return this.skip(yr(h))},a.desc=function(h){k(h)||(h=[h]);var b=this;return r(function(w,v){var x=b._(w,v);return x.status||(x.expected=h),x})},a.fallback=function(h){return this.or(pt(h))},a.ap=function(h){return ft(h,this,function(b,w){return b(w)})},a.chain=function(h){var b=this;return r(function(w,v){var x=b._(w,v);return x.status?V(h(x.value)._(w,x.index),x):x})},a.concat=a.or,a.empty=Ui,a.of=pt,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var un=r(function(h,b){return C(b,Pe(h,b))}),Hl=r(function(h,b){return b>=h.length?I(b,"any character/byte"):C(b+1,me(h,b))}),Ul=r(function(h,b){return C(h.length,h.slice(b))}),_i=r(function(h,b){return b<h.length?I(b,"EOF"):C(b,null)}),_l=Ye(/[0-9]/).desc("a digit"),ql=Ye(/[0-9]*/).desc("optional digits"),Wl=Ye(/[a-z]/i).desc("a letter"),Kl=Ye(/[a-z]*/i).desc("optional letters"),zl=Ye(/\s*/).desc("optional whitespace"),Zl=Ye(/\s+/).desc("whitespace"),Fr=on("\r"),vr=on(`
`),Er=on(`\r
`),kr=Hn(Er,vr,Fr).desc("newline"),Yl=Hn(kr,_i);r.all=Ul,r.alt=Hn,r.any=Hl,r.cr=Fr,r.createLanguage=function(h){var b={};for(var w in h)({}).hasOwnProperty.call(h,w)&&function(v){b[v]=wr(function(){return h[v](b)})}(w);return b},r.crlf=Er,r.custom=function(h){return r(h(C,I))},r.digit=_l,r.digits=ql,r.empty=Ui,r.end=Yl,r.eof=_i,r.fail=Un,r.formatError=gr,r.index=un,r.isParser=D,r.lazy=wr,r.letter=Wl,r.letters=Kl,r.lf=vr,r.lookahead=_n,r.makeFailure=I,r.makeSuccess=C,r.newline=kr,r.noneOf=function(h){return qn(function(b){return h.indexOf(b)<0}).desc("none of '"+h+"'")},r.notFollowedBy=yr,r.of=pt,r.oneOf=function(h){for(var b=h.split(""),w=0;w<b.length;w++)b[w]="'"+b[w]+"'";return qn(function(v){return h.indexOf(v)>=0}).desc(b)},r.optWhitespace=zl,r.Parser=r,r.range=function(h,b){return qn(function(w){return h<=w&&w<=b}).desc(h+"-"+b)},r.regex=Ye,r.regexp=Ye,r.sepBy=Dr,r.sepBy1=Hi,r.seq=jn,r.seqMap=ft,r.seqObj=function(){for(var h,b={},w=0,v=(h=arguments,Array.prototype.slice.call(h)),x=v.length,T=0;T<x;T+=1){var P=v[T];if(!D(P)){if(k(P)&&P.length===2&&typeof P[0]=="string"&&D(P[1])){var G=P[0];if(Object.prototype.hasOwnProperty.call(b,G))throw new Error("seqObj: duplicate key "+G);b[G]=!0,w++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(w===0)throw new Error("seqObj expects at least one named parser, found zero");return r(function(Z,ye){for(var de,Je={},Ee=0;Ee<x;Ee+=1){var Qe,Rt;if(k(v[Ee])?(Qe=v[Ee][0],Rt=v[Ee][1]):(Qe=null,Rt=v[Ee]),!(de=V(Rt._(Z,ye),de)).status)return de;Qe&&(Je[Qe]=de.value),ye=de.index}return V(C(ye,Je),de)})},r.string=on,r.succeed=pt,r.takeWhile=function(h){return le(h),r(function(b,w){for(var v=w;v<b.length&&h(me(b,v));)v++;return C(v,b.slice(w,v))})},r.test=qn,r.whitespace=Zl,r["fantasy-land/empty"]=Ui,r["fantasy-land/of"]=pt,r.Binary={bitSeq:y,bitSeqObj:function(h){f();var b={},w=0,v=c(function(T){if(k(T)){var P=T;if(P.length!==2)throw new Error("["+P.join(", ")+"] should be length 2, got length "+P.length);if(De(P[0]),Q(P[1]),Object.prototype.hasOwnProperty.call(b,P[0]))throw new Error("duplicate key in bitSeqObj: "+P[0]);return b[P[0]]=!0,w++,P}return Q(T),[null,T]},h);if(w<1)throw new Error("bitSeqObj expects at least one named pair, got ["+h.join(", ")+"]");var x=c(function(T){return T[0]},v);return y(c(function(T){return T[1]},v)).map(function(T){return u(function(P,G){return G[0]!==null&&(P[G[0]]=G[1]),P},{},c(function(P,G){return[P,T[G]]},x))})},byte:function(h){if(f(),Q(h),h>255)throw new Error("Value specified to byte constructor ("+h+"=0x"+h.toString(16)+") is larger in value than a single byte.");var b=(h>15?"0x":"0x0")+h.toString(16);return r(function(w,v){var x=me(w,v);return x===h?C(v+1,x):I(v,b)})},buffer:function(h){return F("buffer",h).map(function(b){return Buffer.from(b)})},encodedString:function(h,b){return F("string",b).map(function(w){return w.toString(h)})},uintBE:E,uint8BE:E(1),uint16BE:E(2),uint32BE:E(4),uintLE:M,uint8LE:M(1),uint16LE:M(2),uint32LE:M(4),intBE:$,int8BE:$(1),int16BE:$(2),int32BE:$(4),intLE:j,int8LE:j(1),int16LE:j(2),int32LE:j(4),floatBE:F("floatBE",4).map(function(h){return h.readFloatBE(0)}),floatLE:F("floatLE",4).map(function(h){return h.readFloatLE(0)}),doubleBE:F("doubleBE",8).map(function(h){return h.readDoubleBE(0)}),doubleLE:F("doubleLE",8).map(function(h){return h.readDoubleLE(0)})},n.exports=r}])})})(Bi,Bi.exports);var p=Bi.exports,Is=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function Ku(t){return t==null?t:t.shiftToAll().normalize()}function zu(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}p.alt(p.regex(new RegExp(Is(),"")),p.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),p.whitespace.map(t=>"-"),p.any.map(t=>"")).many().map(t=>t.join(""));var yf=p.alt(p.regex(new RegExp(Is(),"")),p.regex(/[0-9\p{Letter}_-]+/u),p.whitespace.map(t=>" "),p.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function wf(t){return yf.tryParse(t)}function Ff(t){return t=Ku(t),t=O.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e!=0))),t.toHuman()}var Mn;(function(t){function e(D,k=Bs,B=!1){let C=n(D);if(!C)return k.renderNullAs;switch(C.type){case"null":return k.renderNullAs;case"string":return C.value;case"number":case"boolean":return""+C.value;case"html":return C.value.outerHTML;case"widget":return C.value.markdown();case"link":return C.value.markdown();case"function":return"<function>";case"array":let I="";return B&&(I+="["),I+=C.value.map(V=>e(V,k,!0)).join(", "),B&&(I+="]"),I;case"object":return"{ "+Object.entries(C.value).map(V=>V[0]+": "+e(V[1],k,!0)).join(", ")+" }";case"date":return C.value.second==0&&C.value.hour==0&&C.value.minute==0?C.value.toFormat(k.defaultDateFormat):C.value.toFormat(k.defaultDateTimeFormat);case"duration":return Ff(C.value)}}t.toString=e;function n(D){return f(D)?{type:"null",value:D}:c(D)?{type:"number",value:D}:u(D)?{type:"string",value:D}:F(D)?{type:"boolean",value:D}:g(D)?{type:"duration",value:D}:d(D)?{type:"date",value:D}:E(D)?{type:"widget",value:D}:y(D)?{type:"array",value:D}:S(D)?{type:"link",value:D}:j(D)?{type:"function",value:D}:M(D)?{type:"html",value:D}:$(D)?{type:"object",value:D}:void 0}t.wrapValue=n;function i(D,k){if($(D)){let B={};for(let[C,I]of Object.entries(D))B[C]=i(I,k);return B}else if(y(D)){let B=[];for(let C of D)B.push(i(C,k));return B}else return k(D)}t.mapLeaves=i;function s(D,k,B){var C,I;if(D===void 0&&(D=null),k===void 0&&(k=null),D===null&&k===null)return 0;if(D===null)return-1;if(k===null)return 1;let V=n(D),U=n(k);if(V===void 0&&U===void 0)return 0;if(V===void 0)return-1;if(U===void 0)return 1;if(V.type!=U.type)return V.type.localeCompare(U.type);if(V.value===U.value)return 0;switch(V.type){case"string":return V.value.localeCompare(U.value);case"number":return V.value<U.value?-1:V.value==U.value?0:1;case"null":return 0;case"boolean":return V.value==U.value?0:V.value?1:-1;case"link":let Pe=V.value,ue=U.value,me=B??(ve=>ve),Q=me(Pe.path).localeCompare(me(ue.path));if(Q!=0)return Q;let le=Pe.type.localeCompare(ue.type);return le!=0?le:Pe.subpath&&!ue.subpath?1:!Pe.subpath&&ue.subpath?-1:!Pe.subpath&&!ue.subpath?0:((C=Pe.subpath)!==null&&C!==void 0?C:"").localeCompare((I=ue.subpath)!==null&&I!==void 0?I:"");case"date":return V.value<U.value?-1:V.value.equals(U.value)?0:1;case"duration":return V.value<U.value?-1:V.value.equals(U.value)?0:1;case"array":let De=V.value,ee=U.value;for(let ve=0;ve<Math.min(De.length,ee.length);ve++){let je=s(De[ve],ee[ve]);if(je!=0)return je}return De.length-ee.length;case"object":let Fe=V.value,te=U.value,Ge=Array.from(Object.keys(Fe)),Gn=Array.from(Object.keys(te));Ge.sort(),Gn.sort();let an=s(Ge,Gn);if(an!=0)return an;for(let ve of Ge){let je=s(Fe[ve],te[ve]);if(je!=0)return je}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=s;function r(D){var k;return(k=n(D))===null||k===void 0?void 0:k.type}t.typeOf=r;function a(D){let k=n(D);if(!k)return!1;switch(k.type){case"number":return k.value!=0;case"string":return k.value.length>0;case"boolean":return k.value;case"link":return!!k.value.path;case"date":return k.value.toMillis()!=0;case"duration":return k.value.as("seconds")!=0;case"object":return Object.keys(k.value).length>0;case"array":return k.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=a;function o(D){if(D==null)return D;if(t.isArray(D))return[].concat(D.map(k=>o(k)));if(t.isObject(D)){let k={};for(let[B,C]of Object.entries(D))k[B]=o(C);return k}else return D}t.deepCopy=o;function u(D){return typeof D=="string"}t.isString=u;function c(D){return typeof D=="number"}t.isNumber=c;function d(D){return D instanceof N}t.isDate=d;function g(D){return D instanceof O}t.isDuration=g;function f(D){return D==null}t.isNull=f;function y(D){return Array.isArray(D)}t.isArray=y;function F(D){return typeof D=="boolean"}t.isBoolean=F;function S(D){return D instanceof pe}t.isLink=S;function E(D){return D instanceof Ii}t.isWidget=E;function M(D){return typeof HTMLElement!="undefined"?D instanceof HTMLElement:!1}t.isHtml=M;function $(D){return typeof D=="object"&&!M(D)&&!E(D)&&!y(D)&&!g(D)&&!d(D)&&!S(D)&&D!==void 0&&!f(D)}t.isObject=$;function j(D){return typeof D=="function"}t.isFunction=j})(Mn||(Mn={}));var Zu;(function(t){function e(s){return Mn.isObject(s)&&Object.keys(s).length==2&&"key"in s&&"rows"in s}t.isElementGroup=e;function n(s){for(let r of s)if(!e(r))return!1;return!0}t.isGrouping=n;function i(s){if(n(s)){let r=0;for(let a of s)r+=i(a.rows);return r}else return s.length}t.count=i})(Zu||(Zu={}));var pe=class{static file(e,n=!1,i){return new pe({path:e,embed:n,display:i,subpath:void 0,type:"file"})}static infer(e,n=!1,i){if(e.includes("#^")){let s=e.split("#^");return pe.block(s[0],s[1],n,i)}else if(e.includes("#")){let s=e.split("#");return pe.header(s[0],s[1],n,i)}else return pe.file(e,n,i)}static header(e,n,i,s){return new pe({path:e,embed:i,display:s,subpath:wf(n),type:"header"})}static block(e,n,i,s){return new pe({path:e,embed:i,display:s,subpath:n,type:"block"})}static fromObject(e){return new pe(e)}constructor(e){Object.assign(this,e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new pe(Object.assign({},this,{path:e}))}withDisplay(e){return new pe(Object.assign({},this,{display:e}))}withHeader(e){return pe.header(this.path,e,this.embed,this.display)}toFile(){return pe.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new pe(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new pe(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+zu(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,n;let i=this.path.replace("|","\\|");return this.type=="header"?i+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?i+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):i}fileName(){return zu(this.path).replace(".md","")}},Ii=class{constructor(e){this.$widget=e}},Yu=class extends Ii{constructor(e,n){super("dataview:list-pair");this.key=e,this.value=n}markdown(){return`${Mn.toString(this.key)}: ${Mn.toString(this.value)}`}},Ju=class extends Ii{constructor(e,n){super("dataview:external-link");this.url=e,this.display=n}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},Qu;(function(t){function e(a,o){return new Yu(a,o)}t.listPair=e;function n(a,o){return new Ju(a,o)}t.externalLink=n;function i(a){return a.$widget==="dataview:list-pair"}t.isListPair=i;function s(a){return a.$widget==="dataview:external-link"}t.isExternalLink=s;function r(a){return i(a)||s(a)}t.isBuiltin=r})(Qu||(Qu={}));var ne;(function(t){function e(f){return{type:"variable",name:f}}t.variable=e;function n(f){return{type:"literal",value:f}}t.literal=n;function i(f,y,F){return{type:"binaryop",left:f,op:y,right:F}}t.binaryOp=i;function s(f,y){return{type:"index",object:f,index:y}}t.index=s;function r(f){let y=f.split("."),F=t.variable(y[0]);for(let S=1;S<y.length;S++)F=t.index(F,t.literal(y[S]));return F}t.indexVariable=r;function a(f,y){return{type:"lambda",arguments:f,value:y}}t.lambda=a;function o(f,y){return{type:"function",func:f,arguments:y}}t.func=o;function u(f){return{type:"list",values:f}}t.list=u;function c(f){return{type:"object",values:f}}t.object=c;function d(f){return{type:"negated",child:f}}t.negate=d;function g(f){return f=="<="||f=="<"||f==">"||f==">="||f=="!="||f=="="}t.isCompareOp=g,t.NULL=t.literal(null)})(ne||(ne={}));var ze;(function(t){function e(d){return{type:"tag",tag:d}}t.tag=e;function n(d){return{type:"csv",path:d}}t.csv=n;function i(d){return{type:"folder",folder:d}}t.folder=i;function s(d,g){return{type:"link",file:d,direction:g?"incoming":"outgoing"}}t.link=s;function r(d,g,f){return{type:"binaryop",left:d,op:g,right:f}}t.binaryOp=r;function a(d,g){return{type:"binaryop",left:d,op:"&",right:g}}t.and=a;function o(d,g){return{type:"binaryop",left:d,op:"|",right:g}}t.or=o;function u(d){return{type:"negate",child:d}}t.negate=u;function c(){return{type:"empty"}}t.empty=c})(ze||(ze={}));var Xu=new RegExp(Is(),""),$s={year:O.fromObject({years:1}),years:O.fromObject({years:1}),yr:O.fromObject({years:1}),yrs:O.fromObject({years:1}),month:O.fromObject({months:1}),months:O.fromObject({months:1}),mo:O.fromObject({months:1}),mos:O.fromObject({months:1}),week:O.fromObject({weeks:1}),weeks:O.fromObject({weeks:1}),wk:O.fromObject({weeks:1}),wks:O.fromObject({weeks:1}),w:O.fromObject({weeks:1}),day:O.fromObject({days:1}),days:O.fromObject({days:1}),d:O.fromObject({days:1}),hour:O.fromObject({hours:1}),hours:O.fromObject({hours:1}),hr:O.fromObject({hours:1}),hrs:O.fromObject({hours:1}),h:O.fromObject({hours:1}),minute:O.fromObject({minutes:1}),minutes:O.fromObject({minutes:1}),min:O.fromObject({minutes:1}),mins:O.fromObject({minutes:1}),m:O.fromObject({minutes:1}),second:O.fromObject({seconds:1}),seconds:O.fromObject({seconds:1}),sec:O.fromObject({seconds:1}),secs:O.fromObject({seconds:1}),s:O.fromObject({seconds:1})},Vs={now:()=>N.local(),today:()=>N.local().startOf("day"),yesterday:()=>N.local().startOf("day").minus(O.fromObject({days:1})),tomorrow:()=>N.local().startOf("day").plus(O.fromObject({days:1})),sow:()=>N.local().startOf("week"),"start-of-week":()=>N.local().startOf("week"),eow:()=>N.local().endOf("week"),"end-of-week":()=>N.local().endOf("week"),soy:()=>N.local().startOf("year"),"start-of-year":()=>N.local().startOf("year"),eoy:()=>N.local().endOf("year"),"end-of-year":()=>N.local().endOf("year"),som:()=>N.local().startOf("month"),"start-of-month":()=>N.local().startOf("month"),eom:()=>N.local().endOf("month"),"end-of-month":()=>N.local().endOf("month")},Gs=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function vf(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function Ef(t){let[e,n]=vf(t);return pe.infer(e,!1,n)}function Bn(t,e,n){return p.seqMap(t,p.seq(p.optWhitespace,e,p.optWhitespace,t).many(),(i,s)=>{if(s.length==0)return i;let r=n(i,s[0][1],s[0][3]);for(let a=1;a<s.length;a++)r=n(r,s[a][1],s[a][3]);return r})}function kf(t,...e){return p.custom((n,i)=>(s,r)=>{let a=t._(s,r);if(!a.status)return a;for(let o of e){let u=o(a.value)._(s,a.index);if(!u.status)return a;a=u}return a})}var Ie=p.createLanguage({number:t=>p.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>p.string('"').then(p.alt(t.escapeCharacter,p.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(p.string('"')).desc("string"),escapeCharacter:t=>p.string("\\").then(p.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>p.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>p.seqMap(p.string("#"),p.alt(p.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,n)=>e+n.join("")).desc("tag ('#hello/stuff')"),identifier:t=>p.seqMap(p.alt(p.regexp(/\p{Letter}/u),p.regexp(Xu).desc("text")),p.alt(p.regexp(/[0-9\p{Letter}_-]/u),p.regexp(Xu).desc("text")).many(),(e,n)=>e+n.join("")).desc("variable identifier"),link:t=>p.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>Ef(e)).desc("file link"),embedLink:t=>p.seqMap(p.string("!").atMost(1),t.link,(e,n)=>(e.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:t=>p.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>p.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>p.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>p.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>p.seqMap(p.regexp(/\d{4}/),p.string("-"),p.regexp(/\d{2}/),(e,n,i)=>N.fromObject({year:Number.parseInt(e),month:Number.parseInt(i)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>p.alt(...Object.keys(Vs).sort((e,n)=>n.length-e.length).map(p.string)),date:t=>kf(t.rootDate,e=>p.seqMap(p.string("-"),p.regexp(/\d{2}/),(n,i)=>e.set({day:Number.parseInt(i)})),e=>p.seqMap(p.string("T"),p.regexp(/\d{2}/),(n,i)=>e.set({hour:Number.parseInt(i)})),e=>p.seqMap(p.string(":"),p.regexp(/\d{2}/),(n,i)=>e.set({minute:Number.parseInt(i)})),e=>p.seqMap(p.string(":"),p.regexp(/\d{2}/),(n,i)=>e.set({second:Number.parseInt(i)})),e=>p.alt(p.seqMap(p.string("."),p.regexp(/\d{3}/),(n,i)=>e.set({millisecond:Number.parseInt(i)})),p.succeed(e)),e=>p.alt(p.seqMap(p.string("+").or(p.string("-")),p.regexp(/\d{1,2}(:\d{2})?/),(n,i)=>e.setZone("UTC"+n+i,{keepLocalTime:!0})),p.seqMap(p.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),p.seqMap(p.string("["),p.regexp(/[0-9A-Za-z+-\/]+/u),p.string("]"),(n,i,s)=>e.setZone(i,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>p.alt(t.dateShorthand.map(e=>Vs[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>p.alt(...Object.keys($s).sort((e,n)=>n.length-e.length).map(p.string)),duration:t=>p.seqMap(t.number,p.optWhitespace,t.durationType,(e,n,i)=>$s[i].mapUnits(s=>s*e)).sepBy1(p.string(",").trim(p.optWhitespace).or(p.optWhitespace)).map(e=>e.reduce((n,i)=>n.plus(i))).desc("duration like 4hr2min"),rawNull:t=>p.string("null"),tagSource:t=>t.tag.map(e=>ze.tag(e)),csvSource:t=>p.seqMap(p.string("csv(").skip(p.optWhitespace),t.string,p.string(")"),(e,n,i)=>ze.csv(n)),linkIncomingSource:t=>t.link.map(e=>ze.link(e.path,!0)),linkOutgoingSource:t=>p.seqMap(p.string("outgoing(").skip(p.optWhitespace),t.link,p.string(")"),(e,n,i)=>ze.link(n.path,!1)),folderSource:t=>t.string.map(e=>ze.folder(e)),parensSource:t=>p.seqMap(p.string("("),p.optWhitespace,t.source,p.optWhitespace,p.string(")"),(e,n,i,s,r)=>i),negateSource:t=>p.seqMap(p.alt(p.string("-"),p.string("!")),t.atomSource,(e,n)=>ze.negate(n)),atomSource:t=>p.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>Bn(t.atomSource,t.binaryBooleanOp.map(e=>e),ze.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>Gs.includes(e.toUpperCase())?p.fail("Variable fields cannot be a keyword ("+Gs.join(" or ")+")"):p.succeed(ne.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>ne.literal(e)).desc("number"),stringField:t=>t.string.map(e=>ne.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>ne.literal(e)).desc("boolean"),dateField:t=>p.seqMap(p.string("date("),p.optWhitespace,t.datePlus,p.optWhitespace,p.string(")"),(e,n,i,s,r)=>ne.literal(i)).desc("date"),durationField:t=>p.seqMap(p.string("dur("),p.optWhitespace,t.duration,p.optWhitespace,p.string(")"),(e,n,i,s,r)=>ne.literal(i)).desc("duration"),nullField:t=>t.rawNull.map(e=>ne.NULL),linkField:t=>t.link.map(e=>ne.literal(e)),listField:t=>t.field.sepBy(p.string(",").trim(p.optWhitespace)).wrap(p.string("[").skip(p.optWhitespace),p.optWhitespace.then(p.string("]"))).map(e=>ne.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>p.seqMap(t.identifier.or(t.string),p.string(":").trim(p.optWhitespace),t.field,(e,n,i)=>({name:e,value:i})).sepBy(p.string(",").trim(p.optWhitespace)).wrap(p.string("{").skip(p.optWhitespace),p.optWhitespace.then(p.string("}"))).map(e=>{let n={};for(let i of e)n[i.name]=i.value;return ne.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>p.alt(t.date,t.duration.map(e=>Ku(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(p.string(",").trim(p.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>p.alt(p.seqMap(t.atomInlineField,p.string(",").trim(p.optWhitespace),t.inlineFieldList,(e,n,i)=>[e].concat(i)),t.atomInlineField),atomField:t=>p.alt(t.embedLink.map(e=>ne.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>p.seqMap(t.atomField,p.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,n)=>{let i=e;for(let s of n)switch(s.type){case"dot":i=ne.index(i,ne.literal(s.field));break;case"index":i=ne.index(i,s.field);break;case"function":i=ne.func(i,s.fields);break}return i}),negatedField:t=>p.seqMap(p.string("!"),t.indexField,(e,n)=>ne.negate(n)).desc("negated field"),parensField:t=>p.seqMap(p.string("("),p.optWhitespace,t.field,p.optWhitespace,p.string(")"),(e,n,i,s,r)=>i),lambdaField:t=>p.seqMap(t.identifier.sepBy(p.string(",").trim(p.optWhitespace)).wrap(p.string("(").trim(p.optWhitespace),p.string(")").trim(p.optWhitespace)),p.string("=>").trim(p.optWhitespace),t.field,(e,n,i)=>({type:"lambda",arguments:e,value:i})),dotPostfix:t=>p.seqMap(p.string("."),t.identifier,(e,n)=>({type:"dot",field:n})),indexPostfix:t=>p.seqMap(p.string("["),p.optWhitespace,t.field,p.optWhitespace,p.string("]"),(e,n,i,s,r)=>({type:"index",field:i})),functionPostfix:t=>p.seqMap(p.string("("),p.optWhitespace,t.field.sepBy(p.string(",").trim(p.optWhitespace)),p.optWhitespace,p.string(")"),(e,n,i,s,r)=>({type:"function",fields:i})),binaryMulDivField:t=>Bn(t.indexField,t.binaryMulDiv,ne.binaryOp),binaryPlusMinusField:t=>Bn(t.binaryMulDivField,t.binaryPlusMinus,ne.binaryOp),binaryCompareField:t=>Bn(t.binaryPlusMinusField,t.binaryCompareOp,ne.binaryOp),binaryBooleanField:t=>Bn(t.binaryCompareField,t.binaryBooleanOp,ne.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function xf(t){try{return Mi.success(Ie.field.tryParse(t))}catch(e){return Mi.failure(""+e)}}var $i;(function(t){function e(i,s){return{name:i,field:s}}t.named=e;function n(i,s){return{field:i,direction:s}}t.sortBy=n})($i||($i={}));function Cf(t){return p.custom((e,n)=>(i,s)=>{let r=t._(i,s);return r.status?Object.assign({},r,{value:[r.value,i.substring(s,r.index)]}):r})}function Sf(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}function el(t,e){return p.eof.map(t).or(p.whitespace.then(e))}var Tf=p.createLanguage({queryType:t=>p.alt(p.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>p.seqMap(Ie.field.skip(p.whitespace),p.regexp(/AS/i).skip(p.whitespace),Ie.identifier.or(Ie.string),(e,n,i)=>$i.named(i,e)),namedField:t=>p.alt(t.explicitNamedField,Cf(Ie.field).map(([e,n])=>$i.named(Sf(n),e))),sortField:t=>p.seqMap(Ie.field.skip(p.optWhitespace),p.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,n)=>{let i=n.length==0?"ascending":n[0].toLowerCase();return i=="desc"&&(i="descending"),i=="asc"&&(i="ascending"),{field:e,direction:i}}),headerClause:t=>t.queryType.chain(e=>{switch(e){case"table":return el(()=>({type:e,fields:[],showId:!0}),p.seqMap(p.regexp(/WITHOUT\s+ID/i).skip(p.optWhitespace).atMost(1),p.sepBy(t.namedField,p.string(",").trim(p.optWhitespace)),(n,i)=>({type:e,fields:i,showId:n.length==0})));case"list":return el(()=>({type:e,format:void 0,showId:!0}),p.seqMap(p.regexp(/WITHOUT\s+ID/i).skip(p.optWhitespace).atMost(1),Ie.field.atMost(1),(n,i)=>({type:e,format:i.length==1?i[0]:void 0,showId:n.length==0})));case"task":return p.succeed({type:e});case"calendar":return p.whitespace.then(p.seqMap(t.namedField,n=>({type:e,showId:!0,field:n})));default:return p.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>p.seqMap(p.regexp(/FROM/i),p.whitespace,Ie.source,(e,n,i)=>i),whereClause:t=>p.seqMap(p.regexp(/WHERE/i),p.whitespace,Ie.field,(e,n,i)=>({type:"where",clause:i})).desc("WHERE <expression>"),sortByClause:t=>p.seqMap(p.regexp(/SORT/i),p.whitespace,t.sortField.sepBy1(p.string(",").trim(p.optWhitespace)),(e,n,i)=>({type:"sort",fields:i})).desc("SORT field [ASC/DESC]"),limitClause:t=>p.seqMap(p.regexp(/LIMIT/i),p.whitespace,Ie.field,(e,n,i)=>({type:"limit",amount:i})).desc("LIMIT <value>"),flattenClause:t=>p.seqMap(p.regexp(/FLATTEN/i).skip(p.whitespace),t.namedField,(e,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>p.seqMap(p.regexp(/GROUP BY/i).skip(p.whitespace),t.namedField,(e,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:t=>p.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>p.seqMap(t.headerClause.trim(p.optWhitespace),t.fromClause.trim(p.optWhitespace).atMost(1),t.clause.trim(p.optWhitespace).many(),(e,n,i)=>({header:e,source:n.length==0?ze.folder(""):n[0],operations:i,settings:Bs}))}),Pf=t=>{var e;return t?(e=t.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},Rf=t=>t.plugins.enabledPlugins.has("dataview");Ze.DATE_SHORTHANDS=Vs;Ze.DURATION_TYPES=$s;Ze.EXPRESSION=Ie;Ze.KEYWORDS=Gs;Ze.QUERY_LANGUAGE=Tf;Ze.getAPI=Pf;Ze.isPluginEnabled=Rf;Ze.parseField=xf});var il=Xe((_s,qs)=>{(function(t,e,n){typeof _s=="object"?(qs.exports=n(),qs.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",_s,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(i,s){if(typeof i!="string")throw new Error("slugify: string argument expected");s=typeof s=="string"?{replacement:s}:s||{};var r=e[s.locale]||{},a=s.replacement===void 0?"-":s.replacement,o=s.trim===void 0?!0:s.trim,u=i.normalize().split("").reduce(function(c,d){var g=r[d];return g===void 0&&(g=t[d]),g===void 0&&(g=d),g===a&&(g=" "),c+g.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return s.strict&&(u=u.replace(/[^A-Za-z0-9\s]/g,"")),o&&(u=u.trim()),u=u.replace(/\s+/g,a),s.lower&&(u=u.toLowerCase()),u}return n.extend=function(i){Object.assign(t,i)},n})});qi(exports,{default:()=>pr});function rt(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var oa=K(Vr());function Gr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kn(t){var e,n;return Gr(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(Gr(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function lc(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function jr(t,e){let n=Object.assign({},t);return Object.keys(e).forEach(i=>{Kn(e[i])?i in t?n[i]=jr(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}function Hr(t){for(let e in t)t[e]===void 0&&delete t[e];return t}function Wi(t,e,n){if(typeof e=="string"){let[s,r]=e.split(" ");n=Object.assign(r?{method:s,url:r}:{url:s},n)}else n=Object.assign({},e);n.headers=lc(n.headers),Hr(n),Hr(n.headers);let i=jr(t||{},n);return t&&t.mediaType.previews.length&&(i.mediaType.previews=t.mediaType.previews.filter(s=>!i.mediaType.previews.includes(s)).concat(i.mediaType.previews)),i.mediaType.previews=i.mediaType.previews.map(s=>s.replace(/-preview/,"")),i}function cc(t,e){let n=/\?/.test(t)?"&":"?",i=Object.keys(e);return i.length===0?t:t+n+i.map(s=>s==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${s}=${encodeURIComponent(e[s])}`).join("&")}var dc=/\{[^}]+\}/g;function hc(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function fc(t){let e=t.match(dc);return e?e.map(hc).reduce((n,i)=>n.concat(i),[]):[]}function Ur(t,e){return Object.keys(t).filter(n=>!e.includes(n)).reduce((n,i)=>(n[i]=t[i],n),{})}function _r(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function Bt(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function cn(t,e,n){return e=t==="+"||t==="#"?_r(e):Bt(e),n?Bt(n)+"="+e:e}function It(t){return t!=null}function Ki(t){return t===";"||t==="&"||t==="?"}function pc(t,e,n,i){var s=t[n],r=[];if(It(s)&&s!=="")if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")s=s.toString(),i&&i!=="*"&&(s=s.substring(0,parseInt(i,10))),r.push(cn(e,s,Ki(e)?n:""));else if(i==="*")Array.isArray(s)?s.filter(It).forEach(function(a){r.push(cn(e,a,Ki(e)?n:""))}):Object.keys(s).forEach(function(a){It(s[a])&&r.push(cn(e,s[a],a))});else{let a=[];Array.isArray(s)?s.filter(It).forEach(function(o){a.push(cn(e,o))}):Object.keys(s).forEach(function(o){It(s[o])&&(a.push(Bt(o)),a.push(cn(e,s[o].toString())))}),Ki(e)?r.push(Bt(n)+"="+a.join(",")):a.length!==0&&r.push(a.join(","))}else e===";"?It(s)&&r.push(Bt(n)):s===""&&(e==="&"||e==="?")?r.push(Bt(n)+"="):s===""&&r.push("");return r}function mc(t){return{expand:gc.bind(null,t)}}function gc(t,e){var n=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,s,r){if(s){let o="",u=[];if(n.indexOf(s.charAt(0))!==-1&&(o=s.charAt(0),s=s.substr(1)),s.split(/,/g).forEach(function(c){var d=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);u.push(pc(e,o,d[1],d[2]||d[3]))}),o&&o!=="+"){var a=",";return o==="?"?a="&":o!=="#"&&(a=o),(u.length!==0?o:"")+u.join(a)}else return u.join(",")}else return _r(r)})}function qr(t){let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},t.headers),s,r=Ur(t,["method","baseUrl","url","headers","request","mediaType"]),a=fc(n);n=mc(n).expand(r),/^http/.test(n)||(n=t.baseUrl+n);let o=Object.keys(t).filter(d=>a.includes(d)).concat("baseUrl"),u=Ur(r,o);if(!/application\/octet-stream/i.test(i.accept)&&(t.mediaType.format&&(i.accept=i.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){let d=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=d.concat(t.mediaType.previews).map(g=>{let f=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${g}-preview${f}`}).join(",")}return["GET","HEAD"].includes(e)?n=cc(n,u):"data"in u?s=u.data:Object.keys(u).length&&(s=u),!i["content-type"]&&typeof s!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof s=="undefined"&&(s=""),Object.assign({method:e,url:n,headers:i},typeof s!="undefined"?{body:s}:null,t.request?{request:t.request}:null)}function bc(t,e,n){return qr(Wi(t,e,n))}function Wr(t,e){let n=Wi(t,e),i=bc.bind(null,n);return Object.assign(i,{DEFAULTS:n,defaults:Wr.bind(null,n),merge:Wi.bind(null,n),parse:qr})}var Dc="7.0.6",yc=`octokit-endpoint.js/${Dc} ${rt()}`,wc={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":yc},mediaType:{format:"",previews:[]}},Kr=Wr(null,wc);var na=K(Zr());var zn=class extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}};var Zi=K(ta()),vc=(0,Zi.default)(t=>console.warn(t)),Ec=(0,Zi.default)(t=>console.warn(t)),bt=class extends Error{constructor(e,n,i){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let s;"headers"in i&&typeof i.headers!="undefined"&&(s=i.headers),"response"in i&&(this.response=i.response,s=i.response.headers);let r=Object.assign({},i.request);i.request.headers.authorization&&(r.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r,Object.defineProperty(this,"code",{get(){return vc(new zn("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return Ec(new zn("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),s||{}}})}};var kc="6.2.8";function xc(t){return t.arrayBuffer()}function ia(t){let e=t.request&&t.request.log?t.request.log:console;(Kn(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let n={},i,s;return(t.request&&t.request.fetch||globalThis.fetch||na.default)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect,...t.body&&{duplex:"half"}},t.request)).then(async a=>{s=a.url,i=a.status;for(let o of a.headers)n[o[0]]=o[1];if("deprecation"in n){let o=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),u=o&&o.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${u?`. See ${u}`:""}`)}if(!(i===204||i===205)){if(t.method==="HEAD"){if(i<400)return;throw new bt(a.statusText,i,{response:{url:s,status:i,headers:n,data:void 0},request:t})}if(i===304)throw new bt("Not modified",i,{response:{url:s,status:i,headers:n,data:await Yi(a)},request:t});if(i>=400){let o=await Yi(a);throw new bt(Cc(o),i,{response:{url:s,status:i,headers:n,data:o},request:t})}return Yi(a)}}).then(a=>({status:i,url:s,headers:n,data:a})).catch(a=>{throw a instanceof bt||a.name==="AbortError"?a:new bt(a.message,500,{request:t})})}async function Yi(t){let e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():xc(t)}function Cc(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}function Ji(t,e){let n=t.defaults(e);return Object.assign(function(s,r){let a=n.merge(s,r);if(!a.request||!a.request.hook)return ia(n.parse(a));let o=(u,c)=>ia(n.parse(n.merge(u,c)));return Object.assign(o,{endpoint:n,defaults:Ji.bind(null,n)}),a.request.hook(o,a)},{endpoint:n,defaults:Ji.bind(null,n)})}var dn=Ji(Kr,{headers:{"user-agent":`octokit-request.js/${kc} ${rt()}`}});var Sc="5.0.6";function Tc(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var Pc=class extends Error{constructor(t,e,n){super(Tc(n));this.request=t,this.headers=e,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Rc=["method","baseUrl","url","headers","request","query","mediaType"],Oc=["query","method","url"],sa=/\/api\/v3\/?$/;function Ac(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let a in n)if(!!Oc.includes(a))return Promise.reject(new Error(`[@octokit/graphql] "${a}" cannot be used as variable name`))}let i=typeof e=="string"?Object.assign({query:e},n):e,s=Object.keys(i).reduce((a,o)=>Rc.includes(o)?(a[o]=i[o],a):(a.variables||(a.variables={}),a.variables[o]=i[o],a),{}),r=i.baseUrl||t.endpoint.DEFAULTS.baseUrl;return sa.test(r)&&(s.url=r.replace(sa,"/api/graphql")),t(s).then(a=>{if(a.data.errors){let o={};for(let u of Object.keys(a.headers))o[u]=a.headers[u];throw new Pc(s,o,a.data)}return a.data.data})}function Qi(t,e){let n=t.defaults(e);return Object.assign((s,r)=>Ac(n,s,r),{defaults:Qi.bind(null,n),endpoint:n.endpoint})}var wp=Qi(dn,{headers:{"user-agent":`octokit-graphql.js/${Sc} ${rt()}`},method:"POST",url:"/graphql"});function ra(t){return Qi(t,{method:"POST",url:"/graphql"})}var Nc=/^v1\./,Lc=/^ghs_/,Mc=/^ghu_/;async function Bc(t){let e=t.split(/\./).length===3,n=Nc.test(t)||Lc.test(t),i=Mc.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":i?"user-to-server":"oauth"}}function Ic(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function $c(t,e,n,i){let s=e.endpoint.merge(n,i);return s.headers.authorization=Ic(t),e(s)}var aa=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Bc.bind(null,e),{hook:$c.bind(null,e)})};var ua="4.2.4",hn=class{static defaults(t){return class extends this{constructor(...n){let i=n[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var e;let n=this.plugins;return e=class extends this{},e.plugins=n.concat(t.filter(s=>!n.includes(s))),e}constructor(t={}){let e=new oa.Collection,n={baseUrl:dn.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:e.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${ua} ${rt()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=dn.defaults(n),this.graphql=ra(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=e,t.authStrategy){let{authStrategy:s,...r}=t,a=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:r},t.auth));e.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{let s=aa(t.auth);e.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,t))})}};hn.VERSION=ua;hn.plugins=[];var Vc={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}},fn=class{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Vc,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new fn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new fn(this.logger,e)}},He=new fn,pn=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]=this.observers[i]||[],this.observers[i].push(n)}),this}off(e,n){if(!!this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(i=>i!==n)}}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach(a=>{a(...i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[e,...i])})}};function mn(){let t,e,n=new Promise((i,s)=>{t=i,e=s});return n.resolve=t,n.reject=e,n}function la(t){return t==null?"":""+t}function Gc(t,e,n){t.forEach(i=>{e[i]&&(n[i]=e[i])})}function Xi(t,e,n){function i(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function s(){return!t||typeof t=="string"}let r=typeof e!="string"?[].concat(e):e.split(".");for(;r.length>1;){if(s())return{};let a=i(r.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return s()?{}:{obj:t,k:i(r.shift())}}function ca(t,e,n){let{obj:i,k:s}=Xi(t,e,Object);i[s]=n}function jc(t,e,n,i){let{obj:s,k:r}=Xi(t,e,Object);s[r]=s[r]||[],i&&(s[r]=s[r].concat(n)),i||s[r].push(n)}function Yn(t,e){let{obj:n,k:i}=Xi(t,e);if(!!n)return n[i]}function Hc(t,e,n){let i=Yn(t,n);return i!==void 0?i:Yn(e,n)}function da(t,e,n){for(let i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?typeof t[i]=="string"||t[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?n&&(t[i]=e[i]):da(t[i],e[i],n):t[i]=e[i]);return t}function Vt(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Uc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function _c(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Uc[e]):t}var qc=[" ",",","?","!",";"];function Wc(t,e,n){e=e||"",n=n||"";let i=qc.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(i.length===0)return!0;let s=new RegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`),r=!s.test(t);if(!r){let a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(r=!0)}return r}function Jn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];let i=e.split(n),s=t;for(let r=0;r<i.length;++r){if(!s||typeof s[i[r]]=="string"&&r+1<i.length)return;if(s[i[r]]===void 0){let a=2,o=i.slice(r,r+a).join(n),u=s[o];for(;u===void 0&&i.length>r+a;)a++,o=i.slice(r,r+a).join(n),u=s[o];if(u===void 0)return;if(u===null)return null;if(e.endsWith(o)){if(typeof u=="string")return u;if(o&&typeof u[o]=="string")return u[o]}let c=i.slice(r+a).join(n);return c?Jn(u,c,n):void 0}s=s[i[r]]}return s}function Qn(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}var es=class extends pn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super();this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,n];i&&typeof i!="string"&&(o=o.concat(i)),i&&typeof i=="string"&&(o=o.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(o=e.split("."));let u=Yn(this.data,o);return u||!a||typeof i!="string"?u:Jn(this.data&&this.data[e]&&this.data[e][n],i,r)}addResource(e,n,i,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=[e,n];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),ca(this.data,o,s),r.silent||this.emit("added",e,n,i,s)}addResources(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let r in i)(typeof i[r]=="string"||Object.prototype.toString.apply(i[r])==="[object Array]")&&this.addResource(e,n,r,i[r],{silent:!0});s.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,s,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=i,i=n,n=o[1]),this.addNamespaces(n);let u=Yn(this.data,o)||{};s?da(u,i,r):u={...u,...i},ca(this.data,o,u),a.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}},ha={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,s){return t.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,n,i,s))}),e}},fa={},gn=class extends pn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super();Gc(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=He.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let i=this.resolve(e,n);return i&&i.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");let s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,r=n.ns||this.options.defaultNS||[],a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Wc(e,i,s);if(a&&!o){let u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:r};let c=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(s)}return typeof r=="string"&&(r=[r]),{key:e,namespaces:r}}translate(e,n,i){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),u=o[o.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){let D=n.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${D}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u}:`${u}${D}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u}:a}let g=this.resolve(e,n),f=g&&g.res,y=g&&g.usedKey||a,F=g&&g.exactUsedKey||a,S=Object.prototype.toString.apply(f),E=["[object Number]","[object Function]","[object RegExp]"],M=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject;if($&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&E.indexOf(S)<0&&!(typeof M=="string"&&S==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,f,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(g.res=D,g):D}if(r){let D=S==="[object Array]",k=D?[]:{},B=D?F:y;for(let C in f)if(Object.prototype.hasOwnProperty.call(f,C)){let I=`${B}${r}${C}`;k[C]=this.translate(I,{...n,joinArrays:!1,ns:o}),k[C]===I&&(k[C]=f[C])}f=k}}else if($&&typeof M=="string"&&S==="[object Array]")f=f.join(M),f&&(f=this.extendTranslation(f,e,n,i));else{let D=!1,k=!1,B=n.count!==void 0&&typeof n.count!="string",C=gn.hasDefaultValue(n),I=B?this.pluralResolver.getSuffix(c,n.count,n):"",V=n.ordinal&&B?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",U=n[`defaultValue${I}`]||n[`defaultValue${V}`]||n.defaultValue;!this.isValidLookup(f)&&C&&(D=!0,f=U),this.isValidLookup(f)||(k=!0,f=a);let ue=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:f,me=C&&U!==f&&this.options.updateMissing;if(k||D||me){if(this.logger.log(me?"updateKey":"missingKey",c,u,a,me?U:f),r){let ee=this.resolve(a,{...n,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[],le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let ee=0;ee<le.length;ee++)Q.push(le[ee]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(n.lng||this.language):Q.push(n.lng||this.language);let De=(ee,Fe,te)=>{let Ge=C&&te!==f?te:ue;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,u,Fe,Ge,me,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ee,u,Fe,Ge,me,n),this.emit("missingKey",ee,u,Fe,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?Q.forEach(ee=>{this.pluralResolver.getSuffixes(ee,n).forEach(Fe=>{De([ee],a+Fe,n[`defaultValue${Fe}`]||U)})}):De(Q,a,U))}f=this.extendTranslation(f,e,n,g,i),k&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${u}:${a}`),(k||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,D?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(g.res=f,g):f}extendTranslation(e,n,i,s,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let c=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(c){let f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let g=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,i.lng||this.language,i),c){let f=e.match(this.interpolator.nestingRegexp),y=f&&f.length;d<y&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(i.lng=s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,y=new Array(f),F=0;F<f;F++)y[F]=arguments[F];return r&&r[0]===y[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):a.translate(...y,n)},i)),i.interpolation&&this.interpolator.reset()}let o=i.postProcess||this.options.postProcess,u=typeof o=="string"?[o]:o;return e!=null&&u&&u.length&&i.applyPostProcessor!==!1&&(e=ha.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:s,...i}:i,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,s,r,a,o;return typeof e=="string"&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(i))return;let c=this.extractFromKey(u,n),d=c.key;s=d;let g=c.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));let f=n.count!==void 0&&typeof n.count!="string",y=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),F=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(E=>{this.isValidLookup(i)||(o=E,!fa[`${S[0]}-${E}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(fa[`${S[0]}-${E}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(M=>{if(this.isValidLookup(i))return;a=M;let $=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys($,d,M,E,n);else{let D;f&&(D=this.pluralResolver.getSuffix(M,n.count,n));let k=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&($.push(d+D),n.ordinal&&D.indexOf(B)===0&&$.push(d+D.replace(B,this.options.pluralSeparator)),y&&$.push(d+k)),F){let C=`${d}${this.options.contextSeparator}${n.context}`;$.push(C),f&&($.push(C+D),n.ordinal&&D.indexOf(B)===0&&$.push(C+D.replace(B,this.options.pluralSeparator)),y&&$.push(C+k))}}let j;for(;j=$.pop();)this.isValidLookup(i)||(r=j,i=this.getResource(M,E,j,n))}))})}),{res:i,usedKey:s,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,i,s):this.resourceStore.getResource(e,n,i,s)}static hasDefaultValue(e){let n="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}};function ts(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ns=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=He.create("languageUtils")}getScriptPartFromCode(e){if(e=Qn(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Qn(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let n=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(s=>s.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=ts(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=ts(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=ts(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;let s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;let s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(r=>{if(r===s)return r;if(!(r.indexOf("-")<0&&s.indexOf("-")<0)&&r.indexOf(s)===0)return r})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){let i=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],r=a=>{!a||(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):typeof e=="string"&&r(this.formatLanguageCode(e)),i.forEach(a=>{s.indexOf(a)<0&&r(this.formatLanguageCode(a))}),s}},Kc=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],zc={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}},Zc=["v1","v2","v3"],Yc=["v4"],pa={zero:0,one:1,two:2,few:3,many:4,other:5};function Jc(){let t={};return Kc.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:zc[e.fc]}})}),t}var ma=class{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=He.create("pluralResolver"),(!this.options.compatibilityJSON||Yc.includes(this.options.compatibilityJSON))&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Jc()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Qn(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((s,r)=>pa[s]-pa[r]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):i.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(e,i);return s?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){let i=e.noAbs?e.plurals(n):e.plurals(Math.abs(n)),s=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));let r=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!Zc.includes(this.options.compatibilityJSON)}};function ga(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=Hc(t,e,n);return!r&&s&&typeof n=="string"&&(r=Jn(t,n,i),r===void 0&&(r=Jn(e,n,i))),r}var ba=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=He.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let n=e.interpolation;this.escape=n.escape!==void 0?n.escape:_c,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Vt(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Vt(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Vt(n.nestingPrefix):n.nestingPrefixEscaped||Vt("$t("),this.nestingSuffix=n.nestingSuffix?Vt(n.nestingSuffix):n.nestingSuffixEscaped||Vt(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");let n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");let i=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(i,"g")}interpolate(e,n,i,s){let r,a,o,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(F){return F.replace(/\$/g,"$$$$")}let d=F=>{if(F.indexOf(this.formatSeparator)<0){let $=ga(n,u,F,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,i,{...s,...n,interpolationkey:F}):$}let S=F.split(this.formatSeparator),E=S.shift().trim(),M=S.join(this.formatSeparator).trim();return this.format(ga(n,u,E,this.options.keySeparator,this.options.ignoreJSONStructure),M,i,{...s,...n,interpolationkey:E})};this.resetRegExp();let g=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:F=>c(F)},{regex:this.regexp,safeValue:F=>this.escapeValue?c(this.escape(F)):c(F)}].forEach(F=>{for(o=0;r=F.regex.exec(e);){let S=r[1].trim();if(a=d(S),a===void 0)if(typeof g=="function"){let M=g(e,r,s);a=typeof M=="string"?M:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))a="";else if(f){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=la(a));let E=F.safeValue(a);if(e=e.replace(r[0],E),f?(F.regex.lastIndex+=a.length,F.regex.lastIndex-=r[0].length):F.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,a;function o(u,c){let d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;let g=u.split(new RegExp(`${d}[ ]*{`)),f=`{${g[1]}`;u=g[0],f=this.interpolate(f,a);let y=f.match(/'/g),F=f.match(/"/g);(y&&y.length%2==0&&!F||F.length%2!=0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),c&&(a={...c,...a})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,S),`${u}${d}${f}`}return delete a.defaultValue,u}for(;s=this.nestingRegexp.exec(e);){let u=[];a={...i},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){let d=s[1].split(this.formatSeparator).map(g=>g.trim());s[1]=d.shift(),u=d,c=!0}if(r=n(o.call(this,s[1].trim(),a),a),r&&s[0]===e&&typeof r!="string")return r;typeof r!="string"&&(r=la(r)),r||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),r=""),c&&(r=u.reduce((d,g)=>this.format(d,g,i.lng,{...i,interpolationkey:s[1].trim()}),r.trim())),e=e.replace(s[0],r),this.regexp.lastIndex=0}return e}};function Qc(t){let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let i=t.split("(");e=i[0].toLowerCase().trim();let s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(!a)return;let[o,...u]=a.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,"");n[o.trim()]||(n[o.trim()]=c),c==="false"&&(n[o.trim()]=!1),c==="true"&&(n[o.trim()]=!0),isNaN(c)||(n[o.trim()]=parseInt(c,10))})}return{formatName:e,formatOptions:n}}function Gt(t){let e={};return function(i,s,r){let a=s+JSON.stringify(r),o=e[a];return o||(o=t(Qn(s),r),e[a]=o),o(i)}}var Da=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=He.create("formatter"),this.options=e,this.formats={number:Gt((n,i)=>{let s=new Intl.NumberFormat(n,{...i});return r=>s.format(r)}),currency:Gt((n,i)=>{let s=new Intl.NumberFormat(n,{...i,style:"currency"});return r=>s.format(r)}),datetime:Gt((n,i)=>{let s=new Intl.DateTimeFormat(n,{...i});return r=>s.format(r)}),relativetime:Gt((n,i)=>{let s=new Intl.RelativeTimeFormat(n,{...i});return r=>s.format(r,i.range||"day")}),list:Gt((n,i)=>{let s=new Intl.ListFormat(n,{...i});return r=>s.format(r)})},this.init(e)}init(e){let i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Gt(n)}format(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((o,u)=>{let{formatName:c,formatOptions:d}=Qc(u);if(this.formats[c]){let g=o;try{let f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},y=f.locale||f.lng||s.locale||s.lng||i;g=this.formats[c](o,y,{...d,...s,...f})}catch(f){this.logger.warn(f)}return g}else this.logger.warn(`there was no format function for ${c}`);return o},e)}};function Xc(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var ya=class extends pn{constructor(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super();this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=He.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,s.backend,s)}queueLoad(e,n,i,s){let r={},a={},o={},u={};return e.forEach(c=>{let d=!0;n.forEach(g=>{let f=`${c}|${g}`;!i.reload&&this.store.hasResourceBundle(c,g)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),r[f]===void 0&&(r[f]=!0),u[g]===void 0&&(u[g]=!0)))}),d||(o[c]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,n,i){let s=e.split("|"),r=s[0],a=s[1];n&&this.emit("failedLoading",r,a,n),i&&this.store.addResourceBundle(r,a,i),this.state[e]=n?-1:2;let o={};this.queue.forEach(u=>{jc(u.loaded,[r],a),Xc(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{o[c]||(o[c]={});let d=u.loaded[c];d.length&&d.forEach(g=>{o[c][g]===void 0&&(o[c][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,n,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:s,wait:r,callback:a});return}this.readingCalls++;let o=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){let g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(c&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,s+1,r*2,a)},r);return}a(c,d)},u=this.backend[i].bind(this.backend);if(u.length===2){try{let c=u(e,n);c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}return}return u(e,n,o)}prepareLoading(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);let r=this.queueLoad(e,n,i,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=e.split("|"),s=i[0],r=i[1];this.read(s,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${r} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${r} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,i,s,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){let u={...a,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,n,i,s,u):d=c(e,n,i,s),d&&typeof d.then=="function"?d.then(g=>o(null,g)).catch(o):o(null,d)}catch(d){o(d)}else c(e,n,i,s,o,u)}!e||!e[0]||this.store.addResource(e[0],n,i,s)}}};function wa(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let i=e[3]||e[2];Object.keys(i).forEach(s=>{n[s]=i[s]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,i)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Fa(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Xn(){}function ed(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var jt=class extends pn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;super();if(this.options=Fa(e),this.services={},this.logger=He,this.modules={external:[]},ed(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(i=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));let s=wa();this.options={...s,...this.options,...Fa(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function r(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?He.init(r(this.modules.logger),this.options):He.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl!="undefined"&&(d=Da);let g=new ns(this.options);this.store=new es(this.options.resources,this.options);let f=this.services;f.logger=He,f.resourceStore=this.store,f.languageUtils=g,f.pluralResolver=new ma(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=r(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new ba(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new ya(r(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(y){for(var F=arguments.length,S=new Array(F>1?F-1:0),E=1;E<F;E++)S[E-1]=arguments[E];e.emit(y,...S)}),this.modules.languageDetector&&(f.languageDetector=r(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=r(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new gn(this.services,this.options),this.translator.on("*",function(y){for(var F=arguments.length,S=new Array(F>1?F-1:0),E=1;E<F;E++)S[E-1]=arguments[E];e.emit(y,...S)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Xn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});let u=mn(),c=()=>{let d=(g,f)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(f),i(g,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xn,s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();let r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,n,i){let s=mn();return e||(e=this.languages),n||(n=this.options.ns),i||(i=Xn),this.services.backendConnector.reload(e,n,r=>{s.resolve(),i(r)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ha.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){let i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,n){var i=this;this.isLanguageChangingTo=e;let s=mn();this.emit("languageChanging",e);let r=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,c)=>{c?(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve(function(){return i.t(...arguments)}),n&&n(u,function(){return i.t(...arguments)})},o=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);let c=typeof u=="string"?u:this.services.languageUtils.getBestMatchFromCodes(u);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{a(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,n,i){var s=this;let r=function(a,o){let u;if(typeof o!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),g=2;g<c;g++)d[g-2]=arguments[g];u=s.options.overloadTranslationOptionHandler([a,o].concat(d))}else u={...o};u.lng=u.lng||r.lng,u.lngs=u.lngs||r.lngs,u.ns=u.ns||r.ns,u.keyPrefix=u.keyPrefix||i||r.keyPrefix;let f=s.options.keySeparator||".",y;return u.keyPrefix&&Array.isArray(a)?y=a.map(F=>`${u.keyPrefix}${f}${F}`):y=u.keyPrefix?`${u.keyPrefix}${f}${a}`:a,s.t(y,u)};return typeof e=="string"?r.lng=e:r.lngs=e,r.ns=n,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;let a=(o,u)=>{let c=this.services.backendConnector.state[`${o}|${u}`];return c===-1||c===2};if(n.precheck){let o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!s||a(r,e)))}loadNamespaces(e,n){let i=mn();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){let i=mn();typeof e=="string"&&(e=[e]);let s=this.options.preload||[],r=e.filter(a=>s.indexOf(a)<0);return r.length?(this.options.preload=s.concat(r),this.loadResources(a=>{i.resolve(),n&&n(a)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new ns(wa());return n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new jt(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xn,i=e.forkResourceStore;i&&delete e.forkResourceStore;let s={...this.options,...e,isClone:!0},r=new jt(s);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new es(this.store.data,s),r.services.resourceStore=r.store),r.translator=new gn(r.services,s),r.translator.on("*",function(o){for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];r.emit(o,...c)}),r.init(s,n),r.translator.options=s,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},l=jt.createInstance();l.createInstance=jt.createInstance;var Pp=l.createInstance,Rp=l.dir,Op=l.init,Ap=l.loadResources,Np=l.reloadResources,Lp=l.use,Mp=l.changeLanguage,Bp=l.getFixedT,Ip=l.t,$p=l.exists,Vp=l.setDefaultNamespace,Gp=l.hasLoadedNamespace,jp=l.loadNamespaces,Hp=l.loadLanguages;var rn=K(require("obsidian"));var so=K(require("obsidian"));var et=K(require("obsidian"));var Re=K(require("obsidian"));var we;(function(n){n.path="path",n.title="title"})(we||(we={}));var ke;(function(a){a.github="github-configuration",a.upload="upload-configuration",a.text="text-conversion",a.embed="embed-configuration",a.plugin="plugin-settings",a.help="help"})(ke||(ke={}));var W;(function(i){i.yaml="yaml",i.obsidian="obsidian",i.fixed="fixed"})(W||(W={}));var xe;(function(n){n.free="Github Free/Pro/Team (default)",n.entreprise="Enterprise"})(xe||(xe={}));var at="%configDir%/plugins/%pluginID%/env",va={github:{user:"",repo:"",branch:"main",automaticallyMergePR:!0,tokenPath:at,api:{tiersForApi:xe.free,hostname:""},workflow:{commitMessage:"[PUBLISHER] Merge",name:""},otherRepo:[],verifiedRepo:!1,rateLimit:0},upload:{behavior:W.fixed,defaultName:"",rootFolder:"",yamlFolderKey:"",frontmatterTitle:{enable:!1,key:"title"},replaceTitle:[],replacePath:[],autoclean:{enable:!1,excluded:[]},folderNote:{enable:!1,rename:"index.md"},metadataExtractorPath:""},conversion:{hardbreak:!1,dataview:!0,censorText:[],tags:{inline:!1,exclude:[],fields:[]},links:{internal:!1,unshared:!1,wiki:!1,slugify:!1}},embed:{attachments:!0,keySendFile:[],notes:!1,folder:"",convertEmbedToLinks:"keep",charConvert:"->"},plugin:{shareKey:"share",fileMenu:!1,editorMenu:!1,excludedFolder:[],copyLink:{enable:!1,links:"",removePart:[],addCmd:!1},noticeError:!1,displayModalRepoEditing:!1}};var Dt=K(require("obsidian"));function Ea(t,e,n){var r,a,o;if(!e.frontmatter.general.convertInternalNonShared)return!1;if((a=(r=e.repository)==null?void 0:r.shareAll)==null?void 0:a.enable){let u=e.repository.shareAll.excludedFileName;return!n.basename.startsWith(u)}if(!t)return!0;if(is(e.settings,n))return!1;let s=((o=e.repository)==null?void 0:o.shareKey)||e.settings.plugin.shareKey;return t[s]===void 0?!0:t[s]}function ei(t,e){var i;let n=t.github.otherRepo;if(((i=t.plugin.shareAll)==null?void 0:i.enable)&&!e)return ot(t);if(!e)return null;for(let s of n)if(e[s.shareKey])return s;return A({settings:t},"No other repo found, using default repo"),ot(t)}function ce(t,e,n,i){var r,a;if(!n||n.extension!=="md")return!1;let s=e.github.otherRepo.filter(o=>{var u;return(u=o.shareAll)==null?void 0:u.enable});if(!((r=e.plugin.shareAll)==null?void 0:r.enable)&&s.length===0){let o=i?i.shareKey:e.plugin.shareKey;return t==null||t[o]===void 0||is(e,n)?!1:t[o]}else if(((a=e.plugin.shareAll)==null?void 0:a.enable)||s.length>0){let o=s.map(u=>u.shareAll.excludedFileName);if(o.push(e.plugin.shareAll.excludedFileName),o.some(u=>!n.basename.startsWith(u))&&!is(e,n))return!0}return!1}function is(t,e){let n=t.plugin.excludedFolder;for(let i of n){let s=i.match(/^\/(.*)\/[igmsuy]*$/),r=s?new RegExp(s[1],s[2]):null;if(r&&r.test(e.path)||e.path.contains(i.trim()))return!0}return!1}function ka(t,e){var r;let n=[];((r=e.plugin.shareAll)==null?void 0:r.enable)&&n.push("share");let i=e.github.otherRepo.filter(a=>a.shareAll);if(i.length>0)for(let a of i)n.push(a.smartKey);if(!t)return n;let s=e.github.otherRepo.map(a=>a.shareKey);s.push(e.plugin.shareKey);for(let a of s)t[a]&&n.push(a);return n}function ge(t){return t.match(/(png|jpe?g|gif|bmp|svg|mp[34]|web[mp]|wav|m4a|ogg|3gp|flac|ogv|mov|mkv|pdf)$/i)}function ti(t,e){t=t instanceof Array?t:[t],e=e instanceof Array?e:[e];let n=(i,s)=>i.owner===s.owner&&i.repo===s.repo&&i.branch===s.branch;for(let i of e)for(let s of t)if(n(i,s))return!0;for(let i of t)for(let s of e)if(n(i,s))return!0;return!1}function ni(t,e,n=!1){return m(this,null,function*(){t=Array.isArray(t)?t:[t];let i=[];if((yield e.loadToken()).length===0){i.push(!0);let a=l.t("common.ghToken");n||new Dt.Notice(l.t("error.isEmpty",{what:a}))}else for(let a of t)if(a.repo.length===0){i.push(!0);let o=l.t("common.repository");n||new Dt.Notice(l.t("error.isEmpty",{what:o}))}else if(a.owner.length===0){i.push(!0);let o=l.t("error.whatEmpty.owner");n||new Dt.Notice(l.t("error.isEmpty",{what:o}))}else if(a.branch.length===0){i.push(!0);let o=l.t("error.whatEmpty.branch");n||new Dt.Notice(l.t("error.isEmpty",{what:o}))}else i.push(!1);return!i.every(a=>a===!0)})}function xa(t){let e=t.convertWiki,n=t.attachment,i=t.embed,s=t.links;return!e&&s&&n&&i&&!t.removeEmbed}function Ue(t,e=null,n,i=!1){return m(this,null,function*(){var a;let s=t.settings,r=t.plugin.app.metadataCache;try{let o=n?(a=r.getFileCache(n))==null?void 0:a.frontmatter:void 0,u=Y(s,e,o);if(yield ni(u,t.plugin,i))return yield t.checkRepository(u,i),!0}catch(o){return _({settings:s,e:!0},o),!1}return!1})}function yt(t,e,n=1){return m(this,null,function*(){let i=t.settings;try{let s=!1;if(e instanceof Array?s=e.every(a=>a.verifiedRepo):e.verifiedRepo&&(s=!0),s&&i.github.rateLimit>0)return!0;if(yield ni(e,t.plugin))return yield t.checkRepository(e,!0),i.github.rateLimit===0||n>20?(yield _e(t.octokit,i,!1,n))>0:!0}catch(s){return _({settings:i,e:!0},s),!1}return!1})}function ot(t){return{smartKey:"default",user:t.github.user,repo:t.github.repo,branch:t.github.branch,automaticallyMergePR:t.github.automaticallyMergePR,verifiedRepo:t.github.verifiedRepo,api:{tiersForApi:t.github.api.tiersForApi,hostname:t.github.api.hostname},workflow:{commitMessage:t.github.workflow.commitMessage,name:t.github.workflow.name},createShortcuts:!1,shareKey:t.plugin.shareKey.length>0?t.plugin.shareKey:"share",copyLink:{links:t.plugin.copyLink.links,removePart:t.plugin.copyLink.removePart}}}function _e(t,e,n=!1,i=1){return m(this,null,function*(){let s=yield t.request("GET /rate_limit"),r=s.data.resources.core.remaining,a=s.data.resources.core.reset,u=new Date(a*1e3).toLocaleTimeString();return r<=i?(new Dt.Notice(l.t("commands.checkValidity.rateLimit.limited",{resetTime:u})),0):(n?new Dt.Notice(l.t("commands.checkValidity.rateLimit.notLimited",{remaining:r,resetTime:u})):_({settings:e},l.t("commands.checkValidity.rateLimit.notLimited",{remaining:r,resetTime:u})),r)})}function ss(t,e){let n=e;if(!e){let i=t.match(/\/([gimy]+)$/);n=i?Array.from(new Set(i[1].split(""))).join(""):""}return new RegExp(t.replace(/\/(.+)\/.*/,"$1"),n)}function ii(t,e,n){if(!e.conversion.censorText)return t;let i=n?e.conversion.censorText.filter(s=>s.after):e.conversion.censorText.filter(s=>!s.after);for(let s of i)if(s.entry.trim().length>0){let r=s.entry,a=s.replace;if(r.match(/^\/.+\/[gimy]*$/)){let o=ss(r,s.flags);t=t.replace(o,a)}else t=t.replaceAll(r,a)}return t}function Ca(t,e,n){if(!e.conversion.dataview)return[];let i=/\[\[(.*?)\]\]/gim,s=t.matchAll(i),r=[];if(!s)return[];if(s)for(let a of s){let o=a[1].replace(/(.*)\\?\|/i,""),u=a[1].replace(/\\?\|(.*)/,""),c=n.getAbstractFileByPath(u)instanceof Re.TFile?n.getAbstractFileByPath(u):null;c&&r.push({linked:c,linkFrom:u,altText:o,type:"link"})}return r}function si(t,e,n,i,s){return m(this,null,function*(){let{metadataCache:r}=i,a=s.settings,o=s.repository,u=qe(t,a,o,i),c=r.getFileCache(e.linked).frontmatter,d=Y(a,o,c),g=ti(s.frontmatter.repo,d),f=Ea(n,s,e.linked);if(e.linked.extension==="md"&&(!g||!f))return e.destinationFilePath?e.destinationFilePath:e.linked.basename;if(e.linked.path===t.path)return qe(e.linked,a,o,i).split("/").at(-1);let y=e.linked.extension==="md"?qe(e.linked,a,o,i):Dn(e.linked,a,ri(n,a,o)),F=u.split("/"),S=y.split("/"),E=(B,C)=>{let I=0;for(;B[I]===C[I];)I++;return B.slice(I)},M=E(F,S),$=E(S,F),D=function(B){let C=[];for(let I of B)I!=B.at(-1)&&C.push("..");return C}(M);D.length===0&&D.push(".");let k=D.concat($).join("/");return k.trim()==="."||k.trim()===""?qe(e.linked,a,o,i).split("/").at(-1):k})}function td(t,e,n,i){let s=n.upload.folderNote.rename,a=`${t.parent?`/${t.parent.path}/`:"/"}${ut(i,n)}`;if(!n.upload.folderNote.enable)return a;let o=t.parent?t.parent.name:"";if(i.replace(".md","")===o)return`/${t.parent.path}/${s}`;let u=e.getAbstractFileByPath(t.path.replace(".md",""));return u&&u instanceof Re.TFolder?`/${u.path}/${s}`:a}function nd(t,e,n,i){var u;i=td(t,n,e,i);let r=(e.upload.defaultName.length>0?e.upload.defaultName:"")+i,a=r.split("/").slice(0,-1).join("/"),o=(u=r.split("/").at(-1))!=null?u:"";return a=Sa(a,e),a.trim().length===0?o:`${a}/${o}`.replace(/^\//,"")}function id(t,e,n){let i=rs(e,n);A({settings:n},`Category: ${i}`);let s=i.split("/"),r=i.endsWith("/")?s.at(-2):s.at(-1);return n.upload.folderNote.enable&&t.replace(".md","").toLowerCase()===(r==null?void 0:r.toLowerCase())?n.upload.folderNote.rename:ut(t,n)}function sd(t,e,n){let i=t.upload,s=rs(e,t),r=id(n,e,t),a=i.rootFolder.length>0&&!s.includes(i.rootFolder)?`${i.rootFolder}/`:"";if(s.trim().length===0)return r;let o=Sa(a+s,t);return o.trim().length===0?r:`${o}/${r}`.replace(/^\//,"")}function ut(t,e){let n=e.upload;if(t===n.folderNote.rename&&n.folderNote.enable||n.replaceTitle.length===0)return t;t=t.replace(".md","");for(let i of n.replaceTitle)if(i.regex.trim().length>0){let s=i.regex,r=i.replacement;if(s.match(/\/.+\//)){let a=ss(s);t=t.replace(a,r)}else t=t.replaceAll(s,r)}return`${t}.md`}function Sa(t,e){let n=e.upload;if(n.behavior===W.fixed||n.replacePath.length===0)return t;for(let i of n.replacePath)if(i.regex.trim().length>0){let s=i.regex,r=i.replacement;if(s.match(/\/.+\//)){let a=s.match(/\/([gimy]+)$/),o=a?Array.from(new Set(a[1].split(""))).join(""):"",u=new RegExp(s.replace(/\/(.+)\/.*/,"$1"),o);t=t.replace(u,r)}else t=t.replaceAll(s,r)}return t}function bn(t,e,n){let i=e.name;return t&&n.upload.frontmatterTitle.enable&&t[n.upload.frontmatterTitle.key]&&t[n.upload.frontmatterTitle.key]!==i?`${t[n.upload.frontmatterTitle.key]}.md`:i}function qe(t,e,n,i){var a;let{vault:s,metadataCache:r}=i;if(t.extension==="md"){let o=(a=r.getCache(t.path))==null?void 0:a.frontmatter,u=bn(o,t,e),c=ut(u,e);if(!ce(o,e,t,n))return(0,Re.normalizePath)(u);if(o==null?void 0:o.path){let d=o.path instanceof Array?o.path.join("/"):o.path;return d==""||d=="/"?(0,Re.normalizePath)(c):(0,Re.normalizePath)(`${d}/${c}`)}else return e.upload.behavior===W.yaml?(0,Re.normalizePath)(sd(e,o,u)):e.upload.behavior===W.obsidian?(0,Re.normalizePath)(nd(t,e,s,u)):e.upload.defaultName.length>0?(0,Re.normalizePath)(`${e.upload.defaultName}/${c}`):(0,Re.normalizePath)(c)}return t.path}function Dn(t,e,n){if(!n||!n.attachmentLinks){let i=e.embed.folder;return i.length>0?i+"/"+t.name:e.upload.defaultName.length>0?e.upload.defaultName+"/"+t.name:t.path}else if(n&&n.attachmentLinks)return n.attachmentLinks+"/"+t.name;return t.path}function _(t,...e){let{settings:n,e:i}=t;if(n.plugin.noticeError){new et.Notice(e.join(" "));return}let s=Ta();s.contains("logs")&&(s=Ta(!0));let r=new Date().toISOString().slice(11,23),a=t.logs?`DEV LOGS [${r}] ${s}:
`:`[GitHub Publisher](${s}):
`;i?console.error(a,...e):console.log(a,...e)}function Ta(t){var i;let e=t?4:3,n=(i=new Error().stack)==null?void 0:i.split(`
`)[e].trim();return n=n==null?void 0:n.substring(n.indexOf("at ")+3,n.lastIndexOf(" (")),n=n==null?void 0:n.replace("Object.callback",""),n=n||"main",n=n==="eval"?"main":n,n}function A(t,...e){var i;let n=t.settings;t.logs=!0,((i=n.plugin)==null?void 0:i.dev)&&_(t,...e)}function as(t,e,n){let i={added:[],edited:[],deleted:[],unpublished:[],notDeleted:[]};return t.forEach(s=>{s.isUpdated?i.edited.push(s.file):i.added.push(s.file)}),i.unpublished=n,e&&(i.deleted=e.deleted,i.notDeleted=e.undeleted),i}function os(t,e){return m(this,null,function*(){if(et.Platform.isMobile||!t.plugins.enabledPlugins.has("metadata-extractor")||e.upload.metadataExtractorPath.length===0)return null;let n={allExceptMdFile:null,metadataFile:null,tagsFile:null},i=`${t.vault.configDir}/plugins/metadata-extractor`,s=t.plugins.plugins["metadata-extractor"];return s&&s.settings?(s.settings.allExceptMdFile.length>0&&(n.allExceptMdFile=i+"/"+s.settings.allExceptMdFile),s.settings.metadataFile.length>0&&(n.metadataFile=i+"/"+s.settings.metadataFile),s.settings.tagFile.length>0&&(n.tagsFile=i+"/"+s.settings.tagFile),n):null})}function us(t){let e=t.match(/\/*$/);return e&&e[0].length!=1?t.replace(/\/*$/,"")+"/":t}function Ht(t,e,n,i){return m(this,null,function*(){var y;let s=e.repo,r=e.frontmatter,a=s?s.copyLink:n.plugin.copyLink,o=s||n.github;if(!n.plugin.copyLink.enable)return;let u=qe(t,n,s,i),c=a.links;c.length===0&&(c=r instanceof Array?`https://${o.user}.github.io/${n.github.repo}/`:`https://${r.owner}.github.io/${r.repo}/`);let d=i.metadataCache.getFileCache(t).frontmatter,g=a.removePart;if(d&&(d.baselink!==void 0?(c=d.baselink,g=[]):d.copylink&&typeof d.copylink=="object"&&(c=d.copylink.base,g=(y=d.copylink.remove)!=null?y:[])),c=us(c),g.length>0)for(let F of g)F.length>0&&(u=u.replace(F.trim(),""));u=us(u);let f=us(encodeURI(c+u));yield navigator.clipboard.writeText(f)})}function ls(t,e,n,i){return m(this,null,function*(){i=Array.isArray(i)?i:[i];for(let s of i)yield rd(t,e,n,s)})}function rd(t,e,n,i){return m(this,null,function*(){let s=e instanceof et.TFile?`"${e.basename}"`:e,r;if(e instanceof String?r=l.t("informations.successfulPublish",{nbNotes:s,repo:i}):(A({settings:n},"file published :",s),r=l.t("informations.successPublishOneNote",{file:s,repo:i})),n.github.workflow.name.length>0){let a=`${l.t("informations.sendMessage",{nbNotes:s,repo:i})}.
${l.t("informations.waitingWorkflow")}`;new et.Notice(a),(yield t.workflowGestion(i))&&new et.Notice(r)}else new et.Notice(r)})}function Pa(t){let e=JSON.stringify(t,(n,i)=>typeof i=="string"?i.trim().toLowerCase():i);return JSON.parse(e)}function ri(t,e,n){var a,o;let i="";e.embed.folder.length>0?i=e.embed.folder:e.upload.defaultName.length>0&&(i=e.upload.defaultName);let s={convertWiki:e.conversion.links.wiki,attachment:e.embed.attachments,embed:e.embed.notes,attachmentLinks:i,links:!0,removeEmbed:e.embed.convertEmbedToLinks,charEmbedLinks:e.embed.charConvert,dataview:e.conversion.dataview,hardbreak:e.conversion.hardbreak,convertInternalNonShared:e.conversion.links.unshared,convertInternalLinks:e.conversion.links.internal};return(n?(a=n.shareAll)==null?void 0:a.enable:(o=e.plugin.shareAll)==null?void 0:o.enable)&&(s.convertInternalNonShared=!0),t&&(t.links!==void 0&&(typeof t.links=="object"?(t.links.convert!==void 0&&(s.links=t.links.convert),t.links.internals!==void 0&&(s.convertInternalLinks=t.links.internals),t.links.mdlinks!==void 0&&(s.convertWiki=t.links.mdlinks),t.links.nonShared!==void 0&&(s.convertInternalNonShared=t.links.nonShared)):s.links=t.links),t.embed!==void 0&&(typeof t.embed=="object"?(t.embed.send!==void 0&&(s.embed=t.embed.send),t.embed.remove!==void 0&&(s.removeEmbed=Ra(t.embed.remove)),t.embed.char!==void 0&&(s.charEmbedLinks=t.embed.char)):s.embed=t.embed),t.attachment!==void 0&&(typeof t.attachment=="object"?(t.attachment.send!==void 0&&(s.attachment=t.attachment.send),t.attachment.folder!==void 0&&(s.attachmentLinks=t.attachment.folder)):s.attachment=t.attachment),t.attachmentLinks!==void 0&&(s.attachmentLinks=t.attachmentLinks.toString().replace(/\/$/,"")),t.mdlinks!==void 0&&(s.convertWiki=t.mdlinks),t.removeEmbed!==void 0&&(s.removeEmbed=Ra(t.removeEmbed)),t.dataview!==void 0&&(s.dataview=t.dataview),t.hardbreak!==void 0&&(s.hardbreak=t.hardbreak),t.internals!==void 0&&(s.convertInternalLinks=t.internals),t.nonShared!==void 0&&(s.convertInternalNonShared=t.nonShared)),s}function Ra(t){return t==="true"?"keep":t==="false"?"remove":t==="links"?"links":t==="bake"||t==="include"?"bake":"keep"}function Y(t,e,n){var a;let i=e!=null?e:t.github;if(n&&typeof n.shortRepo=="string"&&n.shortRepo!=="default"){let o=n.shortRepo.toLowerCase(),c=t.github.otherRepo.find(d=>d.smartKey.toLowerCase()===o);i=c!=null?c:i}let s={branch:i.branch,repo:i.repo,owner:i.user,autoclean:t.upload.autoclean.enable,workflowName:i.workflow.name,commitMsg:i.workflow.commitMessage,automaticallyMergePR:i.automaticallyMergePR,verifiedRepo:(a=i.verifiedRepo)!=null?a:!1};if(t.upload.behavior===W.fixed&&(s.autoclean=!1),!n||n.multipleRepo===void 0&&n.repo===void 0&&n.shortRepo===void 0)return s;let r=null;if(n.multipleRepo){let o=ad(n,s);return o.length===1?o[0]:o}else if(n.repo)if(typeof n.repo=="object")n.repo.branch!==void 0&&(s.branch=n.repo.branch),n.repo.repo!==void 0&&(s.repo=n.repo.repo),n.repo.owner!==void 0&&(s.owner=n.repo.owner),n.repo.autoclean!==void 0&&(s.autoclean=n.repo.autoclean,r=!0);else{let o=n.repo.split("/");r=o.length>4?!0:null,s=Oa(o,s)}else if(n.shortRepo instanceof Array)return od(n,t.github.otherRepo,s);return n.autoclean!==void 0&&r===null&&(s.autoclean=n.autoclean),s}function ad(t,e){let n=[];if(t.multipleRepo instanceof Array&&t.multipleRepo.length>0)for(let i of t.multipleRepo)if(typeof i=="object"){let s={branch:e.branch,repo:e.repo,owner:e.owner,autoclean:!1,automaticallyMergePR:e.automaticallyMergePR,workflowName:e.workflowName,commitMsg:e.commitMsg};i.branch!==void 0&&(s.branch=i.branch),i.repo!==void 0&&(s.repo=i.repo),i.owner!==void 0&&(s.owner=i.owner),i.autoclean!==void 0&&(s.autoclean=i.autoclean),n.push(s)}else{let s=i.split("/"),r={branch:e.branch,repo:e.repo,owner:e.owner,autoclean:!1,automaticallyMergePR:e.automaticallyMergePR,workflowName:e.workflowName,commitMsg:e.commitMsg};n.push(Oa(s,r))}return n.filter((i,s,r)=>r.findIndex(a=>a.repo===i.repo&&a.owner===i.owner&&a.branch===i.branch&&a.autoclean===i.autoclean)===s)}function od(t,e,n){if(t.shortRepo instanceof Array){let i=[];for(let s of t.shortRepo){let r=s.toLowerCase();if(r==="default")i.push(n);else{let a=e.filter(o=>o.smartKey.toLowerCase()===r)[0];a&&i.push({branch:a.branch,repo:a.repo,owner:a.user,autoclean:n.autoclean,automaticallyMergePR:a.automaticallyMergePR,workflowName:a.workflow.name,commitMsg:a.workflow.commitMessage})}}return i}return n}function Oa(t,e){let n={branch:e.branch,repo:e.repo,owner:e.owner,autoclean:!1,automaticallyMergePR:e.automaticallyMergePR,workflowName:e.workflowName,commitMsg:e.commitMsg};return t.length>=4&&(n.branch=t[2],n.repo=t[1],n.owner=t[0],n.autoclean=t[3]==="true"),t.length===3?(n.branch=t[2],n.repo=t[1],n.owner=t[0]):t.length===2?(n.repo=t[1],n.owner=t[0]):t.length===1&&(n.repo=t[0]),n}function rs(t,e){let n=e.upload.yamlFolderKey,i=t&&t[n]!==void 0?t[n]:e.upload.defaultName;return i instanceof Array?i.join("/"):i}function Ut(t,e){let n=t.app.vault;return e||(e=at),e=e.replace("%configDir%",n.configDir),e=e.replace("%pluginID%",t.manifest.id),e}var ae=K(require("obsidian"));var Aa="3.7.5",ud=Aa,ld=typeof atob=="function",cd=typeof btoa=="function",_t=typeof Buffer=="function",Na=typeof TextDecoder=="function"?new TextDecoder:void 0,La=typeof TextEncoder=="function"?new TextEncoder:void 0,dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",yn=Array.prototype.slice.call(dd),ai=(t=>{let e={};return t.forEach((n,i)=>e[n]=i),e})(yn),hd=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,he=String.fromCharCode.bind(String),Ma=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),Ba=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Ia=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),$a=t=>{let e,n,i,s,r="",a=t.length%3;for(let o=0;o<t.length;){if((n=t.charCodeAt(o++))>255||(i=t.charCodeAt(o++))>255||(s=t.charCodeAt(o++))>255)throw new TypeError("invalid character found");e=n<<16|i<<8|s,r+=yn[e>>18&63]+yn[e>>12&63]+yn[e>>6&63]+yn[e&63]}return a?r.slice(0,a-3)+"===".substring(a):r},cs=cd?t=>btoa(t):_t?t=>Buffer.from(t,"binary").toString("base64"):$a,ds=_t?t=>Buffer.from(t).toString("base64"):t=>{let e=4096,n=[];for(let i=0,s=t.length;i<s;i+=e)n.push(he.apply(null,t.subarray(i,i+e)));return cs(n.join(""))},oi=(t,e=!1)=>e?Ba(ds(t)):ds(t),fd=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?he(192|e>>>6)+he(128|e&63):he(224|e>>>12&15)+he(128|e>>>6&63)+he(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return he(240|e>>>18&7)+he(128|e>>>12&63)+he(128|e>>>6&63)+he(128|e&63)}},pd=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Va=t=>t.replace(pd,fd),Ga=_t?t=>Buffer.from(t,"utf8").toString("base64"):La?t=>ds(La.encode(t)):t=>cs(Va(t)),qt=(t,e=!1)=>e?Ba(Ga(t)):Ga(t),ja=t=>qt(t,!0),md=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,gd=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return he((n>>>10)+55296)+he((n&1023)+56320);case 3:return he((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return he((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Ha=t=>t.replace(md,gd),Ua=t=>{if(t=t.replace(/\s+/g,""),!hd.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",i,s;for(let r=0;r<t.length;)e=ai[t.charAt(r++)]<<18|ai[t.charAt(r++)]<<12|(i=ai[t.charAt(r++)])<<6|(s=ai[t.charAt(r++)]),n+=i===64?he(e>>16&255):s===64?he(e>>16&255,e>>8&255):he(e>>16&255,e>>8&255,e&255);return n},hs=ld?t=>atob(Ia(t)):_t?t=>Buffer.from(t,"base64").toString("binary"):Ua,_a=_t?t=>Ma(Buffer.from(t,"base64")):t=>Ma(hs(t).split("").map(e=>e.charCodeAt(0))),qa=t=>_a(Wa(t)),bd=_t?t=>Buffer.from(t,"base64").toString("utf8"):Na?t=>Na.decode(_a(t)):t=>Ha(hs(t)),Wa=t=>Ia(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),fs=t=>bd(Wa(t)),Dd=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Ka=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),za=function(){let t=(e,n)=>Object.defineProperty(String.prototype,e,Ka(n));t("fromBase64",function(){return fs(this)}),t("toBase64",function(e){return qt(this,e)}),t("toBase64URI",function(){return qt(this,!0)}),t("toBase64URL",function(){return qt(this,!0)}),t("toUint8Array",function(){return qa(this)})},Za=function(){let t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,Ka(n));t("toBase64",function(e){return oi(this,e)}),t("toBase64URI",function(){return oi(this,!0)}),t("toBase64URL",function(){return oi(this,!0)})},yd=()=>{za(),Za()},ui={version:Aa,VERSION:ud,atob:hs,atobPolyfill:Ua,btoa:cs,btoaPolyfill:$a,fromBase64:fs,toBase64:qt,encode:qt,encodeURI:ja,encodeURL:ja,utob:Va,btou:Ha,decode:fs,isValid:Dd,fromUint8Array:oi,toUint8Array:qa,extendString:za,extendUint8Array:Za,extendBuiltins:yd};var wn=K(require("obsidian"));function Fn(t=!1,e,n,i){return m(this,null,function*(){let s=Array.isArray(i.frontmatter)?i.frontmatter:[i.frontmatter],r=[];for(let a of s){let o={frontmatter:a,repo:i.repo};r.push(yield wd(t,e,n,o))}return r[0]})}function wd(t=!1,e,n,i){return m(this,null,function*(){let s=i.frontmatter;if(!s.autoclean)return{success:!1,deleted:[],undeleted:[]};let r=yield n.getAllFileFromRepo(e,s),a=n.settings,o=n.octokit,u=yield vd(r,a);if((a.github.rateLimit===0||u.length>a.github.rateLimit)&&(yield _e(o,a,!1,u.length))===0)return{success:!1,deleted:[],undeleted:[]};if(!u){let E="";return a.upload.defaultName.length>0&&(a.upload.defaultName.length>0?E=l.t("deletion.defaultFolder"):a.upload.behavior===W.yaml&&a.upload.rootFolder.length===0&&(E=l.t("deletion.rootFolder"))),t||new wn.Notice("Error : "+E),{success:!1,deleted:[],undeleted:[]}}let d=n.getAllFileWithPath(i.repo).map(E=>({converted:E.converted,repo:E.repoFrontmatter})),g=0,f=0,y={deleted:[],undeleted:[],success:!1};for(let E of u){let M=d.some(D=>D.converted===E.file),$=E.file.trim().endsWith(".md")?!d.some(D=>D.converted===E.file&&JSON.stringify(D.repo)==JSON.stringify(s)):!1;if(M?$:!0){let D=E.file.contains(a.upload.folderNote.rename)?yield kd(o,a,E.file,s):!1;try{D||(_({settings:a},`trying to delete file : ${E.file} from ${s.owner}/${s.repo}`),(yield o.request("DELETE /repos/{owner}/{repo}/contents/{path}",{owner:s.owner,repo:s.repo,path:E.file,message:`DELETE FILE : ${E.file}`,sha:E.sha,branch:e})).status===200?(g++,y.deleted.push(E.file)):(f++,y.undeleted.push(E.file)))}catch(k){k instanceof DOMException||A({settings:a,e:!0},k)}}}let F=l.t("deletion.noFile"),S="";return g>0&&(F=l.t("deletion.success",{nb:g.toString()})),f>0&&(S=l.t("deletion.failed",{nb:f.toString()})),t||new wn.Notice(F+S),y.success=f===0,y})}function Fd(t,e){let n=e.upload.autoclean.excluded;if(n.length>0)for(let i of n){let s=i.match(/^\/(.*)\/[igmsuy]*$/),r=s?new RegExp(s[1],s[2]):null;if(r&&r.test(t))return!0;if(t.trim().includes(i.trim())&&i.length>0)return!0}return!1}function vd(t,e){return m(this,null,function*(){let n=[];for(let i of t){let s=e.upload.behavior,r=e.upload.rootFolder,a=e.upload.defaultName,o=e.embed.folder;if(s===W.yaml&&r.length===0||a.length===0||s===W.fixed)return[];(i.file.includes(a)||s===W.yaml&&i.file.includes(r)||o.length>0&&i.file.includes(o))&&!Fd(i.file,e)&&(ge(i.file)||i.file.match("md$"))&&n.push(i)}return n})}function Ed(t){let e=t.split("---")[1],n=(0,wn.parseYaml)(e);return Pa(n)}function kd(t,e,n,i){return m(this,null,function*(){try{let s=yield t.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:i.owner,repo:i.repo,path:n});if(s.status===200){let r=ui.decode(s.data.content),a=Ed(r);return a.index==="true"||a.delete==="false"||!a.share}}catch(s){if(!(s instanceof DOMException))return _({settings:e,e:!0},s),!1}return!1})}var Ya=K(require("obsidian")),vn=class extends Ya.Modal{constructor(e,n){super(e);this.listChanged=n}displayListOfFile(e,n){if(!e.length)return;let i=n.createEl("ul");e.forEach(s=>{var u;let r="\u2753",a=(u=s.split(".").pop())!=null?u:"";["md"].includes(a)?r="\u{1F5D2}\uFE0F":[".png",".jpg",".jpeg",".gif",".svg",".webp"].includes(`.${a}`)?r="\u{1F5BC}\uFE0F":[".mp3",".wav",".ogg",".flac",".aac"].includes(`.${a}`)?r="\u{1F3B5}":[".mp4",".avi",".mov",".mkv",".webm"].includes(`.${a}`)?r="\u{1F3A5}":[".pdf"].includes(`.${a}`)&&(r="\u{1F4C4}");let o=i.createEl("li");o.createEl("span",{text:r,cls:"emoji"}),o.createEl("code",{text:s,cls:"code-title"})})}onOpen(){let{contentEl:e}=this;e.empty(),e.addClasses(["github-publisher","modals","list-changed"]),e.createEl("h2",{text:l.t("modals.listChangedFiles.title"),cls:"success"}),Object.keys(this.listChanged).contains("edited")?(this.listChanged=this.listChanged,e.createEl("h3",{text:`\u{1F4E4} ${l.t("modals.listChangedFiles.added")}`}),this.displayListOfFile(this.listChanged.added,e),e.createEl("h3",{text:`\u2712\uFE0F ${l.t("modals.listChangedFiles.edited")}`}),this.displayListOfFile(this.listChanged.edited,e),e.createEl("h3",{text:`\u{1F5D1}\uFE0F ${l.t("modals.listChangedFiles.deleted")}`}),this.displayListOfFile(this.listChanged.deleted,e),e.createEl("h2",{text:`\u274C ${l.t("modals.listChangedFiles.error")}`,cls:"error"}),e.createEl("h3",{text:`\u{1F4E4} ${l.t("modals.listChangedFiles.unpublished")}`}),this.displayListOfFile(this.listChanged.unpublished,e),e.createEl("h3",{text:`\u267B\uFE0F ${l.t("modals.listChangedFiles.notDeleted")}`}),this.displayListOfFile(this.listChanged.notDeleted,e)):(this.listChanged=this.listChanged,e.createEl("h3",{text:`\u{1F5D1}\uFE0F ${l.t("modals.listChangedFiles.deleted")}`}),this.displayListOfFile(this.listChanged.deleted,e),e.createEl("h3",{text:`\u274C ${l.t("modals.listChangedFiles.error")}`,cls:"error"}),e.createEl("h3",{text:`\u267B\uFE0F ${l.t("modals.listChangedFiles.notDeleted")}`}),this.displayListOfFile(this.listChanged.undeleted,e))}onClose(){let{contentEl:e}=this;e.empty()}};var En=class{constructor(e,n,i=!1){this.attachment=!1;this.statusBarItem=e,this.counter=0,this.numberOfNotesToPublish=n,this.attachment=i,this.statusBarItem.createEl("span",{text:""});let s=l.t("common.files");this.attachment&&(s=l.t("common.attachments"));let r=l.t("statusBar.markedForSharing",{nb:this.numberOfNotesToPublish,type:s});this.status=this.statusBarItem.createEl("span",{text:`${r}`})}increment(){let e=l.t("common.files");this.attachment&&(e=l.t("common.attachments"));let n=l.t("statusBar.sharing",{type:e});this.status.setText(l.t("statusBar.counter",{msg:n,counter:++this.counter,nb:this.numberOfNotesToPublish}))}finish(e){let n=l.t("statusBar.success",{action:l.t("common.published"),type:l.t("common.files")});this.attachment&&(n=l.t("statusBar.success",{action:l.t("common.shared"),type:l.t("common.attachments")})),this.status.setText(l.t("statusBar.counter",{msg:n,counter:this.counter,nb:this.numberOfNotesToPublish})),setTimeout(()=>{this.statusBarItem.remove()},e)}error(){this.statusBarItem.remove()}};function wt(t,e,n,i,s,r=!0){return m(this,null,function*(){let a=new En(e,s.length),o=i.frontmatter;try{let u=0,c=[],d=[];if(s.length>0){let g=s.map(E=>E.name);if(r){if(!yt(t,o,s.length))return!1;yield t.newBranch(n,o)}for(let E of s)try{a.increment();let M=yield t.publish(E,!1,n,i);M&&d.push(...M.uploaded)}catch(M){u++,c.push(E.name),new ae.Notice(l.t("error.unablePublishNote",{file:E.name})),A({settings:t.settings,e:!0},M)}a.finish(8e3);let f=`${g.length-u} notes`,y=yield Fn(!0,n,t,i),F=t.settings;if(F.upload.metadataExtractorPath.length>0&&ae.Platform.isDesktop){let E=yield os(t.plugin.app,F);E&&(yield t.uploadMetadataExtractorFiles(E,n,o))}if(yield t.updateRepository(n,o)){if(yield ls(t,f,F,o),F.plugin.displayModalRepoEditing){let E=as(d,y,c);new vn(t.plugin.app,E).open()}}else new ae.Notice(l.t("error.errorPublish",{repo:o}))}}catch(u){A({settings:t.settings,e:!0},u),new ae.Notice(l.t("error.unablePublishMultiNotes")),a.error()}})}function li(t,e,n){return m(this,null,function*(){try{if(new ae.Notice(l.t("informations.startingClean",{repo:n.frontmatter})),!yt(t,n.frontmatter))return!1;yield t.newBranch(e,n.frontmatter);let s=yield Fn(!1,e,t,n);yield t.updateRepository(e,n.frontmatter),t.settings.plugin.displayModalRepoEditing&&new vn(t.plugin.app,s).open()}catch(i){_({settings:t.settings,e:!0},i)}})}function We(t,e,n,i=null,s){return m(this,null,function*(){var u,c;let r=e.settings,a=e.plugin.app,o=a.metadataCache;try{let d=(u=o.getFileCache(n))==null?void 0:u.frontmatter,g=Y(r,i,d),f=yield yt(e,g),y={frontmatter:g,repo:i};if(!f)return!1;yield e.newBranch(t,g);let F=yield e.publish(n,!0,t,y,[],!0);if(F){if(r.upload.metadataExtractorPath.length>0&&ae.Platform.isDesktop){let E=yield os(a,r);E&&(yield e.uploadMetadataExtractorFiles(E,t,g))}if(yield e.updateRepository(t,g)){if(yield ls(e,s,r,g),yield Ht(n,y,r,a),r.plugin.displayModalRepoEditing){let E=as(F.uploaded,F.deleted,F.error);new vn(a,E).open()}}else new ae.Notice(l.t("error.errorPublish",{repo:g}))}}catch(d){d instanceof DOMException||(A({settings:r,e:!0},d),new ae.Notice(l.t("error.errorPublish",{repo:Y(r,i,(c=o.getFileCache(n))==null?void 0:c.frontmatter)})))}})}function Ja(t,e,n){return m(this,null,function*(){let i=t.plugin;new ae.Notice(l.t("informations.scanningRepo"));let s=t.getAllFileWithPath(n.repo),r=yield t.getAllFileFromRepo(n.frontmatter.branch,n.frontmatter),a=t.getNewFiles(s,r);if(a.length>0){new ae.Notice(l.t("informations.foundNoteToSend",{nbNotes:a.length}));let o=i.addStatusBarItem();if(!yt(t,n.frontmatter,a.length))return!1;yield t.newBranch(e,n.frontmatter),yield wt(t,o,e,n,a,!1);return}new ae.Notice(l.t("informations.noNewNote"))})}function Qa(t,e,n){return m(this,null,function*(){let i=t.plugin;new ae.Notice(l.t("informations.scanningRepo"));let s=t.getAllFileWithPath(n.repo),r=yield t.getAllFileFromRepo(n.frontmatter.branch,n.frontmatter),a=t.getNewFiles(s,r),o=yield t.getEditedFiles(s,r,a);if(o.length>0){new ae.Notice(l.t("informations.foundNoteToSend",{nbNotes:o.length}));let u=i.addStatusBarItem();if(!yt(t,n.frontmatter,o.length))return!1;yield t.newBranch(e,n.frontmatter),yield wt(t,u,e,n,o,!1);return}new ae.Notice(l.t("informations.noNewNote"))})}function Xa(t,e,n){return m(this,null,function*(){let i=n.repo,s=n.frontmatter;new ae.Notice(l.t("informations.scanningRepo"));let r=t.getAllFileWithPath(i),a=yield t.getAllFileFromRepo(s.branch,s),o=[],u=yield t.getEditedFiles(r,a,o);if(u.length>0){new ae.Notice(l.t("informations.foundNoteToSend",{nbNotes:u.length}));let c=t.plugin.addStatusBarItem();if(!yt(t,s,u.length))return!1;yield t.newBranch(e,s),yield wt(t,c,e,n,u,!1);return}new ae.Notice(l.t("informations.noNewNote"))})}var kn=K(require("obsidian"));function eo(t,e){return m(this,null,function*(){var s;let n=e.app.workspace.getActiveFile(),i=n?(s=e.app.metadataCache.getFileCache(n))==null?void 0:s.frontmatter:null;if(n&&i&&ce(i,e.settings,n,t)){let r={frontmatter:Y(e.settings,t,i),repo:t};yield Ht(n,r,e.settings,e.app),new kn.Notice(l.t("commands.copyLink.onActivation"));return}new kn.Notice(l.t("commands.runOtherRepo.noFile"))})}function to(t,e,n){return m(this,null,function*(){var r;let i=t.app.workspace.getActiveFile(),s=i?(r=t.app.metadataCache.getFileCache(i))==null?void 0:r.frontmatter:null;i&&s&&ce(s,t.settings,i,e)?yield We(n,yield t.reloadOctokit(),i,e):new kn.Notice(l.t("commands.runOtherRepo.noFile"))})}function no(t,e,n){return m(this,null,function*(){let i=Y(t.settings,e),s=yield t.reloadOctokit();yield li(s,n,{frontmatter:i,repo:e})})}function ci(t,e,n){return m(this,null,function*(){let i=t.addStatusBarItem(),s=yield t.reloadOctokit(),r=s.getSharedFiles(e),a={frontmatter:Y(t.settings,e),repo:e};yield wt(s,i,n,a,r,!0)})}function di(t,e,n){return m(this,null,function*(){let i=yield t.reloadOctokit();yield Ja(i,e,{frontmatter:Y(t.settings,n),repo:n})})}function io(t,e,n){return m(this,null,function*(){let i=t.app.workspace.getActiveFile();i?yield Ue(yield t.reloadOctokit(),n,i):new kn.Notice("No file is active")})}function hi(t,e,n=null){return m(this,null,function*(){let i=yield t.reloadOctokit();yield Qa(i,e,{frontmatter:Y(t.settings,n),repo:n})})}function fi(t,e,n){return m(this,null,function*(){let i=yield n.reloadOctokit();yield Xa(i,t,{frontmatter:Y(n.settings,e),repo:e})})}function ro(t,e){return m(this,null,function*(){let n=t?`publisher-copy-link-K${t.smartKey}`:"publisher-copy-link",i=l.t("common.repository"),s=l.t("commands.copyLink.title");return s=t?`${s} (${i} : ${t.smartKey})`:s,{id:n,name:s,hotkeys:[],checkCallback:r=>{var u;let a=e.app.workspace.getActiveFile(),o=a?(u=e.app.metadataCache.getFileCache(a))==null?void 0:u.frontmatter:null;if(a&&o&&ce(o,e.settings,a,t)){if(!r){let c={frontmatter:Y(e.settings,t,o),repo:t};Ht(a,c,e.settings,e.app),new so.Notice(l.t("commands.copyLink.onActivation"))}return!0}return!1}}})}function ao(t,e,n){return m(this,null,function*(){let i=e?`publisher-delete-clean-K${e.smartKey}`:"publisher-delete-clean",s=l.t("commands.publisherDeleteClean"),r=l.t("common.repository");return s=e?`${s} (${r} : ${e.smartKey})`:s,{id:i,name:s,hotkeys:[],callback:()=>m(this,null,function*(){A({settings:t.settings},"Enabling purge command");let a={frontmatter:Y(t.settings,e),repo:e},o=yield t.reloadOctokit();yield li(o,n,a)})}})}function oo(t,e,n){return m(this,null,function*(){let i=t?`publisher-one-K${t.smartKey}`:"publisher-one",s=l.t("commands.shareActiveFile"),r=l.t("common.repository");return s=t?`${s} (${r} : ${t.smartKey})`:s,{id:i,name:s,hotkeys:[],checkCallback:a=>m(this,null,function*(){var c;let o=e.app.workspace.getActiveFile(),u=o?(c=e.app.metadataCache.getFileCache(o))==null?void 0:c.frontmatter:null;return o&&u&&ce(u,e.settings,o,t)?(a||We(n,yield e.reloadOctokit(),o,t),!0):!1})}})}function uo(t,e,n){return m(this,null,function*(){let i=e?`publisher-publish-all-K${e.smartKey}`:"publisher-publish-all",s=l.t("commands.uploadAllNotes"),r=l.t("common.repository");return s=e?`${s} (${r} : ${e.smartKey})`:s,{id:i,name:s,callback:()=>m(this,null,function*(){yield ci(t,e,n)})}})}function lo(t,e,n){return m(this,null,function*(){let i=e?`publisher-upload-new-K${e.smartKey}`:"publisher-upload-new",s=l.t("commands.uploadNewNotes"),r=l.t("common.repository");return s=e?`${s} (${r} : ${e.smartKey})`:s,{id:i,name:s,callback:()=>m(this,null,function*(){yield di(t,n,e)})}})}function co(t,e,n){return m(this,null,function*(){let i=e?`publisher-upload-all-edited-new-K${e.smartKey}`:"publisher-upload-all-edited-new",s=l.t("commands.uploadAllNewEditedNote"),r=l.t("common.repository");return s=e?`${s} (${r} : ${e.smartKey})`:s,{id:i,name:s,callback:()=>m(this,null,function*(){yield hi(t,n,e)})}})}function ho(t,e,n){return m(this,null,function*(){let i=t?`publisher-upload-edited-K${t.smartKey}`:"publisher-upload-edited",s=l.t("commands.uploadAllEditedNote"),r=l.t("common.repository");return s=t?`${s} (${r} : ${t.smartKey})`:s,{id:i,name:s,callback:()=>m(this,null,function*(){yield fi(e,t,n)})}})}function fo(t,e){return m(this,null,function*(){let n=e?`check-plugin-repo-validy-K${e.smartKey}`:"check-plugin-repo-validy",i=l.t("commands.checkValidity.title"),s=l.t("common.repository");return i=e?`${i} (${s} : ${e.smartKey})`:i,{id:n,name:i,checkCallback:r=>m(this,null,function*(){return t.app.workspace.getActiveFile()?(r||(yield Ue(yield t.reloadOctokit(),e,t.app.workspace.getActiveFile())),!0):!1})}})}var Ft=K(require("obsidian"));var pi=K(require("obsidian"));var ps=class extends pi.FuzzySuggestModal{constructor(e,n,i){super(e);this.plugin=n,this.branchName=i}getItems(){return this.plugin.settings.github.otherRepo}getItemText(e){return e.smartKey}onChooseItem(e,n){new po(this.plugin.app,this.plugin,this.branchName,e).open()}},mi=class extends pi.FuzzySuggestModal{constructor(e,n,i=null,s,r,a,o){super(e);this.plugin=n,this.branchName=s,this.keyToFind=i,this.onSubmit=o,this.fileName=a,this.type=r}getItems(){var i,s,r;let e=[],n=ot(this.plugin.settings);return this.type==="file"&&(((i=this.plugin.settings.plugin.shareAll)==null?void 0:i.enable)&&!((r=this.fileName)==null?void 0:r.startsWith((s=this.plugin.settings.plugin.shareAll)==null?void 0:s.excludedFileName))&&e.push(n),this.keyToFind&&(e=e.concat(this.plugin.settings.github.otherRepo.filter(a=>a.shareKey==this.keyToFind)),this.keyToFind===n.shareKey&&e.push(n))),e=e.concat(this.plugin.settings.github.otherRepo.filter(a=>{var o,u,c;return((o=a.shareAll)==null?void 0:o.enable)&&!((c=this.fileName)==null?void 0:c.startsWith((u=a.shareAll)==null?void 0:u.excludedFileName))})),e.push(n),e=[...new Set(e)],e.length===0?this.plugin.settings.github.otherRepo:e}getItemText(e){return e.smartKey}onChooseItem(e,n){this.onSubmit(e)}},po=class extends pi.FuzzySuggestModal{constructor(e,n,i,s){super(e);this.plugin=n,this.branchName=i,this.repo=s}getItems(){let e=[{commands:"shareAllMarkedNotes",name:l.t("commands.uploadAllNotes")},{commands:"shareOneNote",name:l.t("commands.shareActiveFile")},{commands:"shareNewNote",name:l.t("commands.uploadNewNotes")},{commands:"shareAllEditedNotes",name:l.t("commands.uploadAllNewEditedNote")},{commands:"shareOnlyEdited",name:l.t("commands.uploadAllEditedNote")},{commands:"checkRepositoryValidity",name:l.t("commands.checkValidity.title")}];return this.plugin.settings.plugin.copyLink&&e.push({commands:"createLink",name:l.t("commands.copyLink.title")}),this.plugin.settings.upload.autoclean.enable&&this.plugin.settings.upload.behavior!==W.fixed&&e.push({commands:"deleteUnsharedDeletedNotes",name:l.t("commands.publisherDeleteClean")}),e}getItemText(e){return e.name}onChooseItem(e,n){switch(e.commands){case"shareAllMarkedNotes":ci(this.plugin,this.repo,this.branchName);break;case"deleteUnsharedDeletedNotes":no(this.plugin,this.repo,this.branchName);break;case"shareNewNote":di(this.plugin,this.branchName,this.repo);break;case"shareAllEditedNotes":hi(this.plugin,this.branchName,this.repo);break;case"shareOnlyEdited":fi(this.branchName,this.repo,this.plugin);break;case"shareOneNote":to(this.plugin,this.repo,this.branchName);break;case"createLink":eo(this.repo,this.plugin);break;case"checkRepositoryValidity":io(this.plugin,this.branchName,this.repo);break}A({settings:this.plugin.settings},`run command ${e.commands}`)}};function gi(t,e,n,i){return m(this,null,function*(){let s=yield t.reloadOctokit(),r=t.addStatusBarItem(),a={frontmatter:Y(t.settings,i,void 0),repo:i};yield wt(s,r,n,a,s.getSharedFileOfFolder(e,i),!0)})}function xd(t,e,n,i,s){let r=Ft.Platform.isDesktop?e.setSubmenu():s;r.addItem(o=>{o.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:l.t("common.default").toUpperCase(),doc:n.name})).setIcon("folder-up").onClick(()=>m(this,null,function*(){let u=ei(t.settings,void 0);yield gi(t,n,i,u)}))});let a=t.settings.github.otherRepo.filter(o=>o.createShortcuts);return a.length>0&&a.forEach(o=>{r.addItem(u=>{u.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:o.smartKey.toUpperCase(),doc:n.name})).setIcon("folder-up").onClick(()=>m(this,null,function*(){yield gi(t,n,i,o)}))})}),r.addItem(o=>{o.setTitle(l.t("commands.shareViewFiles.multiple.other")).setIcon("folder-symlink").onClick(()=>m(this,null,function*(){new mi(t.app,t,null,i,"folder",null,u=>m(this,null,function*(){yield gi(t,n,i,u)})).open()}))}),r}function ms(t,e,n,i){let s=e instanceof Ft.TFile?t.app.metadataCache.getFileCache(e).frontmatter:void 0,r=ei(t.settings,s),a=ka(s,t.settings);if(ce(s,t.settings,e,r)&&t.settings.plugin.fileMenu){let o=Y(t.settings,r,s);i.addItem(u=>{var d,g;if(a.length>1||o instanceof Array&&o.length>1){Ft.Platform.isDesktop?u.setTitle("Github Publisher").setIcon("upload-cloud"):(i.addSeparator(),u.setIsLabel(!0)),Cd(t,u,e,n,r,i);return}let c=t.getTitleFieldForCommand(e,(d=t.app.metadataCache.getFileCache(e))==null?void 0:d.frontmatter).replace(".md","");if(!s||!s[t.settings.plugin.shareKey]){let f=t.settings.github.otherRepo.find(y=>{var F;return(F=y.shareAll)==null?void 0:F.enable});f?r=f:((g=t.settings.plugin.shareAll)==null?void 0:g.enable)&&(r=ot(t.settings))}else s[t.settings.plugin.shareKey]&&(r=ot(t.settings));u.setTitle(l.t("commands.shareViewFiles.multiple.on",{doc:c,smartKey:(r==null?void 0:r.smartKey.toUpperCase())||l.t("common.default").toUpperCase()})).setIcon("file-up").onClick(()=>m(this,null,function*(){yield We(n,yield t.reloadOctokit(),e,r,c)}))})}}function Cd(t,e,n,i,s,r){var g;let a=(g=t.app.metadataCache.getFileCache(n))==null?void 0:g.frontmatter,o=t.getTitleFieldForCommand(n,a).replace(".md",""),u=Ft.Platform.isDesktop?e.setSubmenu():r,c=Y(t.settings,s,a);c=c instanceof Array?c:[c],((s==null?void 0:s.shareKey)===t.settings.plugin.shareKey||(a==null?void 0:a[t.settings.plugin.shareKey]))&&(!(a==null?void 0:a.repo)||!(a==null?void 0:a.multipleRepo))&&u.addItem(f=>{f.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:l.t("common.default").toUpperCase(),doc:o})).setIcon("file-up").onClick(()=>m(this,null,function*(){yield We(i,yield t.reloadOctokit(),n,ot(t.settings),o)}))});let d=t.settings.github.otherRepo.filter(f=>f.createShortcuts);return d.length>0&&d.forEach(f=>{(f.shareKey===(s==null?void 0:s.shareKey)||(a==null?void 0:a[f.shareKey]))&&u.addItem(y=>{y.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:f.smartKey.toUpperCase(),doc:o})).setIcon("file-up").onClick(()=>m(this,null,function*(){yield We(i,yield t.reloadOctokit(),n,f,o)}))})}),c.length>1&&c.forEach(f=>{u.addItem(y=>{y.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:f.repo.toUpperCase(),doc:o})).setIcon("file-up").onClick(()=>m(this,null,function*(){yield We(i,yield t.reloadOctokit(),n,s,o)}))})}),u.addItem(f=>{f.setTitle(l.t("commands.shareViewFiles.multiple.other")).setIcon("file-input").onClick(()=>m(this,null,function*(){new mi(t.app,t,s==null?void 0:s.shareKey,i,"file",n.basename,y=>m(this,null,function*(){yield We(i,yield t.reloadOctokit(),n,y,o)})).open()}))}),u}function mo(t,e,n,i){return m(this,null,function*(){t.addItem(s=>{var a,o;if(((o=(a=i.settings.github)==null?void 0:a.otherRepo)==null?void 0:o.length)>0){Ft.Platform.isDesktop?(s.setTitle("Github Publisher"),s.setIcon("upload-cloud")):(t.addSeparator(),s.setIsLabel(!0)),xd(i,s,e,n,t);return}s.setSection("action"),s.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:l.t("common.default").toUpperCase(),doc:e.name})).setIcon("folder-up").onClick(()=>m(this,null,function*(){let u=ei(i.settings,void 0);yield gi(i,e,n,u)}))})})}var st=K(require("obsidian"));var Vn=K(require("obsidian")),cl=K(js());var Ct=K(require("obsidian"));var it=K(require("obsidian")),Zs=K(js());var Vi=K(require("obsidian"));function Of(t,e){return e?t.trim().replace(/(\r?\n)/g,`$1${e}`):t}function Af(t){return t.replace(/^[ \t]*(?:[-*+]|[0-9]+[.)]) +/,"")}function Nf(t){let e=t.match(/^([ \t]*)/);return e?t.replace(new RegExp(`^${e[0].replace(/\\/g,"\\$&")}`,"gm"),""):t}function Hs(t){return t.replace(/ +\^[^ \n\r]+$/gm,"")}function Lf(t){return t&&t.replace(/^---[\s\S]+?\r?\n---(?:\r?\n\s*|$)/,"")}function Mf(t){return Hs(Lf(t))}function Bf(t,e,n){if(e.type==="block"&&e.list&&n.listItems){let r=e.list,a=new Set([r.position.start.line]),o=r.position.start.offset-r.position.start.col,u=r.position.end.offset,c=!1;for(let d of n.listItems){if(r===d){c=!0;continue}else if(!c)continue;if(!a.has(d.parent))break;a.add(d.position.start.line),u=d.position.end.offset}return Hs(Nf(t.substring(o,u)))}let i=e.start.offset,s=e.end?e.end.offset:t.length;return Hs(t.substring(i,s))}function Us(t,e,n,i,s,r){return m(this,null,function*(){var S;let{vault:a,metadataCache:o}=n,u=yield a.cachedRead(t),c=o.getFileCache(t);if(!c)return u;let d=s?(0,Vi.resolveSubpath)(c,s):null;d&&(u=Bf(u,d,c));let g=c.embeds;if(!g||g.length===0)return u;let f=[...g];f.sort((E,M)=>E.position.start.offset-M.position.start.offset);let y=new Set(e);y.add(t);let F=0;for(let E of f){let{path:M,subpath:$}=(0,Vi.parseLinktext)(E.link),j=o.getFirstLinkpathDest(M,t.path);if(j===null||(j==null?void 0:j.extension)!=="md")continue;let D=E.position.start.offset+F,k=E.position.end.offset+F,B=k-D,C=u.substring(0,D),I=u.substring(k),V=Q=>m(this,null,function*(){var le,De,ee,Fe;if((le=i.settings.embed.bake)==null?void 0:le.textAfter){let te=yield tl((De=i.settings.embed.bake)==null?void 0:De.textAfter,i,j,t,n,r);te=nl(te,j,n,i.settings);let Ge=Q.match(/[\s\n]/g)?"":`
`;Q=`${Q}${Ge}${te}`}if((ee=i.settings.embed.bake)==null?void 0:ee.textBefore){let te=yield tl((Fe=i.settings.embed.bake)==null?void 0:Fe.textBefore,i,j,t,n,r);te=nl(te,j,n,i.settings),Q=`${te}
${Q}`}u=C+Q+I,F+=Q.length-B}),U=(S=o.getFileCache(j))==null?void 0:S.frontmatter,Pe=ce(U,i.settings,j,i.repository),ue=C.match(/(?:^|\n)([ \t]*)(?:[-*+]|[0-9]+[.)]) +$/);if(y.has(j)||!Pe)continue;let me=Mf(yield Us(j,y,n,i,$,r));yield V(ue?Of(Af(me),ue[1]):me)}return u})}function tl(t,e,n,i,s,r){return m(this,null,function*(){var u;let a=(u=s.metadataCache.getFileCache(n))==null?void 0:u.frontmatter;if(!a)return t;let o=r.find(c=>c.linked===n);if(!o)return t;if(e.frontmatter.general.convertInternalLinks){let c=yield si(i,o,a,s,e);return t.replace(/\{{2}url\}{2}/gmi,c)}return t.replace(/\{{2}url\}{2}/gmi,o.linked.path)})}function nl(t,e,n,i){var o;let s=e.basename,r=(o=n.metadataCache.getFileCache(e))==null?void 0:o.frontmatter;if(!r)return t.replace(/\{{2}title\}{2}/gmi,s);let a=ut(bn(r,e,i),i).replace(".md","");return t.replace(/\{{2}title\}{2}/gmi,a)}var Ws=K(il());function Ks(t,e,n,i){let s=e.convertWiki,r=e.attachment,a=e.links;if(xa(e))return t;let o=/!?\[\[.*?\]\]/g,u=t.match(o);if(u){let c=/(\[\[).*?([\]|])/;for(let d of u){let g=d.match(c),f=d.startsWith("!")?"!":"",y=d.startsWith("!");if(g){let F=d,S=g[0].replaceAll("[","").replaceAll("|","").replaceAll("]","").replaceAll("\\",""),E=g[0].replaceAll("[","").replaceAll("|","").replaceAll("]","").replaceAll("\\","").replaceAll("../","").replaceAll("./","").replace(/#.*/,""),M=n.find($=>$.linkFrom.replace(/#.*/,"")===E);if(M){let $;M.linked.extension!=="md"?$=M.altText?M.altText:"":($=M.altText?M.altText:M.linked.basename,$=$.replace("#"," > ").replace(/ > \^\w*/,""));let j=(e.removeEmbed==="remove"||e.removeEmbed==="bake")&&y&&M.linked.extension==="md";if(y&&M.linked.extension==="md"&&e.removeEmbed==="links"&&(f=`${e.charEmbedLinks} `,F=F.replace("!",f)),s){let D=d.match(/(\|).*(]])/),k=S.split("/"),B=al(D,k,S.split(".").at(-1),S);B=B.replace("#"," > ").replace(/ > \^\w*/,""),F=rl(S,f,B,i)}else{let D=d.match(/(\|).*(]])/);F=sl(D,F)}M.linked.extension==="md"&&!a&&!y&&(F=$),(!r&&ge(M.linked.extension)||j)&&(F=""),t=t.replace(d,F)}else if(!S.startsWith("http")){let $=d.match(/(\|).*(]])/),j=S.split("/"),D=al($,j,S.split(".").at(-1),S);D=D.replace("#"," > ").replace(/ > \^\w*/,"");let k=!ge(S.trim())&&e.removeEmbed==="remove"&&y;y&&e.removeEmbed==="links"&&!ge(S.trim())&&(f=e.charEmbedLinks+" ",F=F.replace("!",f)),s?F=rl(S,f,D,i):F=sl($,F),!ge(S.trim())&&!a&&!y&&(F=D),(!r&&ge(S.trim())||k)&&(F=""),t=t.replace(d,F)}}}}return t}function sl(t,e){if(!t){let n=e.match(/\[{2}(.*)\]{2}/),i=n?n[1].replace("#"," > ").replace(/ > \^\w*/,""):"";return e.replace(/\[{2}(.*)\]{2}/,`[[$1|${i}]]`)}return e}function rl(t,e,n,i){let s=ge(t.trim())?t.trim():t.replace(/#.*/,"").trim()+".md",r=t.match(/(#.*)/)?t.match(/(#.*)/)[0].replaceAll(" ","%20"):"",a=encodeURI(s);return i.conversion.links.slugify&&(r=t.match(/(#.*)/)?(0,Ws.default)(t.match(/(#.*)/)[0],{lower:!0,strict:!0}):"",r=`#${r}`),`${e}[${n}](${a}${r})`}function If(t,e){return t.match(/\[{2}.*\]{2}/)&&!t.match(/(\|).*(]])/)?t.replace("|","").replace("]]",`|${e.altText}]]`):t}function nn(t){return t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}function zs(t,e,n,i,s,r){return m(this,null,function*(){let a=r.frontmatter.general,o=r.settings;if(!a.convertInternalLinks)return t;for(let u of e){let c=yield si(n,u,s,i,r);c=c.replace(".md","");let d=u.anchor?u.anchor:"",g=nn(u.linkFrom.replace(d,"")).replaceAll(" ","%20")+d.replace("^","\\^");g=g.replaceAll(" ","%20");let f=nn(u.linkFrom),y=new RegExp(`(\\[{2}${f}(\\\\?\\|.*)?\\]{2})|(\\[.*\\]\\((${f}|${g})\\))`,"g"),F=t.match(y);if(F)for(let S of F){let E=new RegExp(`((${f})|(${g}))`),M=c;u.anchor&&(c=c.replace(/#.*/,""),M+=u.anchor);let $=S.replace(E,M);S.match(/\[.*\]\(.*\)/)&&(u.linked.extension==="md"&&(d=o.conversion.links.slugify?(0,Ws.default)(d,{lower:!0,strict:!0}):d,c=`${c.replaceAll(" ","%20")}.md#${d}`,c=!c.match(/(#.*)/)&&!c.endsWith(".md")?`${c}.md`:c),$=`[${S.match(/\[(.*)\]/)[1]}](${c})`),$=If($,u),t=t.replace(S,$)}}return t})}function al(t,e,n,i){return t?t[0].replace("]]","").replace("|",""):n==="md"?e.length>1?e[e.length-1]:e[0]:i.split("/").at(-1)}function $f(t,e,n){try{return t=t.replace(/^\s*\\\s*$/gim,"<br/>"),n.hardbreak&&(t=t.replace(/\n/gm,`  
`)),t}catch(i){return _({settings:e,e:!0},i),t}}function ol(t,e,n){return m(this,null,function*(){let i=t.split("---")[1],s=(0,it.parseYaml)(i);if(s.tag)try{e=[...new Set([...e,...s.tag.map(o=>o.replaceAll("/","_"))])],delete s.tag}catch(o){_({settings:n,e:!0},o)}if(s.tags)try{s.tags=[...new Set([...s.tags.map(o=>o.replaceAll("/","_")),...e])]}catch(o){_({settings:n,e:!0},o)}else s.tags=e;let r=(0,it.stringifyYaml)(s),a=t.split("---").slice(2).join("---");return`---
${r}---
${a}`})}function Vf(t,e,n,i,s){return m(this,null,function*(){var d;if(!t.conversion.tags.inline)return s;let r=(d=n.getFileCache(e))==null?void 0:d.tags,a=r?r.map(g=>g.tag.replace("#","").replaceAll("/","_")):[],o=(0,it.parseFrontMatterTags)(i),u=o?o.map(g=>g.replace("#","").replaceAll("/","_")):[],c=[...new Set([...a,...u])];return c.length>0?yield ol(s,c,t):s})}function ul(t,e){let i=(r=>/([^/\\.]*)(\..*)?$/.exec(r)[1])(t.path).toString(),s=t.display?t.display.toString():i;return!e.conversion.tags.exclude.includes(s)&&!e.conversion.tags.fields.includes(i)?s:null}function Gf(t,e,n,i){return m(this,null,function*(){if(e.conversion.tags.fields.length===0||!i.plugins.enabledPlugins.has("dataview"))return t;let s=(0,Zs.getAPI)();if(!s)return t;let r=s.page(n.path);if(!r)return t;let a=[];for(let o of e.conversion.tags.fields){let u=r[o];if(u)if(u.constructor.name==="Link"){let c=ul(u,e);c&&a.push(c)}else if(u.constructor.name==="Array")for(let c of u){let d=c;c.constructor.name==="Link"?(d=ul(c,e),a.push(d)):e.conversion.tags.exclude.includes(d.toString())||a.push(d.toString())}else e.conversion.tags.exclude.includes(u.toString())||a.push(u.toString())}return a.length>0?yield ol(t,a.filter(Boolean),e):t})}function jf(t,e,n,i,s,r){return m(this,null,function*(){let a=t,o=/```dataview\s(.+?)```/gsm,u=(0,Zs.getAPI)();if(!u)return a;let c=t.matchAll(o),d=u.settings.dataviewJsKeyword,g=new RegExp(`\`\`\`${nn(d)}\\s(.+?)\`\`\``,"gsm"),f=t.matchAll(g),y=u.settings.inlineQueryPrefix,F=new RegExp(`\`${nn(y)}(.+?)\``,"gsm"),S=t.matchAll(F),E=u.settings.inlineJsQueryPrefix,M=new RegExp(`\`${nn(E)}(.+?)\``,"gsm"),$=t.matchAll(M);if(!c&&!S&&!f&&!$)return A({settings:r.settings},"No dataview queries found"),a;let j=l.t("error.dataview");for(let D of c)try{let k=D[0],B=D[1],C=In(yield u.tryQueryMarkdown(B,e),r.frontmatter.general);a=a.replace(k,C)}catch(k){return A({settings:r.settings,e:!0},k),_({settings:r.settings},j),D[0]}for(let D of f)try{let k=D[0],B=D[1],C=createEl("div"),I=new it.Component;yield u.executeJs(B,C,I,e),I.load();let V=In(C.innerHTML,r.frontmatter.general);a=a.replace(k,V)}catch(k){return A({settings:r.settings,e:!0},k),_({settings:r.settings},j),D[0]}for(let D of S)try{let k=D[0],B=D[1].trim(),C=u.tryEvaluate(B,{this:u.page(e,s.path)});a=C?a.replace(k,In(C.toString(),r.frontmatter.general)):a.replace(k,In(u.settings.renderNullAs,r.frontmatter.general))}catch(k){return A({settings:r.settings,e:!0},k),_({settings:r.settings},j),D[0]}for(let D of $)try{let k=D[0],B=D[1].trim(),C=createEl("div"),I=new it.Component;yield u.executeJs(B,C,I,e),I.load();let V=In(C.innerHTML,r.frontmatter.general);a=a.replace(k,V)}catch(k){return A({settings:r.settings,e:!0},k),_({settings:r.settings},j),D[0]}return yield Hf(a,i,s,n,r)})}function In(t,e){return e.dataview?t:""}function Hf(t,e,n,i,s){return m(this,null,function*(){let r=Ca(t,s.settings,i.vault);return t=yield zs(t,r,n,i,e,s),Ks(t,s.frontmatter.general,r,s.settings)})}function ll(t,e,n,i,s,r,a){return m(this,null,function*(){return a.frontmatter.general.removeEmbed==="bake"&&(t=yield Us(e,new Set,n,a,null,s)),t=ii(t,a.settings,!1),t=yield Vf(a.settings,e,r.app.metadataCache,i,t),t=yield zs(t,s,e,n,i,a),t=Ks(t,a.frontmatter.general,s,a.settings),t=yield jf(t,e.path,r.app,i,e,a),t=yield Gf(t,a.settings,e,r.app),t=$f(t,a.settings,a.frontmatter.general),ii(t,a.settings,!0)})}var Gi=class{constructor(e,n){this.vault=n.app.vault,this.metadataCache=n.app.metadataCache,this.settings=n.settings,this.octokit=e,this.plugin=n}statusBarForEmbed(e,n,i,s,r){return m(this,null,function*(){let a=[],o=[];if(e.length>0)if(e.length>1){let u=this.plugin.addStatusBarItem(),c=new En(u,e.length,!0),d=r.frontmatter.repo,g={frontmatter:r.frontmatter.repo,repo:r.repository};try{for(let f of e)try{if(!n.includes(f)){if(f.extension==="md"&&s){let y=yield this.publish(f,!1,i,g,n,!0);y&&a.push(...y.uploaded)}else if(ge(f.extension)&&r.frontmatter.general.attachment){let y=yield this.uploadImage(f,i,r);n.push(f),y&&a.push(y)}}c.increment()}catch(y){new Ct.Notice(l.t("error.unablePublishNote",{file:f.name})),o.push(f.name),A({settings:this.settings,e:!0},y)}c.finish(8e3)}catch(f){A({settings:this.settings,e:!0},f),new Ct.Notice(l.t("error.errorPublish",{repo:d})),c.error()}}else{let u=e[0];if(!n.includes(u)){if(u.extension==="md"&&s){let c={frontmatter:r.frontmatter.repo,repo:r.repository},d=yield this.publish(u,!1,i,c,n,!0);d&&a.push(...d.uploaded)}else if(ge(u.extension)&&r.frontmatter.general.attachment){let c=yield this.uploadImage(u,i,r);n.push(u),c&&a.push(c)}}}return{fileHistory:n,uploaded:a,error:o}})}publish(o){return m(this,arguments,function*(e,n=!1,i,s,r=[],a=!1){var g;let u=new $n(this.octokit,this.plugin),c=(g=this.metadataCache.getFileCache(e))==null?void 0:g.frontmatter,d=ni(Y(this.settings,s.repo,c),this.plugin);if(!ce(c,this.settings,e,s.repo)||r.includes(e)||!ti(Y(this.settings,s.repo,c),s.frontmatter)||!d)return!1;try{A({settings:this.settings},`Publishing file: ${e.path}`),r.push(e);let f=ri(c,this.settings,s.repo),y=u.getSharedEmbed(e,f);y=yield u.getMetadataLinks(e,y,c,f);let F=u.getLinkedByEmbedding(e),S=yield this.vault.cachedRead(e),E={settings:this.settings,frontmatter:{general:f,repo:s.frontmatter},repository:s.repo};S=yield ll(S,e,this.plugin.app,c,F,this.plugin,E);let M=qe(e,this.settings,s.repo,this.plugin.app),$=Array.isArray(s.frontmatter)?s.frontmatter:[s.frontmatter],j="";for(let I of $)j+=`[${I.owner}/${I.repo}/${I.branch}] `;let D=`Publishing ${e.name} to ${j}`;A({settings:this.settings},D);let k=[],B=[],C=[];for(let I of $){let V={settings:this.settings,frontmatter:{general:f,repo:I},repository:E.repository},U=yield this.uploadOnMultipleRepo(e,S,i,M,y,r,a,u,n,V);k.push(U.deleted),B.push(U.uploaded),C.push(...U.error)}return{deleted:k[0],uploaded:B[0],error:C}}catch(f){return A({settings:this.settings,e:!0},f),!1}})}uploadOnMultipleRepo(e,n,i,s,r,a,o,u,c,d){return m(this,null,function*(){let g=d.frontmatter.repo;_({settings:this.settings},`Upload ${e.name}:${s} on ${g.owner}/${g.repo}:${i}`);let f={success:!1,deleted:[],undeleted:[]},y=yield this.uploadText(n,s,e.name,i,g);if(!y)return{deleted:f,uploaded:[],error:[`Error while uploading ${e.name} to ${g.owner}/${g.repo}/${g.branch}`]};let F=yield this.statusBarForEmbed(r,a,i,o,d),S=F.uploaded;return S.push(y),c&&g.autoclean&&(f=yield Fn(!0,i,u,{frontmatter:g,repo:d.repository})),{deleted:f,uploaded:S,error:F.error}})}upload(e,n,i="",s,r){return m(this,null,function*(){if(!r.repo)throw new Ct.Notice("Config error : You need to define a github repo in the plugin settings"),{};if(!r.owner)throw new Ct.Notice("Config error : You need to define your github username in the plugin settings"),{};let a=this.octokit,o=`PUSH NOTE : ${i}`;ge(n)&&(i=n.split("/")[n.split("/").length-1],o=`PUSH ATTACHMENT : ${i}`);let u={owner:r.owner,repo:r.repo,path:n,message:`Adding ${i}`,content:e,sha:"",branch:s},c={isUpdated:!1,file:i};try{let d=yield a.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:r.owner,repo:r.repo,path:n,ref:s});d.status===200&&d.data.type==="file"&&(u.sha=d.data.sha,c.isUpdated=!0)}catch(d){_({settings:this.settings},l.t("error.normal"))}return u.message=o,yield a.request("PUT /repos/{owner}/{repo}/contents/{path}",u),c})}uploadImage(e,n,i){return m(this,null,function*(){let s=yield this.vault.readBinary(e),r=(0,Ct.arrayBufferToBase64)(s),a=Dn(e,this.settings,i.frontmatter.general);return yield this.upload(r,a,"",n,i.frontmatter.repo)})}uploadText(e,n,i="",s,r){return m(this,null,function*(){try{let a=ui.encode(e).toString();return yield this.upload(a,n,i,s,r)}catch(a){_({settings:this.settings,e:!0},a);return}})}uploadMetadataExtractorFiles(e,n,i){return m(this,null,function*(){if(e){for(let s of Object.values(e))if(s){let r=yield this.vault.adapter.read(s),a=this.settings.upload.metadataExtractorPath+"/"+s.split("/").pop();i=Array.isArray(i)?i:[i];for(let o of i)yield this.uploadText(r,a,s.split("/").pop(),n,o)}}})}workflowGestion(e){return m(this,null,function*(){let n=!1;if(e.workflowName.length===0)return!1;let i=this.octokit;for(yield i.request("POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches",{owner:e.owner,repo:e.repo,workflow_id:e.workflowName,ref:e.branch});!n;){yield sleep(1e4);let s=yield i.request("GET /repos/{owner}/{repo}/actions/runs",{owner:e.owner,repo:e.repo});if(s.data.workflow_runs.length>0){let r=s.data.workflow_runs.find(a=>a.name===e.workflowName.replace(".yml",""));if(r&&r.status==="completed")return n=!0,!0}}return!1})}};var $n=class extends Gi{constructor(e,n){super(e,n);this.vault=n.app.vault,this.metadataCache=n.app.metadataCache,this.settings=n.settings,this.octokit=e,this.plugin=n}getSharedFiles(e){var s;let n=this.vault.getMarkdownFiles(),i=[];for(let r of n)try{let a=(s=this.metadataCache.getCache(r.path))==null?void 0:s.frontmatter;ce(a,this.settings,r,e)&&i.push(r)}catch(a){A({settings:this.settings,e:!0},a)}return i}getSharedFileOfFolder(e,n){var s;let i=[];for(let r of e.children)if(r instanceof Vn.TFolder)i.push(...this.getSharedFileOfFolder(r,n));else try{let a=(s=this.metadataCache.getCache(r.path))==null?void 0:s.frontmatter;ce(a,this.settings,r,n)&&i.push(r)}catch(a){A({settings:this.settings,e:!0},a)}return A({settings:this.settings},i),i}getAllFileWithPath(e){var s;let n=this.vault.getFiles(),i=[];for(let r of n)if(ge(r.extension)){let a=Dn(r,this.settings,null);i.push({converted:a,real:r.path})}else if(r.extension=="md"){let a=(s=this.metadataCache.getCache(r.path))==null?void 0:s.frontmatter;if(ce(a,this.settings,r,e)){let o=qe(r,this.settings,e,this.plugin.app);i.push({converted:o,real:r.path,repoFrontmatter:Y(this.settings,e,a)})}}return i}getLinkedByEmbedding(e){var s,r;let n=this.getLinkedFiles(e),i=(s=this.metadataCache.getFileCache(e))==null?void 0:s.embeds;if(i!=null)for(let a of i)try{let o=this.metadataCache.getFirstLinkpathDest(a.link.replace(/#.*/,""),e.path);if(o!==null){let u=a.displayText!==o.path.replace(".md","")?a.displayText:o.basename,c;if(this.settings.upload.frontmatterTitle.enable){let g=(r=this.metadataCache.getCache(o.path))==null?void 0:r.frontmatter;(g==null?void 0:g[this.settings.upload.frontmatterTitle.key])&&(c=g[this.settings.upload.frontmatterTitle.key],u===o.basename&&(u=c))}let d={linked:o,linkFrom:a.link,altText:u,destinationFilePath:c,type:"embed",position:{start:a.position.start.offset,end:a.position.end.offset}};a.link.includes("#")&&(d.anchor=`#${a.link.split("#")[1]}`),n.push(d)}}catch(o){A({settings:this.settings},o)}return[...new Set(n)]}getLinkedFiles(e){var s,r;let n=(s=this.metadataCache.getCache(e.path))==null?void 0:s.links,i=[];if(n!=null){for(let a of n)try{let o=this.metadataCache.getFirstLinkpathDest(a.link.replace(/#.*/,""),e.path);if(o){let u=a.original.match(/\[.*\]\(.*\)/)?a.original.match(/\[(.*)\]/)[1]:a.displayText!==o.path.replace(".md","")?a.displayText:o.basename,c;if(this.settings.upload.frontmatterTitle.enable){let g=(r=this.metadataCache.getCache(o.path))==null?void 0:r.frontmatter;g&&g[this.settings.upload.frontmatterTitle.key]&&(c=g[this.settings.upload.frontmatterTitle.key],u===o.basename&&(u=c))}let d={linked:o,linkFrom:a.link,altText:u,destinationFilePath:c,type:"link"};a.link.includes("#")&&(d.anchor=`#${a.link.split("#")[1]}`),i.push(d)}}catch(o){A({settings:this.settings,e:!0},`Error with this links : ${a.link}`,o)}return[...new Set(i)]}return[]}getSharedEmbed(e,n){var r;let i=(r=this.metadataCache.getCache(e.path))==null?void 0:r.embeds,s=[];if(i!=null){for(let a of i)try{let o=this.metadataCache.getFirstLinkpathDest(a.link.replace(/#(.*)/,""),e.path);o&&s.push(this.imageSharedOrNote(o,n))}catch(o){A({settings:this.settings,e:!0},`Error with this file : ${a.displayText}`,o)}return[...new Set(s)].filter(a=>a!==null)}return[]}getLastEditedTimeRepo(e){return m(this,null,function*(){let i=(yield this.octokit.request("GET /repos/{owner}/{repo}/commits",{owner:this.settings.github.user,repo:this.settings.github.repo,path:e.file})).data[0];return!i||!i.commit||!i.commit.committer||!i.commit.committer.date?null:new Date(i.commit.committer.date)})}getAllFileFromRepo(e,n){return m(this,null,function*(){let i=[];try{let s=yield this.octokit.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:n.owner,repo:n.repo,tree_sha:e,recursive:"true"});if(s.status===200){let r=s.data.tree;for(let a of r){if(!a.path||!a.sha)continue;let o=u=>/([^/\\.]*)(\..*)?$/.exec(u)[1];a.type==="blob"&&o(a.path).length>0&&i.push({file:a.path,sha:a.sha})}}}catch(s){A({settings:this.settings,e:!0},s)}return i})}getNewFiles(e,n){let i=[];for(let s of e)if(!n.some(r=>r.file===s.converted.trim())){let r=this.vault.getAbstractFileByPath(s.real.trim());r&&r instanceof Vn.TFile&&r.extension==="md"&&i.push(r)}return i}getImageByPath(e,n,i){n.constructor.name==="Link"&&(n=n.path),e.constructor.name==="Link"&&(e=e.path);let s=this.metadataCache.getFirstLinkpathDest(n,e);if(s)return this.imageSharedOrNote(s,i)}imageSharedOrNote(e,n){let i=n.attachment,s=n.embed;if(ge(e.extension)&&i||s&&e.extension==="md")return e}getMetadataLinks(e,n,i,s){return m(this,null,function*(){var r;for(let a of this.settings.embed.keySendFile)if(i==null?void 0:i[a]){let o=i[a]instanceof Array?i[a]:[i[a]];for(let u of o){let c=u.replace(/\[{2}(.*)\]{2}/,"$1");((r=this.metadataCache.getFirstLinkpathDest(c,e.path))!=null?r:this.vault.getAbstractFileByPath(c))!==null&&n.push(this.imageSharedOrNote(e,s))}}if(n=[...new Set(n)].filter(a=>a!=null),this.plugin.app.plugins.enabledPlugins.has("dataview")){let a=(0,cl.getAPI)();if(!a)return n;let o=a.page(e.path);if(!o)return n;for(let u of this.settings.embed.keySendFile){let c=o[u];if(c!=null)if(c.constructor.name==="Array")for(let d of c){let g=this.getImageByPath(e.path,d,s);g&&n.push(g)}else{let d=this.getImageByPath(e.path,c,s);d&&n.push(d)}}}return[...new Set(n)].filter(a=>a!=null)})}getEditedFiles(e,n,i){return m(this,null,function*(){for(let s of e)if(n.some(r=>r.file===s.converted.trim())){let r=n.find(u=>u.file===s.converted.trim());if(!r)continue;let a=yield this.getLastEditedTimeRepo(r),o=this.vault.getAbstractFileByPath(s.real.trim());if(o&&o instanceof Vn.TFile&&o.extension==="md"){let u=new Date(o.stat.mtime);a&&u>a&&(A({settings:this.settings},`edited file : ${o.path} / ${u} vs ${a}`),i.push(o))}}return i})}};var Ys=class extends $n{constructor(e,n){super(e,n);this.octokit=e,this.plugin=n,this.settings=this.plugin.settings}newBranch(e,n){return m(this,null,function*(){n=Array.isArray(n)?n:[n];for(let i of n)yield this.newBranchOnRepo(e,i)})}newBranchOnRepo(e,n){return m(this,null,function*(){let s=(yield this.octokit.request("GET /repos/{owner}/{repo}/branches",{owner:n.owner,repo:n.repo})).data.find(r=>r.name===n.branch);if(!s)return!1;try{let r=s.commit.sha,a=yield this.octokit.request("POST /repos/{owner}/{repo}/git/refs",{owner:n.owner,repo:n.repo,ref:`refs/heads/${e}`,sha:r});return _({settings:this.settings},l.t("publish.branch.success",{branchStatus:a.status,repo:n})),a.status===201}catch(r){try{A({settings:this.settings,e:!0},r);let o=(yield this.octokit.request("GET /repos/{owner}/{repo}/branches",{owner:n.owner,repo:n.repo})).data.find(u=>u.name===e);return _({settings:this.settings},l.t("publish.branch.alreadyExists",{branchName:e,repo:n})),!!o}catch(a){return _({settings:this.settings,e:!0},a),!1}}})}pullRequestOnRepo(e,n){return m(this,null,function*(){try{return(yield this.octokit.request("POST /repos/{owner}/{repo}/pulls",{owner:n.owner,repo:n.repo,title:l.t("publish.branch.prMessage",{branchName:e}),body:"",head:e,base:n.branch})).data.number}catch(i){A({settings:this.settings,e:!0},i);try{return(yield this.octokit.request("GET /repos/{owner}/{repo}/pulls",{owner:n.owner,repo:n.repo,state:"open"})).data[0].number}catch(s){return _({settings:this.settings,e:!0},l.t("publish.branch.error",{error:s,repo:n})),0}}})}deleteBranchOnRepo(e,n){return m(this,null,function*(){try{return(yield this.octokit.request("DELETE /repos/{owner}/{repo}/git/refs/heads/"+e,{owner:n.owner,repo:n.repo})).status===200}catch(i){return A({settings:this.settings,e:!0},i),!1}})}mergePullRequestOnRepo(e,n){return m(this,null,function*(){let i=n.commitMsg||n.commitMsg.trim().length>0?`${n.commitMsg} #${e}`:`[PUBLISHER] Merge #${e}`;try{return(yield this.octokit.request("PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge",{owner:n.owner,repo:n.repo,pull_number:e,commit_title:i,merge_method:"squash"})).status===200}catch(s){return _({settings:this.settings,e:!0},s),new st.Notice(l.t("error.mergeconflic")),!1}})}updateRepository(e,n){return m(this,null,function*(){n=Array.isArray(n)?n:[n];let i=[];for(let s of n)i.push(yield this.updateRepositoryOnOne(e,s));return!i.every(s=>s===!1)})}updateRepositoryOnOne(e,n){return m(this,null,function*(){try{let i=yield this.pullRequestOnRepo(e,n);return n.automaticallyMergePR&&i!==0?(yield this.mergePullRequestOnRepo(i,n))?(yield this.deleteBranchOnRepo(e,n),!0):!1:!0}catch(i){return A({settings:this.settings,e:!0},i),new st.Notice(l.t("error.errorConfig",{repo:n})),!1}})}checkRepository(e,n=!0){return m(this,null,function*(){e=Array.isArray(e)?e:[e];for(let i of e)try{(yield this.octokit.request("GET /repos/{owner}/{repo}",{owner:i.owner,repo:i.repo}).catch(r=>{r.status===404?new st.Notice(l.t("commands.checkValidity.inRepo.error404",{repo:i})):r.status===403?new st.Notice(l.t("commands.checkValidity.inRepo.error403",{repo:i})):r.status===301&&new st.Notice(l.t("commands.checkValidity.inRepo.error301",{repo:i}))})).status===200&&(_({settings:this.settings},l.t("commands.checkValidity.repoExistsTestBranch",{repo:i})),(yield this.octokit.request("GET /repos/{owner}/{repo}/branches/{branch}",{owner:i.owner,repo:i.repo,branch:i.branch}).catch(a=>{a.status===404?new st.Notice(l.t("commands.checkValidity.inBranch.error404",{repo:i})):a.status===403&&new st.Notice(l.t("commands.checkValidity.inBranch.error403",{repo:i}))})).status===200&&!n&&new st.Notice(l.t("commands.checkValidity.success",{repo:i})))}catch(s){A({settings:this.settings,e:!0},s);break}})}};var Xs=K(require("obsidian"));var Js={};qi(Js,{commands:()=>dl,common:()=>hl,default:()=>Uf,deletion:()=>fl,error:()=>pl,informations:()=>ml,modals:()=>gl,publish:()=>bl,regex:()=>Dl,settings:()=>yl,statusBar:()=>wl});var dl={checkValidity:{inBranch:{error403:"Error 403: {{- repo.owner}}/{{- repo.repo}} was moved permanently (from {{- repo.branch}}).",error404:"Error 404: The branch {{- repo.branch}} was not found in {{- repo.owner}}/{{- repo.repo}}."},inRepo:{error301:"Error 301: {{- repo.owner}}/{{- repo.repo}}  was moved permanently.",error403:"Error 403: this action is forbidden for {{- repo.owner}}/{{- repo.repo}}.",error404:"Error 404: {{- repo.owner}}/{{- repo.repo}}: is not found."},rateLimit:{command:"Check the rate limit of the GitHub API",limited:"You have reached the rate limit of the GitHub API. The limit will be reset at {{- resetTime}}.",notLimited:"You are not rate limited. You can make {{- remaining}} requests before the limit is reset at {{- resetTime}}."},repoExistsTestBranch:"Repository {{- repo.owner}}/{{- repo.repo}} exists. Now testing the {{- repo.branch}} branch.",success:"{{- repo.owner}}/{{- repo.repo}} seems to be valid!",title:"Test the connection to the configured repository"},copyLink:{onActivation:"Link copied to your clipboard",title:"Create a link to this note"},publisherDeleteClean:"Purge depublished and deleted files",runOtherRepo:{noFile:"No file is active or the file is not shared",title:"Run command for a repository"},shareActiveFile:"Upload single current active note",shareViewFiles:{default:"Github Publisher: Upload {{- viewFile}}",multiple:{on:"Upload {{- doc}} to {{- smartKey }}",other:"Upload to\u2026"}},uploadAllEditedNote:"Refresh all published notes",uploadAllNewEditedNote:"Refresh published and upload new notes",uploadAllNotes:"Upload all shared notes",uploadNewNotes:"Upload unpublished notes"},hl={add:"Add {{- things}}",after:"After",attachments:"attachments",before:"Before",cancel:"Cancel",close:"Close",default:"default",defaultName:"default folder",delete:"Delete {{- things}}",edit:"Edit {{- things}}",error:"Error",files:"files",ghToken:"GitHub Token",here:"here",or:"or",path:{file:"File name",folder:"Folder path",full:"Filepath"},published:"Published",regex:"regex",repository:"Repository",rootFolder:"root folder",save:"Save",shared:"Shared",text:"text",warning:"Warning"},fl={defaultFolder:"You need a default folder name in the settings to use this command.",failed:"Failed to delete {{- nb}} files.",noFile:"No files have been deleted.",rootFolder:"You need to configure a root folder in the settings to use this command.",success:"Successfully deleted {{- nb}} files."},pl={autoClean:"Since {{- what}} is empty, auto-cleaning is disabled.",dataview:"Unable to render dataview query. Please update the dataview plugin to the last version.",errorConfig:"Error configuring {{- repo.owner}}/{{- repo.repo}}. Please check your settings.",errorPublish:"Error during upload to {{- repo.owner}}/{{- repo.repo}}",isEmpty:"{{- what}} is empty.",mergeconflic:"Pull-request is not mergeable, you need to do it manually.",normal:"The 404 error is normal ! It means that the file does not exist yet. Don't worry \u2764\uFE0F.","reading-token-file":"Error: the path seems incorrect.",unablePublishMultiNotes:"Unable to upload multiple notes, something went wrong.",unablePublishNote:"Unable to upload note {{- file}}, skipping it",whatEmpty:{branch:"Branch",owner:"Owner"}},ml={foundNoteToSend:"Found {{- nbNotes}} new notes to send",migrating:{fileReplace:"Migration of filename replace to the new format...",normalFormat:"Migrating settings...",oldSettings:"Migration of old settings to new settings format...",subFolder:"Adding replacing subfolder to the folderpath replacement..."},noNewNote:"No new notes to upload.",scanningRepo:"Scanning the repository, may take a while...",sendMessage:"Upload {{- nbNotes}} notes to {{- repo.owner}}/{{- repo.repo}}",startingClean:"Starting cleaning {{- repo.owner}}/{{- repo.repo}}",successPublishOneNote:"Successfully uploaded {{- file}} to {{- repo.owner}}/{{- repo.repo}}",successfulPublish:"Successfully uploaded {{- nbNotes}} to {{- repo.owner}}/{{- repo.repo}}",waitingWorkflow:"Now, waiting for the workflow to be completed..."},gl={export:{copy:"Copy to clipboard",desc:"Export settings to clipboard or a file.",download:"Download",title:"Export settings"},import:{desc:"Import settings from text or a file. Note : this will overwrite your current settings (except for username, repo name and token).",error:{isEmpty:"the configuration is empty.",span:"Error importing configuration: "},importFromFile:"Import from file",paste:"Paste configuration here...",presets:{desc:'Load presets from the repository "plugin-presets"',title:"Presets"},title:"Import settings"},listChangedFiles:{added:"Added",deleted:"Deleted",edited:"Edited",error:"Errors",notDeleted:"Cannot be deleted",title:"List of files edited in the repository",unpublished:"Cannot be published"}},bl={branch:{alreadyExists:"Branch already exists ({{- branchName}} on {{- repo.owner}}/{{- repo.repo}} - Using it.",error:"Error with {{- repo.owner}}/{{- repo.repo}}: {{- error}}",prMessage:"Pull-Request [{{- branchName}}] from Obsidian",success:"Branch successfully created (status: {{- branchStatus}}) on {{- repo.owner}}/{{- repo.repo}}"}},Dl={entry:"Value to replace",replace:"Replacement"},yl={conversion:{dataview:{desc:"Convert dataview to markdown.",title:"Dataview"},desc:"Theses option won't change the content of the file in your Obsidian Vault, but will change the content of the file in Github.",hardBreak:{desc:"Add a markdown hard line break (double whitespace) after each line.",title:"Markdown hard line break"},links:{desc:'You can prevent links to be converted and keep the alt text (or filename) by using the properties key "links" with the value "false".',folderNote:{desc:"Rename files to a specified name (default: index.md) if it has the same name as their parent folder/category (also works if the note is outside of the folder).",title:"Folder note"},internals:{desc:"Convert internal links to their counterpart in the repository, with relative path.",shareAll:'Includes all links for the "share all" settings, as it impossible without frontmatter to know the sharing state of a file.',title:"Internals Links"},nonShared:{desc:"Same option as internals, but for notes that are not yet published. Disabled, only the filename will be conserved.",title:"Convert internal links pointing to unpublished notes"},slugify:{desc:"Standardize the slug of anchor links (pointing to heading title). Transform the slug into all lower case. Replace space with hyphen. Applicable only for anchor links in markdown link syntax.",title:"Sluglify anchor in markdown links"},title:"Links",wikilinks:{desc:"Convert Wikilinks to MDlinks, without changing the contents.",title:"[[Wikilinks]] to [MDlinks](links)"}},sectionTitle:"Main text",tags:{desc:"This will convert any properties or dataview inline field into properties tags. Separate fields with a comma.",exclude:{desc:"This will exclude value from being converted. Separate fields with a comma.",title:"Exclude value from conversion"},inlineTags:{desc:'Add your inline tags in your properties tags field and converting nested tags with replacing "/" with "_"',title:"Inline tags"},title:"Convert properties/dataview fields into tags"},title:"Text & links"},embed:{bake:{text:"Allow you to add text before and after each embed, for example adding HTML or stylize the block with markdown.",textAfter:{title:"Text after the block"},textBefore:{title:"Text before the block"},title:"Include embed settings",variable:{desc:"It is possible to use the following variable:",title:": note embedded title",url:": path to the embedded note"},warning:"If you use HTML, depending of your host settings, the markdown will broke."},char:{desc:"Character(s) to add before the link.",title:"Embed characters"},defaultImageFolder:{desc:"To use a folder different from default",title:"Default attachment folder"},links:{desc:"Allow to edit the links of the embeds, removing entirely the citation, or transform to a simple link",dp:{bake:"Include embed contents",keep:"No change",links:"Transform to link",remove:"Remove link completely"},title:"Change embed markup"},title:"Embed",transferImage:{desc:"Send attachments embedded in a file to GitHub.",title:"Transfer attachments"},transferMetaFile:{desc:"Set the names of the metadata field you want to use to send files. Separate fields with a comma. Dataview inline field are supported.",title:"Send files using a metadata field"},transferNotes:{desc:"Send embedded notes in a shared file to GitHub. Only shared files will be send!",title:"Transfer embedded notes"}},github:{apiType:{desc:"Choose between the Github API or the Github Enterprise API (only Github Enterprise users \u2014 Advanced user!).",dropdown:{enterprise:"Enterprise",free:"Free/Pro/Team (default)"},hostname:{desc:"The hostname of your Github Enterprise instance.",title:"Github Enterprise Hostname"},title:"API Type"},automaticallyMergePR:"Automatically merge pull requests",branch:{desc:'If you use a different branch than "main"',title:"Main branch"},ghToken:{button:{configDir:": The configuration folder of Obsidian",default:"By default, it will be in:",description:"You can edit the file path where the token will be stored.",pluginID:": The plugin ID",tooltip:"Modify the path of the file containing the token",variables:"You can use the following variables:"},desc:"A GitHub token with repository permission. You can generate it ",error:"The token mustn't be empty!"},repoName:{desc:"The name of the repository where you store your blog.",placeholder:"mkdocs-template",title:"Repository Name"},smartRepo:{button:"Manage more repository",modals:{default:'The name "default" is reserved for your primary configuration.',desc:'These "other repositories" allow you to use all the commands on the repositories added below.',duplicate:"Smartkey must be unique!",frontmatterInfo:'Using the "shortRepo" properties key with the "smartKey" also allows you to use this repository in a file without having to write its path.',newRepo:"a new repository",otherConfig:"Other settings",shortcuts:{desc:"Add all commands for this repository in the command palette",title:"Shortcuts"},title:"Manage others repositories"}},testConnection:"Test connection",title:"GitHub Configuration",username:{desc:"The username or organization hosting the repo in GitHub",title:"GitHub Username"}},githubWorkflow:{autoCleanUp:{desc:"If the plugin must remove from GitHub the depublished files (stop share or deleted)",title:"Auto clean up"},excludedFiles:{desc:'If you want to exclude some folder or file from the autoclean, add them here. You can use regex by surrounding the string with "/". Separate files with a comma.',title:"Excluded files and folder"},githubAction:{desc:'If you want to activate a GitHub action when the plugin push the file, set the name of the file (in your .github/worfklows folder). Only workflow with the "workflow_dispatch" event will be triggered.',title:"Github action name"},prRequest:{desc:"The message send when the pull-request is merged. Will always followed by the pull-request number.",error:"You can't use an empty string here!",title:"Commit message"},useMetadataExtractor:{desc:"Send the files generated by the metadata-extractor plugin in this folder.",title:"Metadata-extractor files"}},help:{frontmatter:{attachment:{folder:"Change the default folder for the attachments",send:"Send all attachments to GitHub"},autoclean:"Disable or enable autocleaning",baselink:{desc:"Change the base link for the copy link command. Also disable the link replacer part. Can be used as an properties object with the name ",remove:"Remove part of the link. It must be a list!"},convert:{enableOrDisable:"Enable or disable the conversion of links. Disabling this will remove the",syntax:"syntax, while keeping the file name or the alternative text."},dataview:"Convert dataview queries to markdown.",desc:"Moreover, there are some properties keys that can be useful for your workflow. The code below show the default settings, but feel free to change it to your needs in each notes!",embed:{char:'Add a character(s) before the embedded links. Used only if you set "remove" to "links".',remove:{bake:"Include the content of the embed (support blocks, heading and entire file)",desc:"Modify the aspect of the embedded files link. Can take the followed value:",keep:"Leave as in Obsidian",links:'Convert to links (delete or edit the "!")',remove:"Delete the citation completely and leave an empty line"},send:"Send embedded note to GitHub"},hardBreak:"Convert all linebreaks to markdown \xABhard break\xBB.",internals:"Convert internals links to their counterpart in the website, with relative path. Disabled, the plugin will keep the internal link as is.",mdlinks:"Convert all [[wikilinks]] to [markdown](links)",nonShared:"Convert internal links pointing to a unshared file to their counterpart in the website, with relative path. Disabled, the plugin will keep the filename.",path:"You can override all path settings using this key. The path will be relative to the root of your repository.",repo:{branch:"Branch of the repo",desc:"Change the default repo for the note.",owner:"Owner of the repo"},share:{other:"You could also use another shareKey based on the key set in \xAB Manage other repo \xBB. It allows you to separate your different repository. If the main and secondaries key are used, the main repo will be used.",title:"This key is used to share a note with the plugin."},shortRepo:"Allow to use one of the repo set in other repo settings.",title:"Properties keys cheatsheet",titleKey:"Change the title of the note."},multiRepoHelp:{desc:"If you want to send your notes to multiple repository, you can use the ",desc2:"key in your properties. The value of this key must be a list of repository. Each repository must have the following keys ",exampleDesc:"The code below show an example based on your settings.",title:"Send to multiple repository"},title:"Help",usefulLinks:{discussion:"Discussion",documentation:"Documentation",issue:"Issue",links:"https://obsidian-publisher.netlify.app/",title:"Useful links"}},plugin:{copyLink:{baselink:{desc:"The base link of your website. By default : https://username.github.io/repo/",title:"Base link"},command:{desc:"Add a command to copy the link of the note (need reloading the plugin to take effect)"},desc:"Send a link to your note in your clipboard",linkPathRemover:{desc:"Delete this part of the links created. Separate with a comma if several values are to be deleted.",title:"Deleting part of the link"},title:"Copy link"},dev:{desc:`Advanced user only. 
Will display as "Notice" according to the previous setting.`,title:"Display developper logs"},editorMenu:{desc:"Add a sharing commands in the right-click menu",title:"Editor Menu"},embedEditRepo:{desc:"Display the editions on the repository",title:"Allows to display the list of edited, added, deleted files... From the main repository (in a modal)."},excludedFolder:{desc:'Never publish file in these folder, regardless of the share key. Separate folder name by comma. Regex are supported by surrounding them with "//"',title:"Excluded Folder"},fileMenu:{desc:"Add an sharing commands in the file menu",title:"File Menu"},head:{copyLinks:"Link building & copy",log:"Logs",menu:"Menu",other:"Others",share:"Share & sharing key"},logNoticeHeader:{desc:"On mobile, it can be hard to debug the plugin. Enable this option to log every error in a Notice.",title:"Notice every error"},shareKey:{all:{desc:"Allow to share all file and ignore the share key state",title:"Share all files without sharing key"},desc:"The properties key to publish your file on the website.",excludedFileName:{title:"Exclude files with names starting with ..."},otherRepo:"You can also define a share key to separate with others, without using the shortRepo key.",title:"Share Key"},title:"Plugin Settings"},regexReplacing:{empty:"Replacement can be empty to remove the whole string.",forbiddenValue:"The {{- what}} cannont contain the character: {{- forbiddenChar}}",modal:{desc:'Replace text in the file with the given value. Enclose the text with "//" to use regex.',title:{all:"Folder path & filename replacer",only:"Replace filename",text:"Text replacer"}},momentReplaceRegex:"Run replacement {{- moment}} the other plugin conversion (dataview, internals links...)",warningPath:'Warning! Using the character "/" will edit the path, be careful with this option.'},upload:{defaultFolder:{desc:"Set the default reception folder. Let it empty to use the root of the repository.",placeholder:"docs",title:"Default Folder"},folderBehavior:{desc:"Choose the file tree in the repository, with using a properties key, a fixed folder or your Obsidian file tree.",fixedFolder:"Fixed Folder",obsidianPath:"Obsidian Path",title:"File tree in repository",yaml:"Properties key"},frontmatterKey:{desc:"Set the key where to get the folder's value.",placeholder:"category",title:"Properties key"},regexFilePathTitle:{desc:'If the text is between "//", it will be used as a regex. Otherwise, it will be used as a string.',title:{FolderPathTitle:"Apply edit on the folder path or the filename (automatically)",titleOnly:"Apply edit on the filename (automatically)"}},rootFolder:{desc:"Append this path to the folder set by the properties key",title:"Root folder"},title:"Upload configuration",useFrontmatterTitle:{desc:'Use a properties value to generate the filename. By default, "title" is used. ',title:"Set the key where to get the value of the filename"}}},wl={counter:"{{- msg}}: {{- counter}}/{{- nb}}",markedForSharing:"{{- nb}} {{- type}} marked for sharing",sharing:"\u231BSharing {{- type}}",success:"\u2705 {{- action}} {{- type}}"},Uf={commands:dl,common:hl,deletion:fl,error:pl,informations:ml,modals:gl,publish:bl,regex:Dl,settings:yl,statusBar:wl};var Qs={};qi(Qs,{commands:()=>Fl,common:()=>vl,default:()=>_f,deletion:()=>El,error:()=>kl,informations:()=>xl,modals:()=>Cl,publish:()=>Sl,regex:()=>Tl,settings:()=>Pl,statusBar:()=>Rl});var Fl={checkValidity:{inBranch:{error403:"Erreur 403: {{- repo.owner}}/{{- repo.repo}} a \xE9t\xE9 d\xE9plac\xE9 de mani\xE8re permanente (depuis {{- branchInfo}}",error404:"Erreur 404 : La branche {{- repo.branch}} est introuvable depuis {{- repo.owner}}/{{- repo.repo}}"},inRepo:{error301:"Erreur 301 : {{- repo.owner}}/{{- repo.repo}} a \xE9t\xE9 d\xE9plac\xE9 de mani\xE8re permanente",error403:"Erreur 403 : Cette action est interdite pour {{- repo.owner}}/{{- repo.repo}}",error404:"Erreur 404 : {{- repo.owner}}/{{- repo.repo}} est introuvable"},rateLimit:{command:"V\xE9rifier la limite de requ\xEAtes de l'API GitHub",limited:"Vous avez atteint la limite de requ\xEAtes Github. La limite sera r\xE9initialis\xE9e \xE0 {{- resetTime}}. minutes.",notLimited:"Vous n'\xEAtes pas limit\xE9 par Github. Vous pouvez encore faire {{- remaining}} requ\xEAtes, et la limite sera r\xE9initialis\xE9e \xE0 {{- resetTime}}."},repoExistsTestBranch:"Le d\xE9p\xF4t {{- repo.owner}}/{{- repo.repo}} existe. Maintenant, nous allons tester la branche {{- repo.branch}}",success:"{{- repo.owner}}/{{- repo.repo}} semble valide !",title:"Tester la connexion au d\xE9p\xF4t configur\xE9"},copyLink:{onActivation:"Lien copi\xE9 dans le presse-papier !",title:"Cr\xE9er un lien vers cette note"},publisherDeleteClean:"Purger les fichiers d\xE9publi\xE9s et supprim\xE9s",runOtherRepo:{noFile:"Aucun fichier actif, ou le fichier n'est pas partag\xE9.",title:"Lancer une commande pour un d\xE9p\xF4t"},shareActiveFile:"Transf\xE9rer la note active",shareViewFiles:{default:"Github Publisher : Transf\xE9rer {{- viewFile}}",multiple:{on:"Transf\xE9rer {{- doc}} vers {{- smartKey }}",other:"Transf\xE9rer vers\u2026"}},uploadAllEditedNote:"Rafra\xEEchir toutes les notes publi\xE9es",uploadAllNewEditedNote:"Rafra\xEEchir les notes publi\xE9es et transf\xE9rer les nouvelles notes",uploadAllNotes:"Transf\xE9rer toutes les notes",uploadNewNotes:"Transf\xE9rer les nouvelles notes"},vl={add:"Ajouter {{- things}}",after:"Apr\xE8s",attachments:"pi\xE8ces-jointes",before:"Avant",cancel:"Annuler",close:"Fermer",default:"d\xE9faut",defaultName:"dossier par d\xE9faut",delete:"Supprimer {{- things}}",edit:"\xC9diter {{- things}}",error:"Erreur",files:"fichiers",ghToken:"Token GitHub",here:"ici",or:"ou",path:{file:"Nom du fichier",folder:"Chemin du dossier",full:"Chemin du fichier"},published:"publi\xE9s",regex:"regex",repository:"D\xE9p\xF4t",rootFolder:"dossier racine",save:"Sauvegarder",shared:"partag\xE9s",text:"texte",warning:"Attention"},El={defaultFolder:"Vous avez besoin d'un dossier par d\xE9faut dans les param\xE8tres pour utiliser cette commande.",failed:"\xC9chec de la suppression de {{- nb}} notes.",noFile:"Aucun fichier n'a \xE9t\xE9 supprim\xE9.",rootFolder:"Vous devez configurer un dossier racine dans les param\xE8tres pour utiliser cette commande.",success:"Suppression r\xE9ussie de {{- nb}} fichiers."},kl={autoClean:"Le {{- what}} \xE9tant vide, l'auto-nettoyage est d\xE9sactiv\xE9e.",dataview:"Impossible de convertir la requ\xEAte Dataview. Veuillez mettre \xE0 jour le module Dataview \xE0 la derni\xE8re version;",errorConfig:"Erreur de configuration pour {{- repo.owner}}/{{- repo.repo}}:{{- repo.branch}}. Merci de v\xE9rifier vos param\xE8tres.",errorPublish:"Erreur lors de la publication sur {{- repo.owner}}/{{- repo.repo}}:{{- repo.branch}}",isEmpty:"{{- what}} est vide.",mergeconflic:"La Pull-Request n'est pas fusionnable, vous avez besoin de le faire manuellement.",normal:"L'erreur 404 est normale ! Elle signifie que le fichier n'existe pas encore. Ne vous inqui\xE9tez pas \u2764\uFE0F.","reading-token-file":"Erreur : Le chemin est incorrect.",unablePublishMultiNotes:"Impossible de transf\xE9rer plusieurs notes, quelque chose s'est mal pass\xE9.",unablePublishNote:"Impossible de transf\xE9rer {{- file}}, le fichier a \xE9t\xE9 ignor\xE9.",whatEmpty:{branch:"Branch",owner:"Propri\xE9taire"}},xl={foundNoteToSend:"Trouv\xE9 {{- nbNotes}} nouvelles notes \xE0 transf\xE9rer.",migrating:{fileReplace:"Migration du remplacement du nom du fichier au nouveau format...",normalFormat:"Migration des param\xE8tres...",oldSettings:"Migration des anciens param\xE8tres au nouveau format...",subFolder:"Ajout du remplacement du sous-dossier au remplacement de chemin de fichier..."},noNewNote:"Aucune note \xE0 transf\xE9rer.",scanningRepo:"Scan du d\xE9p\xF4t, veuillez patienter...",sendMessage:"Transfert de {{- nbNotes}} notes vers {{- repo.owner}}/{{- repo.repo}}",startingClean:"D\xE9but du nettoyage de {{- repo.owner}}/{{- repo.repo}}",successPublishOneNote:"Transfert r\xE9ussi de {{- file}} vers {{- repo.owner}}/{{- repo.repo}}",successfulPublish:"Transfert r\xE9ussi de {{- nbNotes}} notes vers {{- repo.owner}}/{{- repo.repo}}",waitingWorkflow:"Maintenant, attente de la fin du workflow..."},Cl={export:{copy:"Copier vers le presse-papier",desc:"Exporter les param\xE8tres vers un fichier ou dans le presse-papier.",download:"T\xE9l\xE9charger",title:"Exporter les param\xE8tres"},import:{desc:"Importer des param\xE8tres depuis un fichier ou un texte. Cela \xE9crasera vos param\xE8tres actuels (sauf le nom du d\xE9p\xF4t, le nom d'utilisateur et votre token)",error:{isEmpty:"la configuration est vide",span:"Erreur lors de l'importation de la configuration :"},importFromFile:"Import depuis le fichier",paste:"Coller la configuration ici...",presets:{desc:'Charger des pr\xE9-r\xE9glages du d\xE9p\xF4t "plugin-presets"',title:"Pr\xE9-r\xE9glages"},title:"Importer des param\xE8tres"},listChangedFiles:{added:"Ajout\xE9",deleted:"Supprim\xE9",edited:"Modifi\xE9",error:"Erreurs",notDeleted:"Impossible \xE0 supprimer",title:"Liste des fichiers \xE9dit\xE9s sur le d\xE9p\xF4t",unpublished:"Impossible \xE0 publier"}},Sl={branch:{alreadyExists:"La branche {{- branchName}} sur {{- repo.owner}}/{{- repo.repo}} existe d\xE9j\xE0 - Utilisation de celle-ci.",error:"Erreur avec {{- repo.owner}}/{{- repo.repo}} : {{- error}}",prMessage:"Pull-Request [{{- branchName}}] depuis Obsidian",success:"La branche a \xE9t\xE9 cr\xE9e avec succ\xE8s (status: {{- branchStatus}} sur {{- repo.owner}}/{{- repo.repo}})"}},Tl={entry:"Valeur \xE0 remplacer",replace:"Remplacement"},Pl={conversion:{dataview:{desc:"Convertir les requ\xEAtes Dataview en markdown.",title:"Dataview"},desc:"Ces options ne changent pas le contenu du fichier dans votre coffre Obsidian, mais changeront le contenu du fichier publi\xE9 sur GitHub.",hardBreak:{desc:"Ajoutez un retour \xE0 la ligne Markdown (double espace) apr\xE8s chaque ligne.",title:"Saut de ligne strict"},links:{desc:'Vous pouvez emp\xEAcher la conversion des liens et conserver le texte alt (ou le nom du fichier) en utilisant la cl\xE9 de propri\xE9t\xE9s "links" avec la valeur "false".',folderNote:{desc:`Renommer les fichiers en un nom sp\xE9cifique (d\xE9faut : "index.md") s'il porte le m\xEAme nom que leur dossier/cat\xE9gorie parent (fonctionne aussi si la note est \xE0 l'ext\xE9rieur du dossier).`,title:"Folder Note"},internals:{desc:"Convertir les liens internes pointant vers les notes publi\xE9es vers leur homologue dans le d\xE9p\xF4t, sous forme de chemin relatif.",shareAll:`Inclut tous les liens pour les param\xE8tres "partager tout", car il est impossible sans frontmatter de conna\xEEtre l'\xE9tat de partage d'un fichier.`,title:"Liens internes"},nonShared:{desc:"L'option pr\xE9c\xE9dente, mais appliqu\xE9es aux liens internes pointant vers des notes non-publi\xE9es. D\xE9sactiv\xE9, seul le nom du fichier sera conserv\xE9.",title:"Conversion des liens internes pointant vers des notes non-publi\xE9es"},slugify:{desc:"Normaliser le lien (slug) des liens d'ancrage (pointant vers le titre de la rubrique). Transforme le texte en minuscules. Remplace l'espace par un tiret. Applicable uniquement aux liens d'ancrage dans la syntaxe de lien markdown.",title:"Slugifier l'ancre des liens markdown"},title:"Liens",wikilinks:{desc:"Conversion des liens wikilinks en liens Markdown, sans en modifier le contenu.",title:"Convertir [[WikiLinks]] en [liens](Markdown)"}},sectionTitle:"Texte principal",tags:{desc:"Ceci convertira tous les champs des propri\xE9t\xE9s/dataview en tags. S\xE9parez les champs par une virgule.",exclude:{desc:"Exclusion de champs de la conversion. S\xE9parer les valeurs par une virgule.",title:"Exclusion de tags"},inlineTags:{desc:'Ajoute vos inlines tags dans votre bloc propri\xE9t\xE9s et converti les tags imbriqu\xE9s en rempla\xE7ant "/" par "_".',title:"Inlines tags"},title:"Convertir des champs dataview ou propri\xE9t\xE9s en tags"},title:"Texte & liens"},embed:{bake:{text:"Permet d'ajouter du texte avant et apr\xE8s chaque int\xE9gration, par exemple en ajoutant du HTML ou en stylisant le bloc avec du markdown.",textAfter:{title:"Texte apr\xE8s le block"},textBefore:{title:"Texte \xE0 ajouter avant le block"},title:"Param\xE8tres pour l'inclusion des embeds",variable:{desc:"Il est possible d'utiliser les variables suivantes :",title:" : Titre de la note inclue",url:" : Chemin vers la note inclue"},warning:"Si vous utilisez du HTML, selon les param\xE8tres de votre h\xE9bergeur, le Markdown sera cass\xE9."},char:{desc:"Caract\xE8re(s) \xE0 ajouter devant le lien.",title:"Caract\xE8re d'embed"},defaultImageFolder:{desc:"Pour utiliser un dossier diff\xE9rent de celui par d\xE9faut pour les pi\xE8ces-jointes.",title:"Dossier de pi\xE8ces-jointes par d\xE9faut"},links:{desc:"Permet d'\xE9diter les liens des embeds, en supprimant enti\xE8rement la citation, ou en la transformant en un simple lien.",dp:{bake:"Inclure le contenu des embeds",keep:"Pas de changement",links:"Transformer en lien simple",remove:"Supprimer le lien compl\xE8tement"},title:"Changer les balises d'embed"},title:"Embed",transferImage:{desc:"Transf\xE9rer les pi\xE8ces-jointes",title:"Envoyer les pi\xE8ces-jointes int\xE9gr\xE9es dans un fichier dans le d\xE9p\xF4t."},transferMetaFile:{desc:"Permet d'envoyer des fichiers en utilisant une cl\xE9 propri\xE9t\xE9s/dataview. S\xE9parer les champs par une virgule.",title:"Envoyer des fichiers en utilisant une cl\xE9 propri\xE9t\xE9s/dataview"},transferNotes:{desc:"Envoyer les notes int\xE9gr\xE9es dans un fichier publi\xE9 dans le d\xE9p\xF4t. Seul les fichiers publi\xE9s seront envoy\xE9s !",title:"Transf\xE9rer les notes int\xE9gr\xE9es"}},github:{apiType:{desc:"Choisir entre l'API GitHub ou l'API pour GitHub Entreprise (uniquement pour les utilisateurs de GitHub Enterprise \u2014 Utilisateur avanc\xE9 !).",dropdown:{enterprise:"Entreprise",free:"Free/Pro/Team (d\xE9faut)"},hostname:{desc:"Le nom de l'instance Github de votre entreprise.",title:"Instance Github Entreprise"},title:"Type d'API"},automaticallyMergePR:"Fusionner automatiquement les pull-request",branch:{desc:'Dans le cas o\xF9 vous souhaitez utiliser une branche diff\xE9rente de "main".',title:"Branche principale"},ghToken:{button:{configDir:" : Le dossier de configuration d'Obsidian",default:"Par d\xE9faut, il sera dans :",description:"Vous pouvez \xE9diter le chemin du fichier dans lequel sera stock\xE9 le token.",pluginID:" : L'ID du plugin",tooltip:"Modifier le chemin du fichier contenant le token",variables:"Vous pouvez utiliser les variables suivantes :"},desc:"Un token GitHub avec autorisation de d\xE9p\xF4t. Vous pouvez le g\xE9n\xE9rer ",error:"Le token ne doit pas \xEAtre vide !"},repoName:{desc:"Le nom du d\xE9p\xF4t dans lequel vos fichiers seront transf\xE9r\xE9s.",placeholder:"mkdocs-template",title:"Nom du d\xE9p\xF4t"},smartRepo:{button:"G\xE9rer plus de d\xE9p\xF4t",modals:{default:'Le nom "default" est r\xE9serv\xE9 pour votre configuration principale.',desc:`Ces "autres d\xE9p\xF4ts" vous permettent d'utiliser toutes les commandes sur les d\xE9p\xF4ts ajout\xE9s ci-dessous.`,duplicate:"Les smartKey doivent \xEAtre uniques !",frontmatterInfo:`L'utilisation de la cl\xE9 propri\xE9t\xE9 "shortRepo" avec la "smartKey" permet \xE9galement d'utiliser ce d\xE9p\xF4t dans un fichier sans avoir \xE0 \xE9crire son chemin.`,newRepo:"un nouveau d\xE9p\xF4t",otherConfig:"Autres param\xE8tres",shortcuts:{desc:"Ajoute toutes les commandes de ce d\xE9p\xF4t dans la palette de commandes",title:"Raccourci"},title:"G\xE9rer d'autres d\xE9p\xF4ts"}},testConnection:"Tester la connexion",title:"Configuration GitHub",username:{desc:"Votre username sur GitHub.",title:"Nom d'utilisateur GitHub"}},githubWorkflow:{autoCleanUp:{desc:"Si le plugin doit supprimer de votre d\xE9p\xF4t les fichiers d\xE9publi\xE9s (arr\xEAt du partage ou suppression).",title:"Auto-nettoyage"},excludedFiles:{desc:"Si vous voulez exclure certains dossier ou fichier du nettoyage automatique, d\xE9finissez leur chemin. Les regex sont accept\xE9es en les encadrant par des slashs. S\xE9parer les valeurs par une virgule.",title:"fichiers et dossier exclus"},githubAction:{desc:"Si vous souhaitez activer une action GitHub lorsque le plugin push les fichiers dans le d\xE9p\xF4t, il vous faut indiquer le nom du fichier issus du dossier .github/workflows/. Seules les actions activ\xE9es par un workflow_dispatch sont activ\xE9es.",title:"Nom de l'action GitHub"},prRequest:{desc:"Le message envoy\xE9 lorsque la pull-request est fusionn\xE9e. Sera toujours suivi par le num\xE9ro de la pull-request.",error:"Vous ne pouvez pas utiliser une valeur vide pour le message de commit.",title:"Message de commit"},useMetadataExtractor:{desc:"Envoyer les fichiers g\xE9n\xE9r\xE9s par metadata-extractor dans ce dossier.",title:"Fichier de metadata-extractor"}},help:{frontmatter:{attachment:{folder:"Change le dossier par d\xE9faut pour les pi\xE8ces-jointes.",send:"Envoie toutes les pi\xE8ces-jointes dans le d\xE9p\xF4t GitHub."},autoclean:"D\xE9sactive ou active le nettoyage automatique du d\xE9p\xF4t GitHub.",baselink:{desc:"Change le lien de base pour la commande de copie de lien. D\xE9sactive aussi la suppression de partie de lien. Peut \xEAtre utilis\xE9e en tant qu'objet sous le nom de ",remove:"Supprime les parties de lien. \xC0 mettre sous forme de liste !"},convert:{enableOrDisable:"Active ou d\xE9sactive la conversion des liens. En d\xE9sactivant cette option, vous supprimez les",syntax:"syntaxes, tout en gardant le nom du fichier ou son text alternatif."},dataview:"Convertit les requ\xEAtes dataview en markdown.",desc:"Il existe quelques cl\xE9s de propri\xE9t\xE9s qui peuvent vous \xEAtes utile. Le code ci-dessous montre les param\xE8tres par d\xE9faut, mais n'h\xE9sitez pas \xE0 le modifier selon vos besoins pour chaque note !",embed:{char:'Ajoutez un ou plusieurs caract\xE8res avant les liens. Utiliser uniquement si vous avez fix\xE9 "remove" \xE0 "links".',remove:{bake:"Inclure le contenu des embeds (blocs de support, titre et fichier entier)",desc:"Modifie l'aspect des liens des notes incorpor\xE9es. Peut prendre les valeurs suivantes :",keep:"Laisse comme dans Obsidian",links:"Convertit le lien vers la note incorpor\xE9e en lien simple",remove:"Supprime le lien compl\xE8tement et laisse une ligne vide"},send:"Envoie les notes int\xE9gr\xE9es de la note publi\xE9es dans le d\xE9p\xF4t. Seules les notes partag\xE9es seront envoy\xE9es !"},hardBreak:'Convertit tous les sauts de lignes en "hard break" markdown.',internals:"Convertit les liens internes vers leur homologue du d\xE9p\xF4t, sous forme de liens relatifs. D\xE9sactiv\xE9s, les liens seront conserv\xE9s tels quels.",mdlinks:"Convertir tous les liens [[wikilinks]] en [liens](Markdown)",nonShared:"Convertit les liens internes pointant vers une notes non publi\xE9es vers son futur homologue. D\xE9sactiv\xE9, le plugin conservera le nom du fichier ou son texte alternatif.",path:"Vous pouvez \xE9craser tous les param\xE8tres de chemins en utilisant cette cl\xE9. Le chemin sera cr\xE9\xE9e \xE0 partir de la racine du d\xE9p\xF4t.",repo:{branch:"Nom de la branche",desc:"Changer le d\xE9p\xF4t GitHub pour cette note",owner:"Pseudo GitHub du propri\xE9taire du d\xE9p\xF4t"},share:{other:"Vous pouvez \xE9galement utiliser une autre shareKey bas\xE9e sur la cl\xE9 d\xE9finie dans \xAB G\xE9rer plus de d\xE9p\xF4t \xBB. Cela vous permet de s\xE9parer vos diff\xE9rents d\xE9p\xF4ts. Si vous utilisez les cl\xE9s principales et secondaires, le d\xE9p\xF4t principal sera utilis\xE9.",title:"La cl\xE9 utilis\xE9e pour partager une note"},shortRepo:"Autorise l'utilisation de l'un des d\xE9p\xF4ts d\xE9finis dans les param\xE8tres",title:"Aide-m\xE9moire des propri\xE9t\xE9s",titleKey:"Change le titre de la note"},multiRepoHelp:{desc:"Si vous souhaitez envoyer vos notes dans plusieurs d\xE9p\xF4t en m\xEAme temps, vous pouvez utiliser la cl\xE9 ",desc2:"dans vos propri\xE9t\xE9s. La valeur de cette cl\xE9 doit \xEAtre une liste. Chaque d\xE9p\xF4t doit avoir les cl\xE9s suivantes :",exampleDesc:"Le code ci-dessous montre un exemple bas\xE9 sur vos param\xE8tres.",title:"Envoie dans plusieurs d\xE9p\xF4t"},title:"Aide",usefulLinks:{discussion:"Discussion",documentation:"Documentation (en anglais)",issue:"Issue",links:"https://obsidian-publisher.netlify.app",title:"Liens utiles"}},plugin:{copyLink:{baselink:{desc:'Permet de cr\xE9er un lien dans le presse-papier avec cette base. Par d\xE9faut : "https://username.github.io/repo/"',title:"Lien du d\xE9p\xF4t/blog"},command:{desc:"Ajouter une commande permettant de copier le lien de la note publi\xE9e dans le presse-papier (n\xE9cessite de recharger le plugin pour prendre effet)"},desc:"Envoie d'un lien vers la note publi\xE9es dans votre presse-papier.",linkPathRemover:{desc:"Supprimer cette partie des liens cr\xE9\xE9s. S\xE9parer par une virgule si plusieurs valeurs doivent \xEAtre supprim\xE9es.",title:"Suppression d'une partie du lien"},title:"Copie de lien"},dev:{desc:'Utilisateur avanc\xE9 seulement. Affichera sous forme de "Notice" selon le param\xE8tre pr\xE9c\xE9dents.',title:"Affiche les logs d\xE9veloppeurs"},editorMenu:{desc:"Ajouter une commande de partage dans le menu du clic droit.",title:'Menu "Edition"'},embedEditRepo:{desc:"Permet d'afficher la liste des fichiers \xE9diter, ajout\xE9, supprim\xE9... Du d\xE9p\xF4t principal (dans un modal).",title:"Afficher les \xE9ditions sur le d\xE9p\xF4t"},excludedFolder:{desc:`Les fichiers dans ses dossiers ne seront jamais publi\xE9s, quelle que soit l'\xE9tat de la cl\xE9 de partage. S\xE9parez les noms de dossier par une virgule. Les regex sont support\xE9s en les encadrant par "//"`,title:"Dossiers exclus"},fileMenu:{desc:'Ajouter une commande de partage dans le menu "Fichier"',title:'Menu "Fichier"'},head:{copyLinks:"Cr\xE9ation et copie de liens",log:"Logs",menu:"Menu",other:"Autres",share:"Partage & cl\xE9 de partage"},logNoticeHeader:{desc:"Sur mobile, il peut \xEAtre difficile de debug le module. Activer cette option pour notifier toutes les erreurs via une notification Obsidian.",title:"Notifier toutes les erreurs"},shareKey:{all:{desc:"Allow to share all file and ignore the share key state",title:"Partager tous les fichiers sans cl\xE9 de partage"},desc:"Cl\xE9 de partage",excludedFileName:{title:"Exclure les fichiers dont le nom commence par ..."},otherRepo:"Vous pouvez \xE9galement d\xE9finir une cl\xE9 de partage pour s\xE9parer avec des autres, sans utiliser la cl\xE9 shortRepo.",title:"La cl\xE9 de propri\xE9t\xE9 pour publier la note sur le d\xE9p\xF4t."},title:"Param\xE8tres du plugin"},regexReplacing:{empty:"Le remplacement peut \xEAtre vide pour supprimer l'ensemble de la cha\xEEne de caract\xE8re.",forbiddenValue:"Le {{- what}} ne peut contenir le caract\xE8re : {{- forbiddenChar}}.",modal:{desc:'Replace des textes dans le fichier par la valeur donn\xE9e. Vous pouvez encadrer le texte \xE0 remplacer avec "//" pour utiliser un regex.',title:{all:"Remplacement du nom ou du chemin du fichier",only:"Remplacement du titre uniquement",text:"Remplacement de texte"}},momentReplaceRegex:"Ex\xE9cuter le remplacement {{- moment}} les autres conversions (dataview, liens internes...)",warningPath:'Attention ! Utiliser le caract\xE8re "/" modifiera le chemin du fichier. Veuillez faire attention avec cette option.'},upload:{defaultFolder:{desc:"D\xE9finir le dossier de r\xE9ception par d\xE9faut. Laisser vide pour utiliser la racine du d\xE9p\xF4t.",placeholder:"docs",title:"Dossier par d\xE9faut"},folderBehavior:{desc:"Choisir la hi\xE9rarchie des dossiers dans le d\xE9p\xF4t, en se basant sur une cl\xE9 frontmatter, un dossier fixe ou la hi\xE9rarchie des dossiers dans Obsidian.",fixedFolder:"Dossier fix\xE9",obsidianPath:"Chemin Obsidian",title:"Hi\xE9rarchie des dossiers",yaml:"Valeur d'une cl\xE9 de propri\xE9t\xE9"},frontmatterKey:{desc:"D\xE9finir le nom de la cl\xE9 o\xF9 obtenir le dossier",placeholder:"category",title:"Cl\xE9 de propri\xE9t\xE9"},regexFilePathTitle:{desc:'Si le texte est entre "//", il sera interpr\xE9t\xE9 comme une expression r\xE9guli\xE8re. Sinon, il sera interpr\xE9t\xE9 comme du texte brut.',title:{FolderPathTitle:"\xC9diter le titre et le chemin du dossier (automatiquement)",titleOnly:"\xC9diter le titre (automatiquement)"}},rootFolder:{desc:"Ajouter ce chemin au dossier d\xE9finit par la cl\xE9 de propri\xE9t\xE9.",title:"Dossier racine"},title:"Configuration du transfert",useFrontmatterTitle:{desc:'Utiliser un champ des propri\xE9t\xE9s pour g\xE9n\xE9rer le nom du fichier. Par d\xE9faut, "title" est utilis\xE9.',title:"Utiliser une cl\xE9 de propri\xE9t\xE9 pour d\xE9finir le titre"}}},Rl={counter:"{{- msg}} : {{- counter}}/{{- nb}}",markedForSharing:"{{- nb}} {{- type}} \xE0 partager",sharing:"\u231BPartage de {{- type}}",success:"\u2705{{- action}} {{- type}}"},_f={commands:Fl,common:vl,deletion:El,error:kl,informations:xl,modals:Cl,publish:Sl,regex:Tl,settings:Pl,statusBar:Rl};var er={en:{translation:Js},fr:{translation:Qs}},tr=Object.keys(er).find(t=>t==Xs.moment.locale())?Xs.moment.locale():"en";var L=K(require("obsidian"));function Ol(t){let e="";t.upload.behavior===W.yaml&&(e=`${t.upload.yamlFolderKey}: ${t.upload.defaultName}
`);let n=t.github.otherRepo.length>0?"shortRepo: "+t.github.otherRepo[0].smartKey+`
`:"";return`${t.plugin.shareKey}: true
`+e+`links:
  mdlinks: ${t.conversion.links.wiki}
  convert: true
  internals: ${t.conversion.links.internal}
  nonShared: ${t.conversion.links.unshared}
embed:
  send: ${t.embed.notes}
  remove: ${t.embed.convertEmbedToLinks}
  char: ${t.embed.charConvert}
attachment:
  send: ${t.embed.attachments}
  folder: ${t.embed.folder}
dataview: ${t.conversion.dataview}
hardBreak: ${t.conversion.hardbreak}
`+n+`repo:
  owner: ${t.github.user}
  repo: ${t.github.repo}
  branch: ${t.github.branch}
  autoclean: ${t.upload.autoclean.enable}
copylink:
  base: ${t.plugin.copyLink.links}
  remove: [${t.plugin.copyLink.removePart.map(i=>`"${i}"`).join(", ")}]
`}function Al(t){let e=document.createDocumentFragment();return e.createEl("ul",void 0,n=>{n.createEl("li",void 0,i=>{i.createEl("code",{text:`${t.plugin.shareKey}:`,cls:"code-title"}),i.createEl("span",{text:`${l.t("settings.help.frontmatter.share.title")}`}),i.createEl("ul",void 0,s=>{s.createEl("span",{text:l.t("settings.help.frontmatter.share.other")})})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"path:",cls:"code-title"}),i.createEl("span",{text:` ${l.t("settings.help.frontmatter.path")}`})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"links:",cls:"code-title"})}),n.createEl("ul",void 0,i=>{i.createEl("li",void 0,s=>{s.createEl("code",{text:"mdlinks"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.mdlinks")}`})}),i.createEl("li",void 0,s=>{s.createEl("code",{text:"convert"}),s.createEl("span",void 0,r=>{r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.convert.enableOrDisable")} `}),r.createEl("code",{text:" [[link]] "}),r.createEl("span",{text:l.t("common.or")}),r.createEl("code",{text:" [](link) "}),r.createEl("span",{text:l.t("settings.help.frontmatter.convert.syntax")})})}),i.createEl("li",void 0,s=>{s.createEl("code",{text:"internals"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.internals")}`})}),i.createEl("li",void 0,s=>{s.createEl("code",{text:"nonShared"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.nonShared")}`})})}),n.createEl("li",{text:"embed:",cls:"code code-title"}),n.createEl("ul",void 0,i=>{i.createEl("li",void 0,s=>{s.createEl("code",{text:"send"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.send")}`})}),i.createEl("li",void 0,s=>{s.createEl("code",{text:"remove"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.remove.desc")}`}),s.createEl("ul",void 0,r=>{r.createEl("li",void 0,a=>{a.createEl("code",{text:"remove | true"}),a.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.remove.remove")}`})}),r.createEl("li",void 0,a=>{a.createEl("code",{text:"keep | false"}),a.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.remove.keep")}`})}),r.createEl("li",void 0,a=>{a.createEl("code",{text:"links"}),a.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.remove.links")}`})}),r.createEl("li",void 0,a=>{a.createEl("code",{text:"bake"}),a.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.remove.bake")}`})})})}),i.createEl("li",void 0,s=>{s.createEl("code",{text:"char"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.char")}`})})}),n.createEl("li",{text:"attachment:",cls:"code code-title"}),n.createEl("ul",void 0,i=>{i.createEl("li",void 0,s=>{s.createEl("code",{text:"send"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.attachment.send")}`})}),i.createEl("li",void 0,s=>{s.createEl("code",{text:"folder"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.attachment.folder")}`})})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"dataview",cls:"code-title"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.dataview")}`})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"hardbreak",cls:"code-title"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.hardBreak")}`})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"shortRepo",cls:"code-title"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.shortRepo")}`})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"repo",cls:"code-title"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.repo.desc")}`}),i.createEl("ul",void 0,s=>{s.createEl("li",void 0,r=>{r.createEl("code",{text:"owner"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.repo.owner")}`})}),s.createEl("li",void 0,r=>{r.createEl("code",{text:"repo"}),r.createEl("span",{text:`: ${l.t("settings.github.repoName.title")}`})}),s.createEl("li",void 0,r=>{r.createEl("code",{text:"branch"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.repo.branch")}`})}),s.createEl("li",void 0,r=>{r.createEl("code",{text:"autoclean"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.autoclean")}`})})})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:`${t.upload.frontmatterTitle.key}`,cls:"code-title"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.titleKey")}`})}),n.createEl("li",void 0,i=>{i.createEl("code",{text:"baseLink",cls:"code-title"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.baselink.desc")}`}),i.createEl("code",{text:"copylink:",cls:"code-title"}),i.createEl("ul",void 0,s=>{s.createEl("li",void 0,r=>{r.createEl("code",{text:"base"}),r.createEl("span",{text:`: ${l.t("settings.plugin.copyLink.baselink.title")}`})}),s.createEl("li",void 0,r=>{r.createEl("code",{text:"remove"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.baselink.remove")}`})})})})}),e}function Nl(){let t=document.createDocumentFragment();return t.createEl("ul",void 0,e=>{e.createEl("li",void 0,n=>{n.createEl("a",{text:l.t("settings.help.usefulLinks.documentation"),href:l.t("settings.help.usefulLinks.links")})}),e.createEl("li",void 0,n=>{n.createEl("a",{text:l.t("common.repository"),href:"https://github.com/ObsidianPublisher/obsidian-github-publisher"})}),e.createEl("li",void 0,n=>{n.createEl("a",{text:l.t("settings.help.usefulLinks.issue"),href:"https://github.com/ObsidianPublisher/obsidian-github-publisher/issues"})}),e.createEl("li",void 0,n=>{n.createEl("a",{text:l.t("settings.help.usefulLinks.discussion"),href:"https://github.com/ObsidianPublisher/obsidian-github-publisher/discussions"})})}),t}function Ll(t){let e=document.createDocumentFragment();return e.createEl("p",void 0,n=>{n.createEl("span",{text:l.t("settings.help.multiRepoHelp.desc")}),n.createEl("code",{text:"multipleRepo"}),n.createEl("span",{text:` ${l.t("settings.help.multiRepoHelp.desc2")}:`}),n.createEl("ul",void 0,i=>{i.createEl("li",{text:"owner"}).addClass("code"),i.createEl("li",{text:"repo"}).addClass("code"),i.createEl("li",{text:"branch"}).addClass("code"),i.createEl("li",{text:"autoclean"}).addClass("code")}),n.createEl("span",{text:l.t("settings.help.multiRepoHelp.exampleDesc")})}),e.createEl("pre",{cls:"language-yaml"}).createEl("code",{text:`multipleRepo:
  - owner: ${t.github.user}
    repo: ${t.github.repo}
    branch: ${t.github.branch}
    autoclean: false
  - owner: ${t.github.user}
    repo: my_second_brain
    branch: master
    autoclean: false`,cls:"language-yaml"}),e}function Ml(){let t=document.createDocumentFragment();return t.createEl("p",void 0,e=>{e.createEl("a",void 0,n=>{n.createEl("img",void 0,i=>{i.setAttr("src","https://storage.ko-fi.com/cdn/kofi2.png?v=3"),i.setAttr("alt","Buy Me A Coffee"),i.setAttr("style","height: 60px !important;width: 217px !important;")}),n.setAttr("href","https://ko-fi.com/lisandra_dev")}),e.setAttr("style","text-align: center;")}),t}function ji(t,e,n){return m(this,null,function*(){e.settings.plugin.migrated&&!n||(yield Yf(e,t),yield qf(e),yield Wf(e),yield Kf(e),yield zf(e),yield St(e),yield Zf(e),e.settings.plugin.migrated=!0,yield e.saveSettings())})}function qf(t){return m(this,null,function*(){t.settings.upload.replaceTitle instanceof Array||(A({settings:t.settings},l.t("informations.migrating.fileReplace")),t.settings.upload.replaceTitle=[t.settings.upload.replaceTitle],yield t.saveSettings())})}function Wf(t){return m(this,null,function*(){t.settings.upload.subFolder&&!t.settings.upload.replacePath.find(e=>e.regex==="/"+t.settings.upload.subFolder)&&(A({settings:t.settings},l.t("informations.migrating.subFolder")),t.settings.upload.subFolder.length>0&&t.settings.upload.replacePath.push({regex:"/"+t.settings.upload.subFolder,replacement:"",type:we.path}),delete t.settings.upload.subFolder,yield t.saveSettings())})}function Kf(t){return m(this,null,function*(){for(let e of t.settings.conversion.censorText)e.flags&&(e.entry="/"+e.entry+"/"+e.flags,delete e.flags,yield t.saveSettings())})}function zf(t){return m(this,null,function*(){if(A({settings:t.settings},"Migrating workflow"),!t.settings.github.worflow)return;let e=t.settings.github.worflow;t.settings.github.workflow={name:e.workflowName,commitMessage:e.customCommitMsg},delete t.settings.github.worflow,yield t.saveSettings()})}function St(t,e){return m(this,null,function*(){A({settings:t.settings},"migrating token");let n=Ut(t,t.settings.github.tokenPath);if(t.settings.github.token&&!e&&(A({settings:t.settings},`Moving the GitHub Token in the file : ${n}`),e=t.settings.github.token,delete t.settings.github.token,yield t.saveSettings()),e===void 0)return;A({settings:t.settings},`Moving the GitHub Token in the file : ${n}`);let i=`GITHUB_TOKEN=${e}`;yield t.app.vault.adapter.write(n,i)})}function Zf(t){return m(this,null,function*(){var n,i,s,r,a,o;A({settings:t.settings},"Configuring other repositories");let e=(i=(n=t.settings.github)==null?void 0:n.otherRepo)!=null?i:[];for(let u of e){let c={name:(r=(s=t.settings.github.worflow)==null?void 0:s.workflowName)!=null?r:t.settings.github.workflow.name,commitMessage:(o=(a=t.settings.github.worflow)==null?void 0:a.customCommitMsg)!=null?o:t.settings.github.workflow.commitMessage};if(u.workflow||(u.workflow=c,yield t.saveSettings()),u.worflow){let d=u.worflow;d.workflowName&&(u.workflow.name=d.workflowName),d.customCommitMsg&&(u.workflow.commitMessage=d.customCommitMsg),delete u.worflow,yield t.saveSettings()}u.copyLink||(u.copyLink={links:"",removePart:[]},yield t.saveSettings())}})}function Yf(t,e){return m(this,null,function*(){var i,s;if(!Object.keys(e).includes("editorMenu"))return;A({settings:t.settings},l.t("informations.migrating.oldSettings")),t.settings={github:{user:e.githubName?e.githubName:t.settings.github.user?t.settings.github.user:"",repo:e.githubRepo?e.githubRepo:t.settings.github.repo?t.settings.github.repo:"",branch:e.githubBranch,automaticallyMergePR:e.automaticallyMergePR,tokenPath:at,api:{tiersForApi:e.tiersForApi,hostname:e.hostname},workflow:{name:e.workflowName,commitMessage:(s=(i=e.customCommitMsg)!=null?i:t.settings.github.workflow.commitMessage)!=null?s:"[PUBLISHER] MERGE"},otherRepo:[],rateLimit:0,verifiedRepo:!1},upload:{behavior:e.downloadedFolder,defaultName:e.folderDefaultName,rootFolder:e.rootFolder,yamlFolderKey:e.yamlFolderKey,frontmatterTitle:{enable:e.useFrontmatterTitle,key:e.frontmatterTitleKey},replaceTitle:[{regex:e.frontmatterTitleRegex,replacement:e.frontmatterTitleReplacement,type:we.title}],replacePath:[{regex:e.subFolder,replacement:"",type:we.path}],autoclean:{enable:e.autoCleanUp,excluded:e.autoCleanUpExcluded},folderNote:{enable:e.folderNote,rename:e.folderNoteRename},metadataExtractorPath:e.metadataExtractorPath},conversion:{hardbreak:e.hardBreak,dataview:e.migrateDataview,censorText:e.censorText,tags:{inline:e.inlineTags,exclude:e.excludeDataviewValue,fields:e.dataviewFields},links:{internal:e.migrateForGithub,unshared:e.migrateInternalNonShared,wiki:e.migrateWikiLinks,slugify:!1}},embed:{attachments:e.embedImage,keySendFile:e.metadataFileFields,notes:e.embedNotes,folder:e.defaultImageFolder,charConvert:"->",convertEmbedToLinks:"keep"},plugin:{shareKey:e.shareKey,fileMenu:e.fileMenu,editorMenu:e.editorMenu,excludedFolder:e.excludedFolder,copyLink:{enable:e.copyLink,links:e.mainLink,removePart:e.linkRemover.split(/[,\n]\W*/).map(r=>r.trim()),addCmd:!1},noticeError:e.logNotice,displayModalRepoEditing:!1}};let n=e.GhToken?e.GhToken:t.settings.github.token?t.settings.github.token:"";yield St(t,n),yield t.saveSettings()})}var oe=K(require("obsidian"));function nr(t){return JSON.parse(JSON.stringify(t))}var ir=class extends oe.Modal{constructor(e,n,i,s){super(e);this.plugin=n,this.settingsPage=i,this.settingsTab=s}censorRepositoryData(e){return m(this,null,function*(){A({settings:e},"original settings:",e),this.plugin.settings.plugin=e.plugin,this.plugin.settings.github.repo=e.github.repo,this.plugin.settings.github.user=e.github.user,this.plugin.settings.github.otherRepo=e.github.otherRepo,yield this.plugin.saveSettings()})}onOpen(){let{contentEl:e}=this;new oe.Setting(e).setName(l.t("modals.import.title")).setDesc(l.t("modals.import.desc")),new oe.Setting(e).then(n=>{let i=createSpan({cls:"github-publisher-import-error",text:l.t("modals.import.error.span")});n.nameEl.appendChild(i);let s=a=>m(this,null,function*(){if(a)try{let o=JSON.parse(a);if(Object.keys(o).includes("editorMenu"))yield ji(o,this.plugin,!0),A({settings:this.plugin.settings},l.t("informations.migrating.oldSettings"));else{A({settings:this.plugin.settings},l.t("informations.migrating.normalFormat")),o=o;let u=nr(this.plugin.settings);o.upload.replaceTitle instanceof Array||(o.upload.replaceTitle=[o.upload.replaceTitle]);for(let[c,d]of Object.entries(o))this.plugin.settings[c]=d;yield this.censorRepositoryData(u),yield this.plugin.saveSettings()}this.close()}catch(o){i.addClass("active"),i.setText(`${l.t("modals.import.error.span")}${o}`)}else i.addClass("active"),i.setText(`${l.t("modals.import.error.span")}: ${l.t("modals.import.error.isEmpty")}`)});n.controlEl.createEl("input",{cls:"github-publisher-import-input",attr:{id:"github-publisher-import-input",name:"github-publisher-import-input",type:"file",accept:".json"}},a=>{a.addEventListener("change",o=>{let u=new FileReader;u.onload=c=>m(this,null,function*(){yield s(c.target.result.toString().trim())}),u.readAsText(o.target.files[0])})}),n.controlEl.createEl("label",{cls:"github-publisher-import-label",text:l.t("modals.import.importFromFile"),attr:{for:"github-publisher-import-input"}}),new oe.TextAreaComponent(e).setPlaceholder(l.t("modals.import.paste")).then(a=>{new oe.ButtonComponent(e).setButtonText(l.t("common.save")).onClick(()=>m(this,null,function*(){yield s(a.getValue().trim())})).buttonEl.addClass("github-publisher-import-save-button")}).inputEl.addClass("github-publisher-import-textarea")})}onClose(){let{contentEl:e}=this;e.empty(),this.settingsPage.empty();let n=document.querySelector(".settings-tab-active.github-publisher")?document.querySelector(".settings-tab-active.github-publisher").innerText:l.t("settings.github.title");switch(n=n.trim(),n){case l.t("settings.github.title"):this.settingsTab.renderGithubConfiguration();break;case l.t("settings.upload.title"):this.settingsTab.renderUploadConfiguration();break;case l.t("settings.conversion.title"):this.settingsTab.renderTextConversion();break;case l.t("settings.embed.title"):this.settingsTab.renderEmbedConfiguration();break;case l.t("settings.plugin.title"):this.settingsTab.renderPluginSettings();break;case l.t("settings.help.title"):this.settingsTab.renderHelp();break}}},sr=class extends oe.Modal{constructor(e,n){super(e);this.plugin=n}censorGithubSettingsData(e){let n=Object(e),{github:i}=n;return i&&(delete i.repo,delete i.user,delete i.otherRepo,delete i.rateLimit),delete n.plugin,n}onOpen(){let{contentEl:e,modalEl:n}=this;n.addClass("modal-github-publisher"),new oe.Setting(e).setName(l.t("modals.export.title")).setDesc(l.t("modals.export.desc")).then(i=>{let s=this.censorGithubSettingsData(nr(this.plugin.settings)),r=JSON.stringify(s,null,2);i.controlEl.createEl("a",{cls:"github-publisher-copy",text:l.t("modals.export.copy"),href:"#"},a=>{new oe.TextAreaComponent(e).setValue(r).then(u=>{a.addEventListener("click",c=>{c.preventDefault(),u.inputEl.select(),u.inputEl.setSelectionRange(0,99999),document.execCommand("copy"),a.addClass("success"),setTimeout(()=>{a.parentNode&&a.removeClass("success")},2e3)})}).inputEl.addClass("github-publisher-export-textarea")}),oe.Platform.isDesktop?i.controlEl.createEl("a",{cls:"github-publisher-download",text:l.t("modals.export.download"),attr:{download:"github-publisher.json",href:`data:application/json;charset=utf-8,${encodeURIComponent(r)}`}}):oe.Platform.isMobile&&i.addButton(a=>a.setButtonText(l.t("modals.export.download")).onClick(()=>{this.app.vault.adapter.write(`${this.app.vault.configDir}/plugins/obsidian-mkdocs-publisher/._tempSettings.json`,r),this.app.openWithDefaultApp(`${this.app.vault.configDir}/plugins/obsidian-mkdocs-publisher/._tempSettings.json`)}))})}onClose(){try{this.app.vault.adapter.trashSystem(`${this.app.vault.configDir}/plugins/obsidian-mkdocs-publisher/._tempSettings.json`)}catch(n){A({settings:this.plugin.settings},"Error while deleting temporary file",n)}let{contentEl:e}=this;e.empty()}},rr=class extends oe.FuzzySuggestModal{constructor(e,n,i,s,r){super(e);this.plugin=n,this.presetList=i,this.octokit=s,this.page=r}getItems(){return this.presetList}getItemText(e){return e.name}onChooseItem(e,n){let i=e.settings;A({settings:i},"onChooseItem");try{let s=nr(this.plugin.settings);i.upload.replaceTitle instanceof Array||(i.upload.replaceTitle=[i.upload.replaceTitle]);for(let[r,a]of Object.entries(i))this.plugin.settings[r]=a;this.plugin.settings.plugin=s.plugin,this.plugin.settings.github.repo=s.github.repo,this.plugin.settings.github.user=s.github.user,this.plugin.settings.github.otherRepo=s.github.otherRepo,this.plugin.settings.github.rateLimit=s.github.rateLimit,this.plugin.saveSettings(),this.page.renderSettingsPage("github-configuration")}catch(s){new oe.Notice(l.t("modals.import.error.span")+s),_({settings:this.plugin.settings},"onChooseItem",s)}}};function Bl(t,e){return m(this,null,function*(){let n=yield t.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:"ObsidianPublisher",repo:"plugin-presets",path:"presets"}),i=[];if(!Array.isArray(n.data))return i;A({settings:e.settings},"LoadAllPreset",n);for(let s of n.data)if(s.name.endsWith(".json")){let r=s.name.replace(".json","");i.push({name:r,settings:yield Jf(s.path,t,e)})}return i})}function Jf(t,e,n){return m(this,null,function*(){var r;let i=yield e.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:"ObsidianPublisher",repo:"plugin-presets",path:t});if(!((r=i.data)==null?void 0:r.content))return n.settings;let s=atob(i.data.content);return JSON.parse(s)})}var z=K(require("obsidian"));var ar=class extends z.Modal{constructor(e,n,i,s,r,a){super(e);this.settings=n,this.repository=r,this.plugin=s,this.onSubmit=a,this.branchName=i}onOpen(){let{contentEl:e}=this;e.empty(),e.addClasses(["github-publisher","modals","manage-repo","add"]),e.createEl("h2",{text:l.t("settings.github.smartRepo.modals.title")}),e.createEl("p",{text:l.t("settings.github.smartRepo.modals.desc")}),e.createEl("p",{text:l.t("settings.github.smartRepo.modals.frontmatterInfo")}),e.createEl("p",{text:l.t("settings.plugin.shareKey.otherRepo")});let n={smartKey:"",user:this.settings.github.user,repo:this.settings.github.repo,branch:this.settings.github.branch,automaticallyMergePR:this.settings.github.automaticallyMergePR,api:{tiersForApi:this.settings.github.api.tiersForApi,hostname:this.settings.github.api.hostname},workflow:{commitMessage:this.settings.github.workflow.commitMessage,name:""},createShortcuts:!1,shareKey:this.settings.plugin.shareKey,copyLink:{links:this.settings.plugin.copyLink.links,removePart:[]}};new z.Setting(e).setClass("max-width").setClass("display-none").addButton(i=>{i.setButtonText(l.t("common.add",{things:l.t("settings.github.smartRepo.modals.newRepo").toLowerCase()})).onClick(()=>{this.repository.push(n),this.onOpen()})});for(let i of this.repository)new z.Setting(e).setClass("max-width").setClass("display-none").addText(s=>{s.setPlaceholder("smartKey").setValue(i.smartKey).onChange(r=>{i.smartKey=r.toLowerCase(),this.plugin.settings.github.otherRepo.filter(a=>a.smartKey===i.smartKey).length>1?(new z.Notice(l.t("settings.github.smartRepo.modals.duplicate")),s.inputEl.addClass("error"),i.smartKey=""):i.smartKey==="default"?(s.inputEl.addClass("error"),i.smartKey="",new z.Notice(l.t("settings.github.smartRepo.modals.default"))):s.inputEl.removeClass("error")})}).addExtraButton(s=>{s.setIcon("trash").onClick(()=>{this.repository.splice(this.repository.indexOf(i),1),this.onOpen()})}).addExtraButton(s=>{s.setIcon("pencil").onClick(()=>{new Il(this.app,i,this.plugin,this.branchName,r=>{this.repository[this.repository.indexOf(i)]=r}).open()})});new z.Setting(e).addButton(i=>{i.setButtonText(l.t("common.save")).onClick(()=>{this.onSubmit(this.repository),this.close()})})}onClose(){let{contentEl:e}=this;e.empty(),this.onSubmit(this.repository)}},Il=class extends z.Modal{constructor(e,n,i,s,r){super(e);this.repository=n,this.onSubmit=r,this.branchName=s,this.plugin=i}onOpen(){let{contentEl:e}=this;e.empty(),e.addClasses(["github-publisher","modals","manage-repo"]),e.createEl("h2",{text:l.t("common.edit",{things:this.repository.smartKey})}),new z.Setting(e).setName(l.t("settings.github.apiType.title")).setDesc(l.t("settings.github.apiType.desc")).addDropdown(n=>{n.addOption(xe.free,l.t("settings.github.apiType.dropdown.free")).addOption(xe.entreprise,l.t("settings.github.apiType.dropdown.enterprise")).setValue(this.repository.api.tiersForApi).onChange(i=>{this.repository.api.tiersForApi=i,this.onOpen()})}),this.repository.api.tiersForApi===xe.entreprise&&new z.Setting(e).setName(l.t("settings.github.apiType.hostname.title")).setDesc(l.t("settings.github.apiType.hostname.desc")).addText(n=>n.setPlaceholder("https://github.mycompany.com").setValue(this.repository.api.hostname).onChange(i=>m(this,null,function*(){this.repository.api.hostname=i.trim()}))),new z.Setting(e).setName(l.t("settings.github.username.title")).setDesc(l.t("settings.github.username.desc")).addText(n=>n.setPlaceholder(l.t("settings.github.username.title")).setValue(this.repository.user).onChange(i=>m(this,null,function*(){this.repository.user=i.trim()}))),new z.Setting(e).setName(l.t("settings.github.repoName.title")).setDesc(l.t("settings.github.repoName.desc")).addText(n=>n.setPlaceholder(l.t("settings.github.repoName.placeholder")).setValue(this.repository.repo).onChange(i=>m(this,null,function*(){this.repository.repo=i.trim()}))),new z.Setting(e).setName(l.t("settings.github.branch.title")).setDesc(l.t("settings.github.branch.desc")).addText(n=>n.setPlaceholder("main").setValue(this.repository.branch).onChange(i=>m(this,null,function*(){this.repository.branch=i.trim()}))),new z.Setting(e).setName(l.t("settings.github.automaticallyMergePR")).addToggle(n=>n.setValue(this.repository.automaticallyMergePR).onChange(i=>m(this,null,function*(){this.repository.automaticallyMergePR=i}))),new z.Setting(e).setClass("github-publisher-no-display").addButton(n=>n.setButtonText(l.t("settings.github.testConnection")).setClass("connect").onClick(()=>m(this,null,function*(){let i=yield this.plugin.reloadOctokit();this.repository.verifiedRepo=yield Ue(i,this.repository,null),this.plugin.settings.github.rateLimit=yield _e(i.octokit,this.plugin.settings)}))),new z.Setting(e).setName(l.t("settings.github.smartRepo.modals.shortcuts.title")).setDesc(l.t("settings.github.smartRepo.modals.shortcuts.desc")).addToggle(n=>n.setValue(this.repository.createShortcuts).onChange(i=>m(this,null,function*(){this.repository.createShortcuts=i}))),e.createEl("h3",{text:"GitHub Workflow"}),new z.Setting(e).setName(l.t("settings.githubWorkflow.prRequest.title")).setDesc(l.t("settings.githubWorkflow.prRequest.desc")).addText(n=>n.setPlaceholder("[PUBLISHER] MERGE").setValue(this.repository.workflow.commitMessage).onChange(i=>m(this,null,function*(){i.trim().length===0&&(i="[PUBLISHER] MERGE",new z.Notice(l.t("settings.githubWorkflow.prRequest.error"))),this.repository.workflow.commitMessage=i}))),new z.Setting(e).setName(l.t("settings.githubWorkflow.githubAction.title")).setDesc(l.t("settings.githubWorkflow.githubAction.desc")).addText(n=>{n.setPlaceholder("ci").setValue(this.repository.workflow.name).onChange(i=>m(this,null,function*(){if(i.length>0){i=i.trim();let s=[".yml",".yaml"];s.some(r=>i.endsWith(r))||(i+=s[0])}this.repository.workflow.name=i}))}),e.createEl("h3",{text:l.t("settings.github.smartRepo.modals.otherConfig")}),new z.Setting(e).setName(l.t("settings.plugin.shareKey.all.title")).setDesc(l.t("settings.plugin.shareKey.all.desc")).addToggle(n=>{var i,s;return n.setValue((s=(i=this.repository.shareAll)==null?void 0:i.enable)!=null?s:!1).onChange(r=>m(this,null,function*(){var a,o;this.repository.shareAll={enable:r,excludedFileName:(o=(a=this.plugin.settings.plugin.shareAll)==null?void 0:a.excludedFileName)!=null?o:"DRAFT"},this.onOpen()}))}),!this.repository.shareAll||!this.repository.shareAll.enable?new z.Setting(e).setName(l.t("settings.plugin.shareKey.title")).setDesc(l.t("settings.plugin.shareKey.desc")).addText(n=>n.setPlaceholder("share").setValue(this.repository.shareKey).onChange(i=>m(this,null,function*(){this.repository.shareKey=i.trim(),yield this.plugin.saveSettings()}))):new z.Setting(e).setName(l.t("settings.plugin.shareKey.excludedFileName.title")).addText(n=>{var i,s,r,a;return n.setPlaceholder("DRAFT").setValue((a=(r=(i=this.repository.shareAll)==null?void 0:i.excludedFileName)!=null?r:(s=this.plugin.settings.plugin.shareAll)==null?void 0:s.excludedFileName)!=null?a:"DRAFT").onChange(o=>m(this,null,function*(){this.repository.shareAll.excludedFileName=o.trim()}))}),this.plugin.settings.plugin.copyLink.enable&&(new z.Setting(e).setName(l.t("settings.plugin.copyLink.baselink.title")).setDesc(l.t("settings.plugin.copyLink.baselink.desc")).addText(n=>n.setPlaceholder(this.plugin.settings.plugin.copyLink.links).setValue(this.repository.copyLink.links).onChange(i=>m(this,null,function*(){this.repository.copyLink.links=i.trim()}))),new z.Setting(e).setName(l.t("settings.plugin.copyLink.linkPathRemover.title")).setDesc(l.t("settings.plugin.copyLink.linkPathRemover.desc")).addText(n=>{n.setPlaceholder("docs").setValue(this.repository.copyLink.removePart.join(", ")).onChange(i=>m(this,null,function*(){this.repository.copyLink.removePart=i.split(/[,\n]\s*/).map(s=>s.trim()).filter(s=>s.length>0),yield this.plugin.saveSettings()}))})),new z.Setting(e).addButton(n=>n.setButtonText(l.t("common.save")).onClick(()=>m(this,null,function*(){this.onSubmit(this.repository),this.close()})))}onClose(){let{contentEl:e}=this;e.empty(),this.onSubmit(this.repository)}};var Te=K(require("obsidian"));var or=class extends Te.Modal{constructor(e,n,i,s){super(e);this.allRegex=i,this.settings=n,this.onSubmit=s}classValue(e){this.settings.upload.replacePath=e.filter(n=>n.type===we.path),this.settings.upload.replaceTitle=e.filter(n=>n.type===we.title)}forbiddenValue(e,n){let i=/\/(.*)(\\[dwstrnvfb0cxup])(.*)\//i,s=n===we.path?l.t("common.path.folder"):l.t("common.path.file");s=s.toLowerCase();let r=!1;return e=="/"?(new Te.Notice(l.t("settings.regexReplacing.forbiddenValue",{what:s,forbiddenChar:e})),e="",r=!0):e.match(/[><:"|?*]|(\\\/)|(^\w+\/\w+)|(\\)/)&&n===we.title&&!e.match(i)?(new Te.Notice(l.t("settings.regexReplacing.forbiddenValue",{what:s,forbiddenChar:e.match(/[><:"|?*]|(\\\/)|(^\w+\/\w+)|(\\)/)[0]})),e="",r=!0):n===we.path&&(e.match(/[\\><:"|?*]/)&&!e.match(/^\/(.*)\/[gmisuvdy]*$/)?(new Te.Notice(l.t("settings.regexReplacing.forbiddenValue",{what:s,forbiddenChar:e.match(/[\\><:"|?*]/)[0]})),e="",r=!0):e.match(/(^\w+\/\w+)|(\\\/)/)&&!e.match(i)&&new Te.Notice(l.t("settings.regexReplacing.warningPath"))),[e,r]}onOpen(){let{contentEl:e}=this;e.empty(),e.addClasses(["github-publisher","modals","regex","file-path-name"]),this.settings.upload.behavior===W.fixed?e.createEl("h2",{text:l.t("settings.regexReplacing.modal.title.only")}):e.createEl("h2",{text:l.t("settings.regexReplacing.modal.title.all")}),this.settings.upload.replacePath?this.settings.upload.replaceTitle||(this.settings.upload.replaceTitle=[]):this.settings.upload.replacePath=[],this.settings.upload.replacePath.forEach(n=>{n.type||(n.type=we.path)}),this.settings.upload.replaceTitle.forEach(n=>{n.type||(n.type=we.title)});for(let n of this.allRegex){let i=new Te.Setting(e).setClass("entry").addText(s=>{s.setPlaceholder(l.t("regex.entry")).setValue(n.regex).onChange(r=>{n.regex=r})}).addText(s=>{s.setPlaceholder(l.t("regex.replace")).setValue(n.replacement).onChange(r=>{n.replacement=r})});this.settings.upload.behavior!==W.fixed?i.addDropdown(s=>{s.addOption("path",l.t("common.path.folder")).addOption("title",l.t("common.path.file")).setValue(n.type).onChange(r=>{n.type=r})}):i.addButton(s=>{s.buttonEl.classList.add("disabled"),s.setButtonText(l.t("common.path.file"))}),i.addExtraButton(s=>{s.setIcon("trash").onClick(()=>{this.allRegex.splice(this.allRegex.indexOf(n),1),this.onOpen()})})}new Te.Setting(e).addButton(n=>{n.setIcon("plus").onClick(()=>{this.allRegex.push({regex:"",replacement:"",type:we.title}),this.onOpen()})}).addButton(n=>{n.setButtonText(l.t("common.save")).onClick(()=>{let i=[];this.allRegex.forEach(s=>{let r=this.forbiddenValue(s.regex,s.type),a=this.forbiddenValue(s.replacement,s.type);i.push(r[1]),i.push(a[1]),(r[1]||a[1])&&(s.regex=r[0],s.replacement=a[0])}),i.includes(!0)||(this.onSubmit(this.allRegex),this.close())})})}onClose(){let{contentEl:e}=this;e.empty()}},ur=class extends Te.Modal{constructor(e,n,i){super(e);this.settings=n,this.onSubmit=i}onOpen(){let{contentEl:e}=this;e.empty(),e.addClasses(["github-publisher","modals","regex","on-contents"]),e.createEl("p",{text:l.t("settings.regexReplacing.modal.title.text")}).createEl("p",{text:l.t("settings.regexReplacing.modal.desc")}).createEl("p",{text:l.t("settings.regexReplacing.empty")});for(let n of this.settings.conversion.censorText){let i=n.after?"arrow-down":"arrow-up",s=n.after?l.t("common.after").toLowerCase():l.t("common.before").toLowerCase(),r=l.t("settings.regexReplacing.momentReplaceRegex",{moment:s});new Te.Setting(e).setClass("entry").addText(a=>{a.setPlaceholder(l.t("regex.entry")).setValue(n.entry).onChange(o=>m(this,null,function*(){n.entry=o}))}).addText(a=>{a.setPlaceholder(l.t("regex.replace")).setValue(n.replace).onChange(o=>m(this,null,function*(){n.replace=o}))}).addExtraButton(a=>{a.setIcon("trash").setTooltip(l.t("common.delete",{things:"Regex"})).onClick(()=>m(this,null,function*(){this.settings.conversion.censorText.splice(this.settings.conversion.censorText.indexOf(n),1),this.onOpen()}))}).addExtraButton(a=>{a.setTooltip(r).setIcon(i).onClick(()=>m(this,null,function*(){n.after=!n.after,this.onOpen()}))})}new Te.Setting(e).addButton(n=>{n.setIcon("plus").setTooltip(l.t("common.add",{things:"Regex"})).onClick(()=>m(this,null,function*(){let i={entry:"",replace:"",flags:"",after:!1};this.settings.conversion.censorText.push(i),this.onOpen()}))}).addButton(n=>{n.setButtonText(l.t("common.save")).onClick(()=>{this.onSubmit(this.settings),this.close()})})}onClose(){let{contentEl:e}=this;e.empty()}};var Tt=K(require("obsidian"));var lr=class extends Tt.Modal{constructor(e,n,i){super(e);this.plugin=n,this.token=i,this.tokenPath=""}onOpen(){let{contentEl:e}=this;e.empty(),e.addClasses(["github-publisher","modals","token-path"]);let n=Ut(this.plugin,at),i=e.createEl("p",void 0,r=>{r.appendText(l.t("settings.github.ghToken.button.description")),r.createDiv({text:l.t("settings.github.ghToken.button.default")}).createEl("code",{text:` ${n}`},o=>{o.classList.add("cm-inline-code"),o.style.fontFamily="var(--font-monospace)"})});i.createEl("br"),i.createEl("p",{text:l.t("settings.github.ghToken.button.variables")}),i.createEl("ul",void 0,r=>{r.createEl("li",void 0,a=>{a.createEl("code",{text:"%configDir%"},o=>{o.classList.add("cm-inline-code"),o.style.fontFamily="var(--font-monospace)"}),a.createEl("span",void 0,o=>{o.appendText(`${l.t("settings.github.ghToken.button.configDir")} (`),o.createEl("code",{text:this.app.vault.configDir},u=>{u.classList.add("cm-inline-code"),u.style.fontFamily="var(--font-monospace)"}),o.appendText(")")})}),r.createEl("li",void 0,a=>{a.createEl("code",{text:"%pluginID%"},o=>{o.classList.add("cm-inline-code"),o.style.fontFamily="var(--font-monospace)"}),a.createEl("span",void 0,o=>{o.appendText(`${l.t("settings.github.ghToken.button.pluginID")} (`),o.createEl("code",{text:this.plugin.manifest.id},u=>{u.classList.add("cm-inline-code"),u.style.fontFamily="var(--font-monospace)"}),o.appendText(")")})})});let s=new Tt.Setting(e).setClass("display-none").setClass("max-width").addText(r=>{var o;let a=(o=this.plugin.settings.github.tokenPath)!=null?o:n;r.setPlaceholder(n).setValue(a).onChange(u=>m(this,null,function*(){let c=u.trim();c.length===0&&(c=n),this.plugin.settings.github.tokenPath=c,this.tokenPath=c}))});new Tt.Setting(e).addButton(r=>{r.setButtonText(l.t("common.save")).onClick(()=>m(this,null,function*(){try{yield this.plugin.saveSettings(),yield St(this.plugin,this.token),this.close()}catch(a){s.controlEl.querySelector("input").style.border="1px solid red",new Tt.Notice(l.t("error.reading-token-file")),this.tokenPath="error",A({settings:this.plugin.settings,e:!0},a)}}))})}onClose(){return m(this,null,function*(){let{contentEl:e}=this;e.empty(),this.tokenPath==="error"&&(this.plugin.settings.github.tokenPath=at,yield this.plugin.saveSettings(),yield St(this.plugin,this.token))})}};var cr=K(require("obsidian"));function Pt(t){for(let[e,n]of Object.entries(t))e!="components"&&n.show()}function sn(t){for(let[e,n]of Object.entries(t))e!="components"&&n.hide()}function $l(t,e,n,i){let s=t.upload;s.behavior===W.yaml?(Pt(e),Pt(n),Pt(i)):(sn(e),sn(n),s.behavior===W.obsidian?Pt(i):sn(i))}function dr(t,e,n,i="defaultName",s){return m(this,null,function*(){let r=n.settings.upload,a=i==="rootFolder"?l.t("common.rootFolder"):l.t("common.defaultName");t.length===0&&r.defaultName&&(r.autoclean.enable&&new cr.Notice(l.t("error.autoClean",{what:a})),r.autoclean.enable=!1,yield n.saveSettings(),e.setDisabled(!0),e.components[0].toggleEl.classList.remove("is-enabled"),s.renderSettingsPage(ke.upload)),t.length===0&&r.behavior!==W.yaml&&(r.autoclean.enable&&new cr.Notice(l.t("error.autoClean",{what:l.t("common.defaultName")})),r.autoclean.enable=!1,e.setDisabled(!0),e.components[0].toggleEl.classList.remove("is-enabled"),s.renderSettingsPage(ke.upload)),e.setDisabled(!1),r.autoclean.enable&&e.components[0].toggleEl.classList.add("is-enabled")})}function hr(t,e,n,i,s){return m(this,null,function*(){let r=s.settings.upload;i===W.yaml?(Pt(t),Pt(e)):(r.defaultName.length>0&&(n.setDisabled(!1),r.autoclean.enable&&n.components[0].toggleEl.classList.add("is-enabled")),sn(t),sn(e))})}function Vl(t,e,n){let i=n.settings.upload;t?(e.setDisabled(!0),e.components[0].toggleEl.classList.remove("is-enabled"),i.autoclean.enable=!1,n.saveSettings().then()):(e.setDisabled(!1),i.autoclean.enable&&e.components[0].toggleEl.classList.add("is-enabled"))}function Gl(t,e){t?Pt(e):sn(e)}var fr=class extends L.PluginSettingTab{constructor(e,n,i){super(e,n);this.plugin=n,this.branchName=i}display(){let{containerEl:e}=this;e.empty(),e.addClass("github-publisher");let n={"github-configuration":{name:l.t("settings.github.title"),icon:"cloud"},"upload-configuration":{name:l.t("settings.upload.title"),icon:"upload"},"text-conversion":{name:l.t("settings.conversion.title"),icon:"file-text"},"embed-configuration":{name:l.t("settings.embed.title"),icon:"link"},"plugin-settings":{name:l.t("settings.plugin.title"),icon:"gear"},help:{name:l.t("settings.help.title"),icon:"info"}};new L.Setting(e).setClass("import-export").addButton(s=>{s.setButtonText(l.t("modals.export.title")).onClick(()=>{new sr(this.app,this.plugin).open()})}).addButton(s=>{s.setButtonText(l.t("modals.import.title")).onClick(()=>{new ir(this.app,this.plugin,this.settingsPage,this).open()})}).addButton(s=>{s.setButtonText(l.t("modals.import.presets.title")).setTooltip(l.t("modals.import.presets.desc")).onClick(()=>m(this,null,function*(){let r=yield this.plugin.reloadOctokit(),a=yield Bl(r.octokit,this.plugin);new rr(this.app,this.plugin,a,r.octokit,this).open()}))});let i=e.createEl("nav",{cls:"settings-tab-bar"});for(let[s,r]of Object.entries(n)){let a=i.createEl("div",{cls:"settings-tab"}),o=a.createEl("div",{cls:"settings-tab-icon"});(0,L.setIcon)(o,r.icon),a.createEl("div",{cls:"settings-tab-name",text:r.name}),s==="github-configuration"&&a.addClass("settings-tab-active"),a.addEventListener("click",()=>m(this,null,function*(){for(let u of i.children)u.removeClass("settings-tab-active");a.addClass("settings-tab-active"),this.renderSettingsPage(s)}))}this.settingsPage=e.createEl("div",{cls:"settings-tab-page"}),this.renderSettingsPage("github-configuration")}renderSettingsPage(e){switch(this.settingsPage.empty(),e){case"github-configuration":this.renderGithubConfiguration();break;case"upload-configuration":this.renderUploadConfiguration();break;case"text-conversion":this.renderTextConversion();break;case"embed-configuration":this.renderEmbedConfiguration();break;case"plugin-settings":this.renderPluginSettings();break;case"help":this.renderHelp();break}}renderGithubConfiguration(){let e=this.plugin.settings.github;new L.Setting(this.settingsPage).setName(l.t("settings.github.apiType.title")).setDesc(l.t("settings.github.apiType.desc")).addDropdown(s=>{s.addOption(xe.free,l.t("settings.github.apiType.dropdown.free")).addOption(xe.entreprise,l.t("settings.github.apiType.dropdown.enterprise")).setValue(e.api.tiersForApi).onChange(r=>m(this,null,function*(){e.api.tiersForApi=r,yield this.plugin.saveSettings(),this.renderSettingsPage(ke.github)}))}),e.api.tiersForApi===xe.entreprise&&new L.Setting(this.settingsPage).setName(l.t("settings.github.apiType.hostname.title")).setDesc(l.t("settings.github.apiType.hostname.desc")).addText(s=>s.setPlaceholder("https://github.mycompany.com").setValue(e.api.hostname).onChange(r=>m(this,null,function*(){e.api.hostname=r.trim(),yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setName(l.t("settings.github.username.title")).setDesc(l.t("settings.github.username.desc")).addText(s=>s.setPlaceholder(l.t("settings.github.username.title")).setValue(e.user).onChange(r=>m(this,null,function*(){e.user=r.trim(),yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setName(l.t("settings.github.repoName.title")).setDesc(l.t("settings.github.repoName.desc")).addText(s=>s.setPlaceholder(l.t("settings.github.repoName.placeholder")).setValue(e.repo).onChange(r=>m(this,null,function*(){e.repo=r.trim(),yield this.plugin.saveSettings()})));let n=document.createDocumentFragment();n.createEl("span",void 0,s=>{s.innerText=l.t("settings.github.ghToken.desc"),s.createEl("a",void 0,r=>{r.innerText=`${l.t("common.here")}.`,r.href="https://github.com/settings/tokens/new?scopes=repo,workflow"})});let i=new L.Setting(this.settingsPage).setName(l.t("common.ghToken")).setDesc(n).addText(s=>m(this,null,function*(){let r=yield this.plugin.loadToken();s.setPlaceholder("ghp_15457498545647987987112184").setValue(r).onChange(a=>m(this,null,function*(){a.trim().length===0?(i.controlEl.addClass("error"),new L.Notice(l.t("settings.github.ghToken.error"))):(i.controlEl.removeClass("error"),yield St(this.plugin,a.trim())),yield this.plugin.saveSettings()}))})).addExtraButton(s=>{s.setIcon("edit").setTooltip(l.t("settings.github.ghToken.button.tooltip")).onClick(()=>m(this,null,function*(){let r=yield this.plugin.loadToken();new lr(this.app,this.plugin,r).open(),yield this.plugin.saveSettings()}))});new L.Setting(this.settingsPage).setName(l.t("settings.github.branch.title")).setDesc(l.t("settings.github.branch.desc")).addText(s=>s.setPlaceholder("main").setValue(e.branch).onChange(r=>m(this,null,function*(){e.branch=r.trim(),yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setName(l.t("settings.github.automaticallyMergePR")).addToggle(s=>s.setValue(e.automaticallyMergePR).onChange(r=>m(this,null,function*(){e.automaticallyMergePR=r,yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setClass("no-display").addButton(s=>s.setButtonText(l.t("settings.github.testConnection")).setClass("connect-button").onClick(()=>m(this,null,function*(){let r=yield this.plugin.reloadOctokit();this.plugin.settings.github.verifiedRepo=yield Ue(r,null,null),this.plugin.settings.github.rateLimit=yield _e(r.octokit,this.plugin.settings),yield this.plugin.saveSettings()}))).addButton(s=>s.setButtonText(l.t("settings.github.smartRepo.button")).onClick(()=>m(this,null,function*(){var a,o;let r=(o=(a=this.plugin.settings.github)==null?void 0:a.otherRepo)!=null?o:[];new ar(this.app,this.plugin.settings,this.branchName,this.plugin,r,u=>{this.plugin.settings.github.otherRepo=u,this.plugin.saveSettings(),this.plugin.reloadCommands(this.branchName)}).open()}))),this.settingsPage.createEl("h3",{text:"Github Workflow"}),new L.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.prRequest.title")).setDesc(l.t("settings.githubWorkflow.prRequest.desc")).addText(s=>s.setPlaceholder("[PUBLISHER] MERGE").setValue(e.workflow.commitMessage).onChange(r=>m(this,null,function*(){r.trim().length===0&&(r="[PUBLISHER] MERGE",new L.Notice(l.t("settings.githubWorkflow.prRequest.error"))),e.workflow.commitMessage=r,yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.githubAction.title")).setDesc(l.t("settings.githubWorkflow.githubAction.desc")).addText(s=>{s.setPlaceholder("ci").setValue(e.workflow.name).onChange(r=>m(this,null,function*(){if(r.length>0){r=r.trim();let a=[".yml",".yaml"];a.some(o=>r.endsWith(o))||(r+=a[0])}e.workflow.name=r,yield this.plugin.saveSettings()}))})}renderUploadConfiguration(){let e=this.plugin.settings.upload;new L.Setting(this.settingsPage).setName(l.t("settings.upload.folderBehavior.title")).setDesc(l.t("settings.upload.folderBehavior.desc")).addDropdown(c=>{c.addOptions({fixed:l.t("settings.upload.folderBehavior.fixedFolder"),yaml:l.t("settings.upload.folderBehavior.yaml"),obsidian:l.t("settings.upload.folderBehavior.obsidianPath")}).setValue(e.behavior).onChange(d=>m(this,null,function*(){e.behavior=d,yield hr(n,i,u,d,this.plugin),yield this.plugin.saveSettings(),this.renderSettingsPage(ke.upload)}))}),new L.Setting(this.settingsPage).setName(l.t("settings.upload.defaultFolder.title")).setDesc(l.t("settings.upload.defaultFolder.desc")).addText(c=>{c.setPlaceholder(l.t("settings.upload.defaultFolder.placeholder")).setValue(e.defaultName).onChange(d=>m(this,null,function*(){e.defaultName=d.replace(/\/$/,""),yield dr(d,u,this.plugin,"defaultName",this),yield this.plugin.saveSettings()}))});let n=new L.Setting(this.settingsPage).setName(l.t("settings.upload.frontmatterKey.title")).setDesc(l.t("settings.upload.frontmatterKey.desc")).addText(c=>{c.setPlaceholder(l.t("settings.upload.frontmatterKey.placeholder")).setValue(e.yamlFolderKey).onChange(d=>m(this,null,function*(){e.yamlFolderKey=d.trim(),yield this.plugin.saveSettings()}))}),i=new L.Setting(this.settingsPage).setName(l.t("settings.upload.rootFolder.title")).setDesc(l.t("settings.upload.rootFolder.desc")).addText(c=>{c.setPlaceholder("docs").setValue(e.rootFolder).onChange(d=>m(this,null,function*(){e.rootFolder=d.replace(/\/$/,""),yield dr(d,u,this.plugin,"rootFolder",this),yield this.plugin.saveSettings()}))}),s=new L.Setting(this.settingsPage).setName(l.t("settings.upload.useFrontmatterTitle.title")).setDesc(l.t("settings.upload.useFrontmatterTitle.desc")).setClass("title").addToggle(c=>{c.setValue(e.frontmatterTitle.enable).onChange(d=>m(this,null,function*(){e.frontmatterTitle.enable=d,yield this.plugin.saveSettings(),this.renderSettingsPage(ke.upload)}))});e.frontmatterTitle.enable&&s.addText(c=>{c.setPlaceholder("title").setValue(e.frontmatterTitle.key).onChange(d=>m(this,null,function*(){e.frontmatterTitle.key=d.trim(),yield this.plugin.saveSettings()}))});let r=e.behavior===W.fixed?l.t("settings.upload.regexFilePathTitle.title.titleOnly"):l.t("settings.upload.regexFilePathTitle.title.FolderPathTitle");new L.Setting(this.settingsPage).setName(r).setDesc(l.t("settings.upload.regexFilePathTitle.desc")).addButton(c=>{c.setIcon("pencil").onClick(()=>m(this,null,function*(){let d=e.replaceTitle;e.behavior!==W.fixed&&(d=d.concat(e.replacePath)),new or(this.app,this.plugin.settings,d,g=>{e.replacePath=g.filter(f=>f.type==="path"),e.replaceTitle=g.filter(f=>f.type==="title"),this.plugin.saveSettings()}).open()}))});let a=new L.Setting(this.settingsPage).setName(l.t("settings.conversion.links.folderNote.title")).setDesc(l.t("settings.conversion.links.folderNote.desc")).addToggle(c=>{c.setValue(e.folderNote.enable).onChange(d=>m(this,null,function*(){e.folderNote.enable=d,yield this.plugin.saveSettings(),this.renderSettingsPage(ke.upload)}))});e.folderNote.enable&&a.addText(c=>{c.setPlaceholder("folderNote").setValue(e.folderNote.rename).onChange(d=>m(this,null,function*(){e.folderNote.rename=d,yield this.plugin.saveSettings()}))}),$l(this.plugin.settings,n,i,a),this.app.plugins.manifests["metadata-extractor"]&&new L.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.useMetadataExtractor.title")).setDesc(l.t("settings.githubWorkflow.useMetadataExtractor.desc")).addText(c=>{c.setPlaceholder("docs/_assets/metadata").setValue(e.metadataExtractorPath).onChange(d=>m(this,null,function*(){e.metadataExtractorPath=d.trim(),yield this.plugin.saveSettings()}))});let o=e.behavior===W.yaml&&e.rootFolder.length===0||e.defaultName.length===0,u=new L.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.autoCleanUp.title")).setDesc(l.t("settings.githubWorkflow.autoCleanUp.desc")).setDisabled(o).addToggle(c=>{c.setValue(e.autoclean.enable).onChange(d=>m(this,null,function*(){e.autoclean.enable=d,yield this.plugin.saveSettings(),this.renderSettingsPage(ke.upload),this.plugin.cleanOldCommands(),yield this.plugin.chargeAllCommands(null,this.plugin,this.branchName)}))});e.autoclean.enable&&!o&&new L.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.excludedFiles.title")).setDesc(l.t("settings.githubWorkflow.excludedFiles.desc")).addTextArea(c=>{c.setPlaceholder("docs/assets/js, docs/assets/logo, /\\.js$/").setValue(e.autoclean.excluded.join(", ")).onChange(d=>m(this,null,function*(){e.autoclean.excluded=d.split(/[,\n]\W*/).map(g=>g.trim()).filter(g=>g.length>0),yield this.plugin.saveSettings()}))}),Vl(o,u,this.plugin),hr(n,i,u,e.behavior,this.plugin)}renderTextConversion(){var i,s;let e=this.plugin.settings.conversion;this.settingsPage.createEl("p",{text:l.t("settings.conversion.desc")}),this.settingsPage.createEl("h5",{text:l.t("settings.conversion.links.title")}),this.settingsPage.createEl("p",{text:l.t("settings.conversion.links.desc")});let n=((i=this.plugin.settings.plugin.shareAll)==null?void 0:i.enable)?` ${l.t("settings.conversion.links.internals.shareAll")}`:"";new L.Setting(this.settingsPage).setName(l.t("settings.conversion.links.internals.title")).setDesc(l.t("settings.conversion.links.internals.desc")+n).addToggle(r=>{r.setValue(e.links.internal).onChange(a=>m(this,null,function*(){var o;e.links.internal=a,((o=this.plugin.settings.plugin.shareAll)==null?void 0:o.enable)&&(e.links.unshared=!0),yield this.plugin.saveSettings(),this.renderSettingsPage("text-conversion")}))}),e.links.internal&&!((s=this.plugin.settings.plugin.shareAll)==null?void 0:s.enable)&&new L.Setting(this.settingsPage).setName(l.t("settings.conversion.links.nonShared.title")).setDesc(l.t("settings.conversion.links.nonShared.desc")).addToggle(r=>{r.setValue(e.links.unshared).onChange(a=>m(this,null,function*(){e.links.unshared=a,yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.conversion.links.wikilinks.title")).setDesc(l.t("settings.conversion.links.wikilinks.desc")).addToggle(r=>{r.setValue(e.links.wiki).onChange(a=>m(this,null,function*(){e.links.wiki=a,yield this.plugin.saveSettings(),this.renderSettingsPage("text-conversion")}))}),(e.links.wiki||e.links.internal)&&new L.Setting(this.settingsPage).setName(l.t("settings.conversion.links.slugify.title")).setDesc(l.t("settings.conversion.links.slugify.desc")).addToggle(r=>{r.setValue(e.links.slugify).onChange(a=>m(this,null,function*(){e.links.slugify=a,yield this.plugin.saveSettings()}))}),this.settingsPage.createEl("h5",{text:l.t("settings.conversion.sectionTitle")}),new L.Setting(this.settingsPage).setName(l.t("settings.conversion.hardBreak.title")).setDesc(l.t("settings.conversion.hardBreak.desc")).addToggle(r=>{r.setValue(e.hardbreak).onChange(a=>m(this,null,function*(){e.hardbreak=a,yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.conversion.dataview.title")).setDesc(l.t("settings.conversion.dataview.desc")).addToggle(r=>{r.setValue(e.dataview).onChange(a=>m(this,null,function*(){e.dataview=a,yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.regexReplacing.modal.title.text")).setDesc(l.t("settings.regexReplacing.modal.desc")).addButton(r=>{r.setIcon("pencil").onClick(()=>m(this,null,function*(){new ur(this.app,this.plugin.settings,a=>{this.plugin.settings.conversion.censorText=a.conversion.censorText,this.plugin.saveSettings()}).open()}))}),this.settingsPage.createEl("h5",{text:"Tags"}),new L.Setting(this.settingsPage).setName(l.t("settings.conversion.tags.inlineTags.title")).setDesc(l.t("settings.conversion.tags.inlineTags.desc")).addToggle(r=>{r.setValue(e.tags.inline).onChange(a=>m(this,null,function*(){e.tags.inline=a,yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.conversion.tags.title")).setDesc(l.t("settings.conversion.tags.desc")).addTextArea(r=>{r.inputEl.addClass("mid-height"),r.setPlaceholder("field_name").setValue(e.tags.fields.join(",")).onChange(a=>m(this,null,function*(){e.tags.fields=a.split(/[,\n]\W*/).map(o=>o.trim()).filter(o=>o.length>0),yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.conversion.tags.exclude.title")).setDesc(l.t("settings.conversion.tags.exclude.desc")).addTextArea(r=>{r.setPlaceholder("field value").setValue(e.tags.exclude.join(",")).onChange(a=>m(this,null,function*(){e.tags.exclude=a.split(/[,\n]\W*/).map(o=>o.trim()).filter(o=>o.length>0),yield this.plugin.saveSettings()}))})}renderEmbedConfiguration(){return m(this,null,function*(){this.settingsPage.empty();let e=this.plugin.settings.embed;new L.Setting(this.settingsPage).setName(l.t("settings.embed.transferImage.title")).setDesc(l.t("settings.embed.transferImage.desc")).addToggle(i=>{i.setValue(e.attachments).onChange(s=>m(this,null,function*(){e.attachments=s,Gl(s,n),yield this.plugin.saveSettings()}))});let n=new L.Setting(this.settingsPage).setName(l.t("settings.embed.defaultImageFolder.title")).setDesc(l.t("settings.embed.defaultImageFolder.desc")).addText(i=>{i.setPlaceholder("docs/images").setValue(e.folder).onChange(s=>m(this,null,function*(){e.folder=s.replace(/\/$/,""),yield this.plugin.saveSettings()}))});new L.Setting(this.settingsPage).setName(l.t("settings.embed.transferMetaFile.title")).setDesc(l.t("settings.embed.transferMetaFile.desc")).addTextArea(i=>{i.setPlaceholder("banner").setValue(e.keySendFile.join(", ")).onChange(s=>m(this,null,function*(){e.keySendFile=s.split(/[,\n]\W*/).map(r=>r.trim()).filter(r=>r.length>0),yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.embed.transferNotes.title")).setDesc(l.t("settings.embed.transferNotes.desc")).addToggle(i=>{i.setValue(e.notes).onChange(s=>m(this,null,function*(){e.notes=s,yield this.plugin.saveSettings(),yield this.renderEmbedConfiguration()}))}),e.notes&&(new L.Setting(this.settingsPage).setName(l.t("settings.embed.links.title")).setDesc(l.t("settings.embed.links.desc")).addDropdown(i=>{var s;i.addOption("keep",l.t("settings.embed.links.dp.keep")).addOption("remove",l.t("settings.embed.links.dp.remove")).addOption("links",l.t("settings.embed.links.dp.links")).addOption("bake",l.t("settings.embed.links.dp.bake")).setValue((s=e.convertEmbedToLinks)!=null?s:"keep").onChange(r=>m(this,null,function*(){e.convertEmbedToLinks=r,yield this.plugin.saveSettings(),yield this.renderEmbedConfiguration()}))}),e.convertEmbedToLinks==="links"?new L.Setting(this.settingsPage).setName(l.t("settings.embed.char.title")).setDesc(l.t("settings.embed.char.desc")).addText(i=>{var s;i.setPlaceholder("->").setValue((s=e.charConvert)!=null?s:"->").onChange(r=>m(this,null,function*(){e.charConvert=r,yield this.plugin.saveSettings()}))}):e.convertEmbedToLinks==="bake"&&(e.bake||(e.bake={textBefore:"",textAfter:""},yield this.plugin.saveSettings()),yield this.plugin.saveSettings(),this.settingsPage.createEl("h4",{text:l.t("settings.embed.bake.title")}),this.settingsPage.createEl("p",{text:l.t("settings.embed.bake.text")}),this.settingsPage.createEl("p",void 0,i=>{i.createEl("span",{text:l.t("settings.embed.bake.variable.desc"),cls:["bake"]}).createEl("ul",void 0,s=>{s.createEl("li",void 0,r=>{r.createEl("code",{text:"{{title}}"}),r.createEl("span",{text:l.t("settings.embed.bake.variable.title")})}),s.createEl("li",void 0,r=>{r.createEl("code",{text:"{{url}}"}),r.createEl("span",{text:l.t("settings.embed.bake.variable.url")})})})}),this.settingsPage.createEl("p",{text:`\u26A0\uFE0F ${l.t("settings.embed.bake.warning")}`,cls:["warning","embed"]}),new L.Setting(this.settingsPage).setName(l.t("settings.embed.bake.textBefore.title")).addTextArea(i=>{var s,r;i.setValue((r=(s=e.bake)==null?void 0:s.textBefore)!=null?r:"").onChange(a=>m(this,null,function*(){e.bake.textBefore=a,yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.embed.bake.textAfter.title")).addTextArea(i=>{var s,r;i.setValue((r=(s=e.bake)==null?void 0:s.textAfter)!=null?r:"").onChange(a=>m(this,null,function*(){e.bake.textAfter=a,yield this.plugin.saveSettings()}))})))})}renderPluginSettings(){let e=this.plugin.settings.plugin;this.settingsPage.createEl("h3",{text:l.t("settings.plugin.head.share")}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.shareKey.all.title")).setDesc(l.t("settings.plugin.shareKey.all.desc")).addToggle(n=>{var i,s;return n.setValue((s=(i=e.shareAll)==null?void 0:i.enable)!=null?s:!1).onChange(r=>m(this,null,function*(){var a,o;e.shareAll={enable:r,excludedFileName:(o=(a=e.shareAll)==null?void 0:a.excludedFileName)!=null?o:"DRAFT"},r&&(this.plugin.settings.conversion.links.internal=!0),yield this.plugin.saveSettings(),this.renderSettingsPage(ke.plugin)}))}),!e.shareAll||!e.shareAll.enable?new L.Setting(this.settingsPage).setName(l.t("settings.plugin.shareKey.title")).setDesc(l.t("settings.plugin.shareKey.desc")).addText(n=>n.setPlaceholder("share").setValue(e.shareKey).onChange(i=>m(this,null,function*(){e.shareKey=i.trim(),yield this.plugin.saveSettings()}))):new L.Setting(this.settingsPage).setName(l.t("settings.plugin.shareKey.excludedFileName.title")).addText(n=>{var i,s;return n.setPlaceholder("DRAFT").setValue((s=(i=e.shareAll)==null?void 0:i.excludedFileName)!=null?s:"DRAFT").onChange(r=>m(this,null,function*(){e.shareAll.excludedFileName=r.trim(),yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.excludedFolder.title")).setDesc(l.t("settings.plugin.excludedFolder.desc")).addTextArea(n=>n.setPlaceholder("_assets, Archive, /^_(.*)/gi").setValue(e.excludedFolder.join(", ")).onChange(i=>m(this,null,function*(){e.excludedFolder=i.split(/[,\n]\W*/).map(s=>s.trim()).filter(s=>s.length>0),yield this.plugin.saveSettings()}))),this.settingsPage.createEl("h3",{text:l.t("settings.plugin.head.menu")}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.fileMenu.title")).setDesc(l.t("settings.plugin.fileMenu.desc")).addToggle(n=>n.setValue(e.fileMenu).onChange(i=>m(this,null,function*(){e.fileMenu=i,yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.editorMenu.title")).setDesc(l.t("settings.plugin.editorMenu.desc")).addToggle(n=>n.setValue(e.editorMenu).onChange(i=>m(this,null,function*(){e.editorMenu=i,yield this.plugin.saveSettings()}))),this.settingsPage.createEl("h3",{text:l.t("settings.plugin.head.copyLinks")}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.title")).setDesc(l.t("settings.plugin.copyLink.desc")).addToggle(n=>n.setValue(e.copyLink.enable).onChange(i=>m(this,null,function*(){e.copyLink.enable=i,yield this.plugin.saveSettings(),this.renderSettingsPage(ke.plugin)}))),e.copyLink.enable&&(new L.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.baselink.title")).setDesc(l.t("settings.plugin.copyLink.baselink.desc")).addText(n=>{n.setPlaceholder("my_blog.com").setValue(e.copyLink.links).onChange(i=>m(this,null,function*(){e.copyLink.links=i,yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.linkPathRemover.title")).setDesc(l.t("settings.plugin.copyLink.linkPathRemover.desc")).addText(n=>{n.setPlaceholder("docs").setValue(e.copyLink.removePart.join(", ")).onChange(i=>m(this,null,function*(){e.copyLink.removePart=i.split(/[,\n]\s*/).map(s=>s.trim()).filter(s=>s.length>0),yield this.plugin.saveSettings()}))}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.command.desc")).addToggle(n=>n.setValue(e.copyLink.addCmd).onChange(i=>m(this,null,function*(){e.copyLink.addCmd=i,yield this.plugin.saveSettings()})))),this.settingsPage.createEl("h3",{text:l.t("settings.plugin.head.other")}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.embedEditRepo.title")).setDesc(l.t("settings.plugin.embedEditRepo.desc")).addToggle(n=>n.setValue(e.displayModalRepoEditing).onChange(i=>m(this,null,function*(){e.displayModalRepoEditing=i,yield this.plugin.saveSettings()}))),this.settingsPage.createEl("h4",{text:l.t("settings.plugin.head.log")}),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.logNoticeHeader.title")).setDesc(l.t("settings.plugin.logNoticeHeader.desc")).addToggle(n=>n.setValue(e.noticeError).onChange(i=>m(this,null,function*(){e.noticeError=i,yield this.plugin.saveSettings()}))),new L.Setting(this.settingsPage).setName(l.t("settings.plugin.dev.title")).setDesc(l.t("settings.plugin.dev.desc")).addToggle(n=>{var i;return n.setValue((i=e.dev)!=null?i:!1).onChange(s=>m(this,null,function*(){e.dev=s,yield this.plugin.saveSettings()}))})}renderHelp(){this.settingsPage.createEl("h2",{text:l.t("settings.help.usefulLinks.title")}),this.settingsPage.appendChild(Nl()),this.settingsPage.createEl("hr"),this.settingsPage.createEl("h2",{text:l.t("settings.help.frontmatter.title")}),this.settingsPage.createEl("p",{text:l.t("settings.help.frontmatter.desc")}),this.settingsPage.createEl("pre",{cls:"language-yaml"}).createEl("code",{text:Ol(this.plugin.settings),cls:"language-yaml"}),this.settingsPage.appendChild(Al(this.plugin.settings)),this.settingsPage.createEl("h2",{text:l.t("settings.help.multiRepoHelp.title")}),this.settingsPage.appendChild(Ll(this.plugin.settings)),this.settingsPage.appendChild(Ml())}};var pr=class extends rn.Plugin{getTitleFieldForCommand(e,n){return ut(bn(n,e,this.settings),this.settings)}chargeAllCommands(e,n,i){return m(this,null,function*(){n.settings.plugin.copyLink.addCmd&&this.addCommand(yield ro(e,this)),this.addCommand(yield oo(e,this,i)),n.settings.upload.autoclean.enable&&(A({settings:this.settings},"Adding purge command"),this.addCommand(yield ao(this,e,i))),this.addCommand(yield uo(this,e,i)),this.addCommand(yield lo(this,e,i)),this.addCommand(yield co(this,e,i)),this.addCommand(yield ho(e,i,this)),this.addCommand(yield fo(this,e))})}cleanSpecificCommands(e){let n=this.app.commands.listCommands();for(let i of n)if(i.id.startsWith("obsidian-mkdocs-publisher")){let s=i.id.replace("obsidian-mkdocs-publisher:","").split("-"),r=s[s.length-1];r.startsWith("K")&&e.smartKey===r.replace("K","")&&this.app.commands.removeCommand(i.id)}}cleanOldCommands(){var i,s;let e=(s=(i=this.settings.github)==null?void 0:i.otherRepo)!=null?s:[],n=this.app.commands.listCommands();for(let r of n)if(r.id.startsWith("obsidian-mkdocs-publisher")){let a=r.id.replace("obsidian-mkdocs-publisher:",""),o=a.split("-")[a.split("-").length-1];o.startsWith("K")&&e.findIndex(c=>c.smartKey===o.replace("K",""))===-1&&this.app.commands.removeCommand(r.id),this.settings.upload.autoclean.enable||a==="publisher-delete-clean"&&(A({settings:this.settings},"Removing purge/clean commands"),this.app.commands.removeCommand(r.id))}}reloadCommands(e){return m(this,null,function*(){var i,s;A({settings:this.settings},"Reloading commands");let n=(s=(i=this.settings.github)==null?void 0:i.otherRepo)!=null?s:[];this.cleanOldCommands();for(let r of n)r.createShortcuts?yield this.chargeAllCommands(r,this,e):this.cleanSpecificCommands(r)})}loadToken(){return m(this,null,function*(){let e=Ut(this,this.settings.github.tokenPath);if(!(yield this.app.vault.adapter.exists(`${e}`)))return"";try{let i=yield this.app.vault.adapter.read(`${e}`);if(i)return i.split("=")[1]}catch(i){return _({settings:this.settings,e:!0},i),""}return""})}reloadOctokit(){return m(this,null,function*(){let e,n=this.settings.github.api,i=yield this.loadToken();return n.tiersForApi===xe.entreprise&&n.hostname.length>0?e=new hn({baseUrl:`${n.hostname}/api/v3`,auth:i}):e=new hn({auth:i}),new Ys(e,this)})}onload(){return m(this,null,function*(){console.info(`[GITHUB PUBLISHER] v.${this.manifest.version} (lang: ${tr}) loaded`),yield l.init({lng:tr,fallbackLng:"en",resources:er,returnNull:!1}),yield this.loadSettings();let e=this.settings;yield ji(e,this);let n=this.app.vault.getName().replaceAll(" ","-").replaceAll(".","-")+"-"+new Date().toLocaleDateString("en-US").replace(/\//g,"-");if(this.addSettingTab(new fr(this.app,this,n)),!this.settings.github.verifiedRepo&&(yield this.loadToken())!==""){let s=yield this.reloadOctokit();this.settings.github.verifiedRepo=yield Ue(s,null,null,!0),this.settings.github.rateLimit=yield _e(s.octokit,this.settings,!1),yield this.saveSettings()}this.registerEvent(this.app.workspace.on("file-menu",(s,r)=>{this.settings.plugin.fileMenu&&r instanceof rn.TFolder?mo(s,r,n,this):r instanceof rn.TFile&&ms(this,r,n,s)})),this.registerEvent(this.app.workspace.on("editor-menu",(s,r,a)=>{a.file&&ms(this,a.file,n,s)})),yield this.chargeAllCommands(null,this,n),this.addCommand({id:"check-rate-limit",name:l.t("commands.checkValidity.rateLimit.command"),callback:()=>m(this,null,function*(){let s=yield this.reloadOctokit();this.settings.github.rateLimit=yield _e(s.octokit,this.settings),yield this.saveSettings()})}),this.settings.github.otherRepo.length>0&&this.addCommand({id:"run-cmd-for-repo",name:l.t("commands.runOtherRepo.title"),callback:()=>m(this,null,function*(){new ps(this.app,this,n).open()})});let i=this.settings.github.otherRepo.filter(s=>s.createShortcuts);for(let s of i)yield this.chargeAllCommands(s,this,n)})}onunload(){console.info("[Github Publisher] unloaded")}loadSettings(){return m(this,null,function*(){this.settings=Object.assign({},va,yield this.loadData())})}saveSettings(){return m(this,null,function*(){yield this.saveData(this.settings)})}};0&&(module.exports={});
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/**
 * The majority of the code was taken from obsidian-easy-bake
 * @credit mgmeyers
 * @source https://github.com/mgmeyers/obsidian-easy-bake
 * @license GPL-3.0
 * Each function is modified to fit the needs of this plugin, but citation are done in the code for each function
 */
